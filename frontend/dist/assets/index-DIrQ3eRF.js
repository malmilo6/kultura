(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function hb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Fd={exports:{}},Sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function fb(){if(Q_)return Sl;Q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Sl.Fragment=e,Sl.jsx=n,Sl.jsxs=n,Sl}var Y_;function db(){return Y_||(Y_=1,Fd.exports=fb()),Fd.exports}var me=db();const be=r=>typeof r=="string",Al=()=>{let r,e;const n=new Promise((s,o)=>{r=s,e=o});return n.resolve=r,n.reject=e,n},X_=r=>r==null?"":""+r,mb=(r,e,n)=>{r.forEach(s=>{e[s]&&(n[s]=e[s])})},pb=/###/g,Z_=r=>r&&r.indexOf("###")>-1?r.replace(pb,"."):r,W_=r=>!r||be(r),Dl=(r,e,n)=>{const s=be(e)?e.split("."):e;let o=0;for(;o<s.length-1;){if(W_(r))return{};const u=Z_(s[o]);!r[u]&&n&&(r[u]=new n),Object.prototype.hasOwnProperty.call(r,u)?r=r[u]:r={},++o}return W_(r)?{}:{obj:r,k:Z_(s[o])}},J_=(r,e,n)=>{const{obj:s,k:o}=Dl(r,e,Object);if(s!==void 0||e.length===1){s[o]=n;return}let u=e[e.length-1],h=e.slice(0,e.length-1),m=Dl(r,h,Object);for(;m.obj===void 0&&h.length;)u=`${h[h.length-1]}.${u}`,h=h.slice(0,h.length-1),m=Dl(r,h,Object),m!=null&&m.obj&&typeof m.obj[`${m.k}.${u}`]<"u"&&(m.obj=void 0);m.obj[`${m.k}.${u}`]=n},gb=(r,e,n,s)=>{const{obj:o,k:u}=Dl(r,e,Object);o[u]=o[u]||[],o[u].push(n)},Yc=(r,e)=>{const{obj:n,k:s}=Dl(r,e);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},yb=(r,e,n)=>{const s=Yc(r,n);return s!==void 0?s:Yc(e,n)},XE=(r,e,n)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in r?be(r[s])||r[s]instanceof String||be(e[s])||e[s]instanceof String?n&&(r[s]=e[s]):XE(r[s],e[s],n):r[s]=e[s]);return r},ja=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const vb=r=>be(r)?r.replace(/[&<>"'\/]/g,e=>_b[e]):r;class Eb{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const Tb=[" ",",","?","!",";"],Sb=new Eb(20),Ab=(r,e,n)=>{e=e||"",n=n||"";const s=Tb.filter(h=>e.indexOf(h)<0&&n.indexOf(h)<0);if(s.length===0)return!0;const o=Sb.getRegExp(`(${s.map(h=>h==="?"?"\\?":h).join("|")})`);let u=!o.test(r);if(!u){const h=r.indexOf(n);h>0&&!o.test(r.substring(0,h))&&(u=!0)}return u},dm=(r,e,n=".")=>{if(!r)return;if(r[e])return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0;const s=e.split(n);let o=r;for(let u=0;u<s.length;){if(!o||typeof o!="object")return;let h,m="";for(let g=u;g<s.length;++g)if(g!==u&&(m+=n),m+=s[g],h=o[m],h!==void 0){if(["string","number","boolean"].indexOf(typeof h)>-1&&g<s.length-1)continue;u+=g-u+1;break}o=h}return o},kl=r=>r==null?void 0:r.replace("_","-"),bb={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,e){var n,s;(s=(n=console==null?void 0:console[r])==null?void 0:n.apply)==null||s.call(n,console,e)}};let wb=class mm{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||bb,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,s,o){return o&&!this.debug?null:(be(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new mm(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new mm(this.logger,e)}};var ui=new wb;class yh{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const o=this.observers[s].get(n)||0;this.observers[s].set(n,o+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([o,u])=>{for(let h=0;h<u;h++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,u])=>{for(let h=0;h<u;h++)o.apply(o,[e,...n])})}}class ev extends yh{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,s,o={}){var p,_;const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,h=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let m;e.indexOf(".")>-1?m=e.split("."):(m=[e,n],s&&(Array.isArray(s)?m.push(...s):be(s)&&u?m.push(...s.split(u)):m.push(s)));const g=Yc(this.data,m);return!g&&!n&&!s&&e.indexOf(".")>-1&&(e=m[0],n=m[1],s=m.slice(2).join(".")),g||!h||!be(s)?g:dm((_=(p=this.data)==null?void 0:p[e])==null?void 0:_[n],s,u)}addResource(e,n,s,o,u={silent:!1}){const h=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator;let m=[e,n];s&&(m=m.concat(h?s.split(h):s)),e.indexOf(".")>-1&&(m=e.split("."),o=n,n=m[1]),this.addNamespaces(n),J_(this.data,m,o),u.silent||this.emit("added",e,n,s,o)}addResources(e,n,s,o={silent:!1}){for(const u in s)(be(s[u])||Array.isArray(s[u]))&&this.addResource(e,n,u,s[u],{silent:!0});o.silent||this.emit("added",e,n,s)}addResourceBundle(e,n,s,o,u,h={silent:!1,skipCopy:!1}){let m=[e,n];e.indexOf(".")>-1&&(m=e.split("."),o=s,s=n,n=m[1]),this.addNamespaces(n);let g=Yc(this.data,m)||{};h.skipCopy||(s=JSON.parse(JSON.stringify(s))),o?XE(g,s,u):g={...g,...s},J_(this.data,m,g),h.silent||this.emit("added",e,n,s)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var ZE={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,e,n,s,o){return r.forEach(u=>{var h;e=((h=this.processors[u])==null?void 0:h.process(e,n,s,o))??e}),e}};const tv={},nv=r=>!be(r)&&typeof r!="boolean"&&typeof r!="number";class Xc extends yh{constructor(e,n={}){super(),mb(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ui.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const s={...n};if(e==null)return!1;const o=this.resolve(e,s);return(o==null?void 0:o.res)!==void 0}extractFromKey(e,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let u=n.ns||this.options.defaultNS||[];const h=s&&e.indexOf(s)>-1,m=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Ab(e,s,o);if(h&&!m){const g=e.match(this.interpolator.nestingRegexp);if(g&&g.length>0)return{key:e,namespaces:be(u)?[u]:u};const p=e.split(s);(s!==o||s===o&&this.options.ns.indexOf(p[0])>-1)&&(u=p.shift()),e=p.join(o)}return{key:e,namespaces:be(u)?[u]:u}}translate(e,n,s){let o=typeof n=="object"?{...n}:n;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(o={...o}),o||(o={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const u=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,h=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:m,namespaces:g}=this.extractFromKey(e[e.length-1],o),p=g[g.length-1];let _=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;_===void 0&&(_=":");const T=o.lng||this.language,A=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((T==null?void 0:T.toLowerCase())==="cimode")return A?u?{res:`${p}${_}${m}`,usedKey:m,exactUsedKey:m,usedLng:T,usedNS:p,usedParams:this.getUsedParamsDetails(o)}:`${p}${_}${m}`:u?{res:m,usedKey:m,exactUsedKey:m,usedLng:T,usedNS:p,usedParams:this.getUsedParamsDetails(o)}:m;const I=this.resolve(e,o);let O=I==null?void 0:I.res;const q=(I==null?void 0:I.usedKey)||m,B=(I==null?void 0:I.exactUsedKey)||m,K=["[object Number]","[object Function]","[object RegExp]"],ne=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,ee=!this.i18nFormat||this.i18nFormat.handleAsObject,le=o.count!==void 0&&!be(o.count),oe=Xc.hasDefaultValue(o),Se=le?this.pluralResolver.getSuffix(T,o.count,o):"",x=o.ordinal&&le?this.pluralResolver.getSuffix(T,o.count,{ordinal:!1}):"",R=le&&!o.ordinal&&o.count===0,w=R&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${Se}`]||o[`defaultValue${x}`]||o.defaultValue;let N=O;ee&&!O&&oe&&(N=w);const M=nv(N),L=Object.prototype.toString.apply(N);if(ee&&N&&M&&K.indexOf(L)<0&&!(be(ne)&&Array.isArray(N))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(q,N,{...o,ns:g}):`key '${m} (${this.language})' returned an object instead of string.`;return u?(I.res=C,I.usedParams=this.getUsedParamsDetails(o),I):C}if(h){const C=Array.isArray(N),Oe=C?[]:{},We=C?B:q;for(const $ in N)if(Object.prototype.hasOwnProperty.call(N,$)){const ie=`${We}${h}${$}`;oe&&!O?Oe[$]=this.translate(ie,{...o,defaultValue:nv(w)?w[$]:void 0,joinArrays:!1,ns:g}):Oe[$]=this.translate(ie,{...o,joinArrays:!1,ns:g}),Oe[$]===ie&&(Oe[$]=N[$])}O=Oe}}else if(ee&&be(ne)&&Array.isArray(O))O=O.join(ne),O&&(O=this.extendTranslation(O,e,o,s));else{let C=!1,Oe=!1;!this.isValidLookup(O)&&oe&&(C=!0,O=w),this.isValidLookup(O)||(Oe=!0,O=m);const $=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Oe?void 0:O,ie=oe&&w!==O&&this.options.updateMissing;if(Oe||C||ie){if(this.logger.log(ie?"updateKey":"missingKey",T,p,m,ie?w:O),h){const X=this.resolve(m,{...o,keySeparator:!1});X&&X.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let fe=[];const Me=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Me&&Me[0])for(let X=0;X<Me.length;X++)fe.push(Me[X]);else this.options.saveMissingTo==="all"?fe=this.languageUtils.toResolveHierarchy(o.lng||this.language):fe.push(o.lng||this.language);const V=(X,ae,se)=>{var De;const de=oe&&se!==O?se:$;this.options.missingKeyHandler?this.options.missingKeyHandler(X,p,ae,de,ie,o):(De=this.backendConnector)!=null&&De.saveMissing&&this.backendConnector.saveMissing(X,p,ae,de,ie,o),this.emit("missingKey",X,p,ae,O)};this.options.saveMissing&&(this.options.saveMissingPlurals&&le?fe.forEach(X=>{const ae=this.pluralResolver.getSuffixes(X,o);R&&o[`defaultValue${this.options.pluralSeparator}zero`]&&ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&ae.push(`${this.options.pluralSeparator}zero`),ae.forEach(se=>{V([X],m+se,o[`defaultValue${se}`]||w)})}):V(fe,m,w))}O=this.extendTranslation(O,e,o,I,s),Oe&&O===m&&this.options.appendNamespaceToMissingKey&&(O=`${p}${_}${m}`),(Oe||C)&&this.options.parseMissingKeyHandler&&(O=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${_}${m}`:m,C?O:void 0,o))}return u?(I.res=O,I.usedParams=this.getUsedParamsDetails(o),I):O}extendTranslation(e,n,s,o,u){var g,p;if((g=this.i18nFormat)!=null&&g.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const _=be(e)&&(((p=s==null?void 0:s.interpolation)==null?void 0:p.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let T;if(_){const I=e.match(this.interpolator.nestingRegexp);T=I&&I.length}let A=s.replace&&!be(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(A={...this.options.interpolation.defaultVariables,...A}),e=this.interpolator.interpolate(e,A,s.lng||this.language||o.usedLng,s),_){const I=e.match(this.interpolator.nestingRegexp),O=I&&I.length;T<O&&(s.nest=!1)}!s.lng&&o&&o.res&&(s.lng=this.language||o.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...I)=>(u==null?void 0:u[0])===I[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${I[0]} in key: ${n[0]}`),null):this.translate(...I,n),s)),s.interpolation&&this.interpolator.reset()}const h=s.postProcess||this.options.postProcess,m=be(h)?[h]:h;return e!=null&&(m!=null&&m.length)&&s.applyPostProcessor!==!1&&(e=ZE.handle(m,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,n={}){let s,o,u,h,m;return be(e)&&(e=[e]),e.forEach(g=>{if(this.isValidLookup(s))return;const p=this.extractFromKey(g,n),_=p.key;o=_;let T=p.namespaces;this.options.fallbackNS&&(T=T.concat(this.options.fallbackNS));const A=n.count!==void 0&&!be(n.count),I=A&&!n.ordinal&&n.count===0,O=n.context!==void 0&&(be(n.context)||typeof n.context=="number")&&n.context!=="",q=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);T.forEach(B=>{var K,ne;this.isValidLookup(s)||(m=B,!tv[`${q[0]}-${B}`]&&((K=this.utils)!=null&&K.hasLoadedNamespace)&&!((ne=this.utils)!=null&&ne.hasLoadedNamespace(m))&&(tv[`${q[0]}-${B}`]=!0,this.logger.warn(`key "${o}" for languages "${q.join(", ")}" won't get resolved as namespace "${m}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),q.forEach(ee=>{var Se;if(this.isValidLookup(s))return;h=ee;const le=[_];if((Se=this.i18nFormat)!=null&&Se.addLookupKeys)this.i18nFormat.addLookupKeys(le,_,ee,B,n);else{let x;A&&(x=this.pluralResolver.getSuffix(ee,n.count,n));const R=`${this.options.pluralSeparator}zero`,w=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(A&&(le.push(_+x),n.ordinal&&x.indexOf(w)===0&&le.push(_+x.replace(w,this.options.pluralSeparator)),I&&le.push(_+R)),O){const N=`${_}${this.options.contextSeparator}${n.context}`;le.push(N),A&&(le.push(N+x),n.ordinal&&x.indexOf(w)===0&&le.push(N+x.replace(w,this.options.pluralSeparator)),I&&le.push(N+R))}}let oe;for(;oe=le.pop();)this.isValidLookup(s)||(u=oe,s=this.getResource(ee,B,oe,n))}))})}),{res:s,usedKey:o,exactUsedKey:u,usedLng:h,usedNS:m}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,s,o={}){var u;return(u=this.i18nFormat)!=null&&u.getResource?this.i18nFormat.getResource(e,n,s,o):this.resourceStore.getResource(e,n,s,o)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!be(e.replace);let o=s?e.replace:e;if(s&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!s){o={...o};for(const u of n)delete o[u]}return o}static hasDefaultValue(e){const n="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&n===s.substring(0,n.length)&&e[s]!==void 0)return!0;return!1}}class iv{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ui.create("languageUtils")}getScriptPartFromCode(e){if(e=kl(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=kl(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(be(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(s=>{if(n)return;const o=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&e.forEach(s=>{if(n)return;const o=this.getScriptPartFromCode(s);if(this.isSupportedCode(o))return n=o;const u=this.getLanguagePartFromCode(s);if(this.isSupportedCode(u))return n=u;n=this.options.supportedLngs.find(h=>{if(h===u)return h;if(!(h.indexOf("-")<0&&u.indexOf("-")<0)&&(h.indexOf("-")>0&&u.indexOf("-")<0&&h.substring(0,h.indexOf("-"))===u||h.indexOf(u)===0&&u.length>1))return h})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),be(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let s=e[n];return s||(s=e[this.getScriptPartFromCode(n)]),s||(s=e[this.formatLanguageCode(n)]),s||(s=e[this.getLanguagePartFromCode(n)]),s||(s=e.default),s||[]}toResolveHierarchy(e,n){const s=this.getFallbackCodes(n||this.options.fallbackLng||[],e),o=[],u=h=>{h&&(this.isSupportedCode(h)?o.push(h):this.logger.warn(`rejecting language code not found in supportedLngs: ${h}`))};return be(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&u(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&u(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&u(this.getLanguagePartFromCode(e))):be(e)&&u(this.formatLanguageCode(e)),s.forEach(h=>{o.indexOf(h)<0&&u(this.formatLanguageCode(h))}),o}}const rv={zero:0,one:1,two:2,few:3,many:4,other:5},sv={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Rb{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=ui.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const s=kl(e==="dev"?"en":e),o=n.ordinal?"ordinal":"cardinal",u=JSON.stringify({cleanedCode:s,type:o});if(u in this.pluralRulesCache)return this.pluralRulesCache[u];let h;try{h=new Intl.PluralRules(s,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),sv;if(!e.match(/-|_/))return sv;const g=this.languageUtils.getLanguagePartFromCode(e);h=this.getRule(g,n)}return this.pluralRulesCache[u]=h,h}needsPlural(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),(s==null?void 0:s.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,s={}){return this.getSuffixes(e,s).map(o=>`${n}${o}`)}getSuffixes(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((o,u)=>rv[o]-rv[u]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,n,s={}){const o=this.getRule(e,s);return o?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,s))}}const av=(r,e,n,s=".",o=!0)=>{let u=yb(r,e,n);return!u&&o&&be(n)&&(u=dm(r,n,s),u===void 0&&(u=dm(e,n,s))),u},Gd=r=>r.replace(/\$/g,"$$$$");class Cb{constructor(e={}){var n;this.logger=ui.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(s=>s),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:o,prefix:u,prefixEscaped:h,suffix:m,suffixEscaped:g,formatSeparator:p,unescapeSuffix:_,unescapePrefix:T,nestingPrefix:A,nestingPrefixEscaped:I,nestingSuffix:O,nestingSuffixEscaped:q,nestingOptionsSeparator:B,maxReplaces:K,alwaysFormat:ne}=e.interpolation;this.escape=n!==void 0?n:vb,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=u?ja(u):h||"{{",this.suffix=m?ja(m):g||"}}",this.formatSeparator=p||",",this.unescapePrefix=_?"":T||"-",this.unescapeSuffix=this.unescapePrefix?"":_||"",this.nestingPrefix=A?ja(A):I||ja("$t("),this.nestingSuffix=O?ja(O):q||ja(")"),this.nestingOptionsSeparator=B||",",this.maxReplaces=K||1e3,this.alwaysFormat=ne!==void 0?ne:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,s)=>(n==null?void 0:n.source)===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,s,o){var I;let u,h,m;const g=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=O=>{if(O.indexOf(this.formatSeparator)<0){const ne=av(n,g,O,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(ne,void 0,s,{...o,...n,interpolationkey:O}):ne}const q=O.split(this.formatSeparator),B=q.shift().trim(),K=q.join(this.formatSeparator).trim();return this.format(av(n,g,B,this.options.keySeparator,this.options.ignoreJSONStructure),K,s,{...o,...n,interpolationkey:B})};this.resetRegExp();const _=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,T=((I=o==null?void 0:o.interpolation)==null?void 0:I.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:O=>Gd(O)},{regex:this.regexp,safeValue:O=>this.escapeValue?Gd(this.escape(O)):Gd(O)}].forEach(O=>{for(m=0;u=O.regex.exec(e);){const q=u[1].trim();if(h=p(q),h===void 0)if(typeof _=="function"){const K=_(e,u,o);h=be(K)?K:""}else if(o&&Object.prototype.hasOwnProperty.call(o,q))h="";else if(T){h=u[0];continue}else this.logger.warn(`missed to pass in variable ${q} for interpolating ${e}`),h="";else!be(h)&&!this.useRawValueToEscape&&(h=X_(h));const B=O.safeValue(h);if(e=e.replace(u[0],B),T?(O.regex.lastIndex+=h.length,O.regex.lastIndex-=u[0].length):O.regex.lastIndex=0,m++,m>=this.maxReplaces)break}}),e}nest(e,n,s={}){let o,u,h;const m=(g,p)=>{const _=this.nestingOptionsSeparator;if(g.indexOf(_)<0)return g;const T=g.split(new RegExp(`${_}[ ]*{`));let A=`{${T[1]}`;g=T[0],A=this.interpolate(A,h);const I=A.match(/'/g),O=A.match(/"/g);(((I==null?void 0:I.length)??0)%2===0&&!O||O.length%2!==0)&&(A=A.replace(/'/g,'"'));try{h=JSON.parse(A),p&&(h={...p,...h})}catch(q){return this.logger.warn(`failed parsing options string in nesting for key ${g}`,q),`${g}${_}${A}`}return h.defaultValue&&h.defaultValue.indexOf(this.prefix)>-1&&delete h.defaultValue,g};for(;o=this.nestingRegexp.exec(e);){let g=[];h={...s},h=h.replace&&!be(h.replace)?h.replace:h,h.applyPostProcessor=!1,delete h.defaultValue;let p=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const _=o[1].split(this.formatSeparator).map(T=>T.trim());o[1]=_.shift(),g=_,p=!0}if(u=n(m.call(this,o[1].trim(),h),h),u&&o[0]===e&&!be(u))return u;be(u)||(u=X_(u)),u||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),u=""),p&&(u=g.reduce((_,T)=>this.format(_,T,s.lng,{...s,interpolationkey:o[1].trim()}),u.trim())),e=e.replace(o[0],u),this.regexp.lastIndex=0}return e}}const Ib=r=>{let e=r.toLowerCase().trim();const n={};if(r.indexOf("(")>-1){const s=r.split("(");e=s[0].toLowerCase().trim();const o=s[1].substring(0,s[1].length-1);e==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(h=>{if(h){const[m,...g]=h.split(":"),p=g.join(":").trim().replace(/^'+|'+$/g,""),_=m.trim();n[_]||(n[_]=p),p==="false"&&(n[_]=!1),p==="true"&&(n[_]=!0),isNaN(p)||(n[_]=parseInt(p,10))}})}return{formatName:e,formatOptions:n}},ov=r=>{const e={};return(n,s,o)=>{let u=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(u={...u,[o.interpolationkey]:void 0});const h=s+JSON.stringify(u);let m=e[h];return m||(m=r(kl(s),o),e[h]=m),m(n)}},Ob=r=>(e,n,s)=>r(kl(n),s)(e);class Db{constructor(e={}){this.logger=ui.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?ov:Ob;this.formats={number:s((o,u)=>{const h=new Intl.NumberFormat(o,{...u});return m=>h.format(m)}),currency:s((o,u)=>{const h=new Intl.NumberFormat(o,{...u,style:"currency"});return m=>h.format(m)}),datetime:s((o,u)=>{const h=new Intl.DateTimeFormat(o,{...u});return m=>h.format(m)}),relativetime:s((o,u)=>{const h=new Intl.RelativeTimeFormat(o,{...u});return m=>h.format(m,u.range||"day")}),list:s((o,u)=>{const h=new Intl.ListFormat(o,{...u});return m=>h.format(m)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=ov(n)}format(e,n,s,o={}){const u=n.split(this.formatSeparator);if(u.length>1&&u[0].indexOf("(")>1&&u[0].indexOf(")")<0&&u.find(m=>m.indexOf(")")>-1)){const m=u.findIndex(g=>g.indexOf(")")>-1);u[0]=[u[0],...u.splice(1,m)].join(this.formatSeparator)}return u.reduce((m,g)=>{var T;const{formatName:p,formatOptions:_}=Ib(g);if(this.formats[p]){let A=m;try{const I=((T=o==null?void 0:o.formatParams)==null?void 0:T[o.interpolationkey])||{},O=I.locale||I.lng||o.locale||o.lng||s;A=this.formats[p](m,O,{..._,...o,...I})}catch(I){this.logger.warn(I)}return A}else this.logger.warn(`there was no format function for ${p}`);return m},e)}}const Nb=(r,e)=>{r.pending[e]!==void 0&&(delete r.pending[e],r.pendingCount--)};class xb extends yh{constructor(e,n,s,o={}){var u,h;super(),this.backend=e,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=o,this.logger=ui.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(h=(u=this.backend)==null?void 0:u.init)==null||h.call(u,s,o.backend,o)}queueLoad(e,n,s,o){const u={},h={},m={},g={};return e.forEach(p=>{let _=!0;n.forEach(T=>{const A=`${p}|${T}`;!s.reload&&this.store.hasResourceBundle(p,T)?this.state[A]=2:this.state[A]<0||(this.state[A]===1?h[A]===void 0&&(h[A]=!0):(this.state[A]=1,_=!1,h[A]===void 0&&(h[A]=!0),u[A]===void 0&&(u[A]=!0),g[T]===void 0&&(g[T]=!0)))}),_||(m[p]=!0)}),(Object.keys(u).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(u),pending:Object.keys(h),toLoadLanguages:Object.keys(m),toLoadNamespaces:Object.keys(g)}}loaded(e,n,s){const o=e.split("|"),u=o[0],h=o[1];n&&this.emit("failedLoading",u,h,n),!n&&s&&this.store.addResourceBundle(u,h,s,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&s&&(this.state[e]=0);const m={};this.queue.forEach(g=>{gb(g.loaded,[u],h),Nb(g,e),n&&g.errors.push(n),g.pendingCount===0&&!g.done&&(Object.keys(g.loaded).forEach(p=>{m[p]||(m[p]={});const _=g.loaded[p];_.length&&_.forEach(T=>{m[p][T]===void 0&&(m[p][T]=!0)})}),g.done=!0,g.errors.length?g.callback(g.errors):g.callback())}),this.emit("loaded",m),this.queue=this.queue.filter(g=>!g.done)}read(e,n,s,o=0,u=this.retryTimeout,h){if(!e.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:s,tried:o,wait:u,callback:h});return}this.readingCalls++;const m=(p,_)=>{if(this.readingCalls--,this.waitingReads.length>0){const T=this.waitingReads.shift();this.read(T.lng,T.ns,T.fcName,T.tried,T.wait,T.callback)}if(p&&_&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,s,o+1,u*2,h)},u);return}h(p,_)},g=this.backend[s].bind(this.backend);if(g.length===2){try{const p=g(e,n);p&&typeof p.then=="function"?p.then(_=>m(null,_)).catch(m):m(null,p)}catch(p){m(p)}return}return g(e,n,m)}prepareLoading(e,n,s={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();be(e)&&(e=this.languageUtils.toResolveHierarchy(e)),be(n)&&(n=[n]);const u=this.queueLoad(e,n,s,o);if(!u.toLoad.length)return u.pending.length||o(),null;u.toLoad.forEach(h=>{this.loadOne(h)})}load(e,n,s){this.prepareLoading(e,n,{},s)}reload(e,n,s){this.prepareLoading(e,n,{reload:!0},s)}loadOne(e,n=""){const s=e.split("|"),o=s[0],u=s[1];this.read(o,u,"read",void 0,void 0,(h,m)=>{h&&this.logger.warn(`${n}loading namespace ${u} for language ${o} failed`,h),!h&&m&&this.logger.log(`${n}loaded namespace ${u} for language ${o}`,m),this.loaded(e,h,m)})}saveMissing(e,n,s,o,u,h={},m=()=>{}){var g,p,_,T,A;if((p=(g=this.services)==null?void 0:g.utils)!=null&&p.hasLoadedNamespace&&!((T=(_=this.services)==null?void 0:_.utils)!=null&&T.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if((A=this.backend)!=null&&A.create){const I={...h,isUpdate:u},O=this.backend.create.bind(this.backend);if(O.length<6)try{let q;O.length===5?q=O(e,n,s,o,I):q=O(e,n,s,o),q&&typeof q.then=="function"?q.then(B=>m(null,B)).catch(m):m(null,q)}catch(q){m(q)}else O(e,n,s,o,m,I)}!e||!e[0]||this.store.addResource(e[0],n,s,o)}}}const lv=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let e={};if(typeof r[1]=="object"&&(e=r[1]),be(r[1])&&(e.defaultValue=r[1]),be(r[2])&&(e.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const n=r[3]||r[2];Object.keys(n).forEach(s=>{e[s]=n[s]})}return e},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),uv=r=>{var e,n;return be(r.ns)&&(r.ns=[r.ns]),be(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),be(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),((n=(e=r.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r},Ic=()=>{},Mb=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(n=>{typeof r[n]=="function"&&(r[n]=r[n].bind(r))})};class Ul extends yh{constructor(e={},n){if(super(),this.options=uv(e),this.services={},this.logger=ui,this.modules={external:[]},Mb(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(be(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=lv();this.options={...s,...this.options,...uv(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const o=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?ui.init(o(this.modules.logger),this.options):ui.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=Db;const _=new iv(this.options);this.store=new ev(this.options.resources,this.options);const T=this.services;T.logger=ui,T.resourceStore=this.store,T.languageUtils=_,T.pluralResolver=new Rb(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(T.formatter=o(p),T.formatter.init(T,this.options),this.options.interpolation.format=T.formatter.format.bind(T.formatter)),T.interpolator=new Cb(this.options),T.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},T.backendConnector=new xb(o(this.modules.backend),T.resourceStore,T,this.options),T.backendConnector.on("*",(A,...I)=>{this.emit(A,...I)}),this.modules.languageDetector&&(T.languageDetector=o(this.modules.languageDetector),T.languageDetector.init&&T.languageDetector.init(T,this.options.detection,this.options)),this.modules.i18nFormat&&(T.i18nFormat=o(this.modules.i18nFormat),T.i18nFormat.init&&T.i18nFormat.init(this)),this.translator=new Xc(this.services,this.options),this.translator.on("*",(A,...I)=>{this.emit(A,...I)}),this.modules.external.forEach(A=>{A.init&&A.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ic),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(..._)=>this.store[p](..._)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(..._)=>(this.store[p](..._),this)});const m=Al(),g=()=>{const p=(_,T)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),m.resolve(T),n(_,T)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?g():setTimeout(g,0),m}loadResources(e,n=Ic){var u,h;let s=n;const o=be(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const m=[],g=p=>{if(!p||p==="cimode")return;this.services.languageUtils.toResolveHierarchy(p).forEach(T=>{T!=="cimode"&&m.indexOf(T)<0&&m.push(T)})};o?g(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(_=>g(_)),(h=(u=this.options.preload)==null?void 0:u.forEach)==null||h.call(u,p=>g(p)),this.services.backendConnector.load(m,this.options.ns,p=>{!p&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(p)})}else s(null)}reloadResources(e,n,s){const o=Al();return typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),s||(s=Ic),this.services.backendConnector.reload(e,n,u=>{o.resolve(),s(u)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ZE.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const s=Al();this.emit("languageChanging",e);const o=m=>{this.language=m,this.languages=this.services.languageUtils.toResolveHierarchy(m),this.resolvedLanguage=void 0,this.setResolvedLanguage(m)},u=(m,g)=>{g?this.isLanguageChangingTo===e&&(o(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,s.resolve((...p)=>this.t(...p)),n&&n(m,(...p)=>this.t(...p))},h=m=>{var _,T;!e&&!m&&this.services.languageDetector&&(m=[]);const g=be(m)?m:m&&m[0],p=this.store.hasLanguageSomeTranslations(g)?g:this.services.languageUtils.getBestMatchFromCodes(be(m)?[m]:m);p&&(this.language||o(p),this.translator.language||this.translator.changeLanguage(p),(T=(_=this.services.languageDetector)==null?void 0:_.cacheUserLanguage)==null||T.call(_,p)),this.loadResources(p,A=>{u(A,p)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(e),s}getFixedT(e,n,s){const o=(u,h,...m)=>{let g;typeof h!="object"?g=this.options.overloadTranslationOptionHandler([u,h].concat(m)):g={...h},g.lng=g.lng||o.lng,g.lngs=g.lngs||o.lngs,g.ns=g.ns||o.ns,g.keyPrefix!==""&&(g.keyPrefix=g.keyPrefix||s||o.keyPrefix);const p=this.options.keySeparator||".";let _;return g.keyPrefix&&Array.isArray(u)?_=u.map(T=>`${g.keyPrefix}${p}${T}`):_=g.keyPrefix?`${g.keyPrefix}${p}${u}`:u,this.t(_,g)};return be(e)?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=s,o}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const h=(m,g)=>{const p=this.services.backendConnector.state[`${m}|${g}`];return p===-1||p===0||p===2};if(n.precheck){const m=n.precheck(this,h);if(m!==void 0)return m}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(s,e)&&(!o||h(u,e)))}loadNamespaces(e,n){const s=Al();return this.options.ns?(be(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{s.resolve(),n&&n(o)}),s):(n&&n(),Promise.resolve())}loadLanguages(e,n){const s=Al();be(e)&&(e=[e]);const o=this.options.preload||[],u=e.filter(h=>o.indexOf(h)<0&&this.services.languageUtils.isSupportedCode(h));return u.length?(this.options.preload=o.concat(u),this.loadResources(h=>{s.resolve(),n&&n(h)}),s):(n&&n(),Promise.resolve())}dir(e){var o,u;if(e||(e=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=((u=this.services)==null?void 0:u.languageUtils)||new iv(lv());return n.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Ul(e,n)}cloneInstance(e={},n=Ic){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},u=new Ul(o);if((e.debug!==void 0||e.prefix!==void 0)&&(u.logger=u.logger.clone(e)),["store","services","language"].forEach(m=>{u[m]=this[m]}),u.services={...this.services},u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},s){const m=Object.keys(this.store.data).reduce((g,p)=>(g[p]={...this.store.data[p]},g[p]=Object.keys(g[p]).reduce((_,T)=>(_[T]={...g[p][T]},_),g[p]),g),{});u.store=new ev(m,o),u.services.resourceStore=u.store}return u.translator=new Xc(u.services,o),u.translator.on("*",(m,...g)=>{u.emit(m,...g)}),u.init(o,n),u.translator.options=o,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Jt=Ul.createInstance();Jt.createInstance=Ul.createInstance;Jt.createInstance;Jt.dir;Jt.init;Jt.loadResources;Jt.reloadResources;Jt.use;Jt.changeLanguage;Jt.getFixedT;Jt.t;Jt.exists;Jt.setDefaultNamespace;Jt.hasLoadedNamespace;Jt.loadNamespaces;Jt.loadLanguages;var $d={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function Vb(){if(cv)return Ie;cv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,q={};function B(V,X,ae){this.props=V,this.context=X,this.refs=q,this.updater=ae||I}B.prototype.isReactComponent={},B.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},B.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function K(){}K.prototype=B.prototype;function ne(V,X,ae){this.props=V,this.context=X,this.refs=q,this.updater=ae||I}var ee=ne.prototype=new K;ee.constructor=ne,O(ee,B.prototype),ee.isPureReactComponent=!0;var le=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},Se=Object.prototype.hasOwnProperty;function x(V,X,ae,se,de,De){return ae=De.ref,{$$typeof:r,type:V,key:X,ref:ae!==void 0?ae:null,props:De}}function R(V,X){return x(V.type,X,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function N(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return X[ae]})}var M=/\/+/g;function L(V,X){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):X.toString(36)}function C(){}function Oe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function We(V,X,ae,se,de){var De=typeof V;(De==="undefined"||De==="boolean")&&(V=null);var Ee=!1;if(V===null)Ee=!0;else switch(De){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(V.$$typeof){case r:case e:Ee=!0;break;case _:return Ee=V._init,We(Ee(V._payload),X,ae,se,de)}}if(Ee)return de=de(V),Ee=se===""?"."+L(V,0):se,le(de)?(ae="",Ee!=null&&(ae=Ee.replace(M,"$&/")+"/"),We(de,X,ae,"",function(Pn){return Pn})):de!=null&&(w(de)&&(de=R(de,ae+(de.key==null||V&&V.key===de.key?"":(""+de.key).replace(M,"$&/")+"/")+Ee)),X.push(de)),1;Ee=0;var Pt=se===""?".":se+":";if(le(V))for(var Ke=0;Ke<V.length;Ke++)se=V[Ke],De=Pt+L(se,Ke),Ee+=We(se,X,ae,De,de);else if(Ke=A(V),typeof Ke=="function")for(V=Ke.call(V),Ke=0;!(se=V.next()).done;)se=se.value,De=Pt+L(se,Ke++),Ee+=We(se,X,ae,De,de);else if(De==="object"){if(typeof V.then=="function")return We(Oe(V),X,ae,se,de);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function $(V,X,ae){if(V==null)return V;var se=[],de=0;return We(V,se,"","",function(De){return X.call(ae,De,de++)}),se}function ie(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var fe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Me(){}return Ie.Children={map:$,forEach:function(V,X,ae){$(V,function(){X.apply(this,arguments)},ae)},count:function(V){var X=0;return $(V,function(){X++}),X},toArray:function(V){return $(V,function(X){return X})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ie.Component=B,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=ne,Ie.StrictMode=s,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(V){return oe.H.useMemoCache(V)}},Ie.cache=function(V){return function(){return V.apply(null,arguments)}},Ie.cloneElement=function(V,X,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var se=O({},V.props),de=V.key,De=void 0;if(X!=null)for(Ee in X.ref!==void 0&&(De=void 0),X.key!==void 0&&(de=""+X.key),X)!Se.call(X,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&X.ref===void 0||(se[Ee]=X[Ee]);var Ee=arguments.length-2;if(Ee===1)se.children=ae;else if(1<Ee){for(var Pt=Array(Ee),Ke=0;Ke<Ee;Ke++)Pt[Ke]=arguments[Ke+2];se.children=Pt}return x(V.type,de,void 0,void 0,De,se)},Ie.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ie.createElement=function(V,X,ae){var se,de={},De=null;if(X!=null)for(se in X.key!==void 0&&(De=""+X.key),X)Se.call(X,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(de[se]=X[se]);var Ee=arguments.length-2;if(Ee===1)de.children=ae;else if(1<Ee){for(var Pt=Array(Ee),Ke=0;Ke<Ee;Ke++)Pt[Ke]=arguments[Ke+2];de.children=Pt}if(V&&V.defaultProps)for(se in Ee=V.defaultProps,Ee)de[se]===void 0&&(de[se]=Ee[se]);return x(V,De,void 0,void 0,null,de)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:m,render:V}},Ie.isValidElement=w,Ie.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:ie}},Ie.memo=function(V,X){return{$$typeof:p,type:V,compare:X===void 0?null:X}},Ie.startTransition=function(V){var X=oe.T,ae={};oe.T=ae;try{var se=V(),de=oe.S;de!==null&&de(ae,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Me,fe)}catch(De){fe(De)}finally{oe.T=X}},Ie.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ie.use=function(V){return oe.H.use(V)},Ie.useActionState=function(V,X,ae){return oe.H.useActionState(V,X,ae)},Ie.useCallback=function(V,X){return oe.H.useCallback(V,X)},Ie.useContext=function(V){return oe.H.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V,X){return oe.H.useDeferredValue(V,X)},Ie.useEffect=function(V,X,ae){var se=oe.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(V,X)},Ie.useId=function(){return oe.H.useId()},Ie.useImperativeHandle=function(V,X,ae){return oe.H.useImperativeHandle(V,X,ae)},Ie.useInsertionEffect=function(V,X){return oe.H.useInsertionEffect(V,X)},Ie.useLayoutEffect=function(V,X){return oe.H.useLayoutEffect(V,X)},Ie.useMemo=function(V,X){return oe.H.useMemo(V,X)},Ie.useOptimistic=function(V,X){return oe.H.useOptimistic(V,X)},Ie.useReducer=function(V,X,ae){return oe.H.useReducer(V,X,ae)},Ie.useRef=function(V){return oe.H.useRef(V)},Ie.useState=function(V){return oe.H.useState(V)},Ie.useSyncExternalStore=function(V,X,ae){return oe.H.useSyncExternalStore(V,X,ae)},Ie.useTransition=function(){return oe.H.useTransition()},Ie.version="19.1.0",Ie}var hv;function qm(){return hv||(hv=1,$d.exports=Vb()),$d.exports}var Q=qm();const Pb=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Lb={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},kb=r=>Lb[r],Ub=r=>r.replace(Pb,kb);let fv={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ub};const zb=(r={})=>{fv={...fv,...r}},Bb={type:"3rdParty",init(r){zb(r.options.react)}},jb={about:"About",location:"Location",hotels:"Hotels",contact:"Contacts"},Hb={participant:"Become a participant",ticket:"Buy ticket"},qb={subtitle:"An open-air, exhibition-style auto-festival",title:"MOLDOVA AUTO<br/>WEEKEND FESTIVAL",date:"9-10 AUGUST 2025  ARENA CHIINU, MOLDOVA"},Fb={ticket:{title:"Tickets",btn:"Buy ticket",date:"August",arena:"Arena Chiinu, Moldova"},participant:{title:"Become a participant",subtitle:"Exhibition registration",btn:"Register"}},Gb={title:"About festival",brand:"KULTURA Auto Festival",intro:" is an open-air exhibition-format car festival that brings together only iconic vehicles. It celebrates stylish cars, graffiti and urban culture  a two-day event under the open sky.",cards:{expo:"Exhibition",battle:"Car battles",graffiti:"Graffiti",partners:"Partner zones",dj:"DJ",food:"Food court"},ribbon:"9-10 AUGUST 2025  ARENA CHIINU, MOLDOVA  "},$b="Location",Kb={hotels:"Hotels",partner:"Looking for a partner/sponsor!",about:"Book your stay at these hotels with a special discount using our promo code KULTURA. Enjoy comfort and great savings! You can contact us via Viber, WhatsApp, Telegram, or simply give us a call.",hotel:"Your hotel",book:"Book hotel",contact:"Contact us"},Qb={title:"Contacts",labels:{registration:"Participant registration",commercial:"Commercial enquiries",transnistria:"For Transnistria",email:"Email"},form:{title:`Still have questions?
Fill out the form below`,fields:{name:"Name",phone:"Phone number",email:"Email",message:"Message"},ph:{name:"Your name",phone:"+373 ___ ___ ___",email:"you@mail.com",message:"Your question"},submit:"Send",sending:"Sending"},toast:{ok:"Thank you! We will contact you shortly.",fail:"Send error: {{err}}"}},Yb="Partners",Xb={rights:"All rights reserved"},Zb={title:"Program & Map"},Wb={title:"Program",desc:"Full event schedule (PDF):",btn:"Open schedule"},Jb={title:"Event map",btn:"Open map"},e1={nav:jb,cta:Hb,hero:qb,cards:Fb,about:Gb,location:$b,hotels:Kb,contacts:Qb,partners:Yb,footer:Xb,info:Zb,program:Wb,map:Jb},t1={about:" ",location:"",hotels:"",contact:""},n1={participant:" ",ticket:" "},i1={subtitle:"  ,   ",title:"MOLDOVA AUTO<br/>WEEKEND FESTIVAL",date:"9-10  2025  ARENA CHIU, MOLDOVA"},r1={ticket:{title:"",btn:" ",date:"",arena:"Arena Chiinu, Moldova"},participant:{title:" ",subtitle:"  ",btn:""}},s1={title:" ",brand:"KULTURA Auto Festival",intro:"    ,       .    ,   -. 2     .",cards:{expo:"",battle:"",graffiti:"",partners:" ",dj:"DJ",food:""},ribbon:"9-10  2025  ARENA CHIU, MOLDOVA  "},a1="",o1={hotels:"",partner:"  ",about:"             KULTURA.     !       Viber, WhatsApp, Telegram     .",hotel:" ",book:" ",contact:""},l1={title:"",labels:{registration:"   ",commercial:"  ",transnistria:" ",email:"Email"},form:{title:` ?
  `,fields:{name:"",phone:" ",email:"Email",message:""},ph:{name:" ",phone:"+373 ___ ___ ___",email:"you@mail.com",message:" "},submit:"",sending:""},toast:{ok:"!    .",fail:" : {{err}}"},footer:{rights:"  "}},u1="",c1={title:"   "},h1={title:"",desc:"  (PDF):",btn:" "},f1={title:" ",btn:" "},d1={nav:t1,cta:n1,hero:i1,cards:r1,about:s1,location:a1,hotels:o1,contacts:l1,partners:u1,info:c1,program:h1,map:f1},m1={about:"Despre",location:"Locaie",hotels:"Hoteluri",contact:"Contacte"},p1={participant:"Devino participant",ticket:"Cumpr bilet"},g1={subtitle:"Un festival auto expoziional n aer liber",title:"MOLDOVA AUTO<br/>WEEKEND FESTIVAL",date:"9-10 AUGUST 2025  ARENA CHIINU, MOLDOVA"},y1={ticket:{title:"Bilete",btn:"Cumpr bilet",date:"August",arena:"Arena Chiinu, Moldova"},participant:{title:"Devino participant",subtitle:"nregistrare la expoziie",btn:"nregistreaz-te"}},_1={title:"Despre festival",brand:"KULTURA Auto Festival",intro:" este un festival auto de tip expoziie n aer liber care reunete doar automobile iconice. Celebreaz mainile stilate, graffiti-ul i cultura urban  dou zile de eveniment sub cerul liber.",cards:{expo:"Expoziie",battle:"Battle auto",graffiti:"Graffiti",partners:"Zone parteneri",dj:"DJ",food:"Food court"},ribbon:"9-10 AUGUST 2025  ARENA CHIINU, MOLDOVA  "},v1="Locaie",E1={hotels:"Hoteluri",partner:"Cutm partener / sponsor!",about:"Rezervai cazarea n aceste hoteluri cu o reducere special folosind codul promoional KULTURA. Bucurai-v de confort i avantaje excelente! Ne putei contacta prin Viber, WhatsApp, Telegram sau pur i simplu prin apel telefonic.",hotel:"Hotelul dvs.",book:"Rezerv camer",contact:"Contacteaz-ne"},T1={title:"Contacte",labels:{registration:"nscriere participani",commercial:"ntrebri comerciale",transnistria:"Pentru Transnistria",email:"Email"},form:{title:`Avei ntrebri?
Completai formularul de mai jos`,fields:{name:"Nume",phone:"Numr de telefon",email:"Email",message:"Mesaj"},ph:{name:"Numele dvs.",phone:"+373 ___ ___ ___",email:"tu@mail.com",message:"ntrebarea dvs."},submit:"Trimite",sending:"Se trimite"},toast:{ok:"V mulumim! V vom contacta n curnd.",fail:"Eroare la trimitere: {{err}}"}},S1="Parteneri",A1={rights:"Toate drepturile rezervate"},b1={nav:m1,cta:p1,hero:g1,cards:y1,about:_1,location:v1,hotels:E1,contacts:T1,partners:S1,footer:A1};Jt.use(Bb).init({fallbackLng:"en",lng:"en",debug:!1,ns:["common"],defaultNS:"common",resources:{en:{common:e1},ru:{common:d1},ro:{common:b1}},interpolation:{escapeValue:!1}});var bl={},dv;function w1(){if(dv)return bl;dv=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.parse=h,bl.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,I){const O=new u,q=A.length;if(q<2)return O;const B=(I==null?void 0:I.decode)||_;let K=0;do{const ne=A.indexOf("=",K);if(ne===-1)break;const ee=A.indexOf(";",K),le=ee===-1?q:ee;if(ne>le){K=A.lastIndexOf(";",ne-1)+1;continue}const oe=m(A,K,ne),Se=g(A,ne,oe),x=A.slice(oe,Se);if(O[x]===void 0){let R=m(A,ne+1,le),w=g(A,le,R);const N=B(A.slice(R,w));O[x]=N}K=le+1}while(K<q);return O}function m(A,I,O){do{const q=A.charCodeAt(I);if(q!==32&&q!==9)return I}while(++I<O);return O}function g(A,I,O){for(;I>O;){const q=A.charCodeAt(--I);if(q!==32&&q!==9)return I+1}return O}function p(A,I,O){const q=(O==null?void 0:O.encode)||encodeURIComponent;if(!r.test(A))throw new TypeError(`argument name is invalid: ${A}`);const B=q(I);if(!e.test(B))throw new TypeError(`argument val is invalid: ${I}`);let K=A+"="+B;if(!O)return K;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);K+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);K+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);K+="; Path="+O.path}if(O.expires){if(!T(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);K+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(K+="; HttpOnly"),O.secure&&(K+="; Secure"),O.partitioned&&(K+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return K}function _(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function T(A){return o.call(A)==="[object Date]"}return bl}w1();var mv="popstate";function R1(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return pm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:zl(o)}return I1(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function gi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C1(){return Math.random().toString(36).substring(2,10)}function pv(r,e){return{usr:r.state,key:r.key,idx:e}}function pm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ao(e):e,state:n,key:e&&e.key||s||C1()}}function zl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ao(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function I1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=_();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function _(){return(h.state||{idx:null}).idx}function T(){m="POP";let B=_(),K=B==null?null:B-p;p=B,g&&g({action:m,location:q.location,delta:K})}function A(B,K){m="PUSH";let ne=pm(q.location,B,K);p=_()+1;let ee=pv(ne,p),le=q.createHref(ne);try{h.pushState(ee,"",le)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(le)}u&&g&&g({action:m,location:q.location,delta:1})}function I(B,K){m="REPLACE";let ne=pm(q.location,B,K);p=_();let ee=pv(ne,p),le=q.createHref(ne);h.replaceState(ee,"",le),u&&g&&g({action:m,location:q.location,delta:0})}function O(B){return O1(B)}let q={get action(){return m},get location(){return r(o,h)},listen(B){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(mv,T),g=B,()=>{o.removeEventListener(mv,T),g=null}},createHref(B){return e(o,B)},createURL:O,encodeLocation(B){let K=O(B);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:A,replace:I,go(B){return h.go(B)}};return q}function O1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:zl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function WE(r,e,n="/"){return D1(r,e,n,!1)}function D1(r,e,n,s){let o=typeof e=="string"?ao(e):e,u=Fi(o.pathname||"/",n);if(u==null)return null;let h=JE(r);N1(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=H1(u);m=B1(h[g],p,s)}return m}function JE(r,e=[],n=[],s=""){let o=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(lt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let p=qi([s,g.relativePath]),_=n.concat(g);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),JE(u.children,e,_,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:U1(p,u.index),routesMeta:_})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let g of eT(u.path))o(u,h,g)}),e}function eT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=eT(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function N1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:z1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var x1=/^:[\w-]+$/,M1=3,V1=2,P1=1,L1=10,k1=-2,gv=r=>r==="*";function U1(r,e){let n=r.split("/"),s=n.length;return n.some(gv)&&(s+=k1),e&&(s+=V1),n.filter(o=>!gv(o)).reduce((o,u)=>o+(x1.test(u)?M1:u===""?P1:L1),s)}function z1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function B1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=Zc({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},_),A=g.route;if(!T&&p&&n&&!s[s.length-1].route.index&&(T=Zc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:qi([u,T.pathname]),pathnameBase:$1(qi([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=qi([u,T.pathnameBase]))}return h}function Zc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=j1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:_,isOptional:T},A)=>{if(_==="*"){let O=m[A]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const I=m[A];return T&&!I?p[_]=void 0:p[_]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function j1(r,e=!1,n=!0){gi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function H1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Fi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function q1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ao(r):r;return{pathname:n?n.startsWith("/")?n:F1(n,e):e,search:K1(s),hash:Q1(o)}}function F1(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Kd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tT(r){let e=G1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function nT(r,e,n,s=!1){let o;typeof r=="string"?o=ao(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Kd("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Kd("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Kd("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let g=q1(o,m),p=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||_)&&(g.pathname+="/"),g}var qi=r=>r.join("/").replace(/\/\/+/g,"/"),$1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),K1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Q1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Y1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var iT=["POST","PUT","PATCH","DELETE"];new Set(iT);var X1=["GET",...iT];new Set(X1);var oo=Q.createContext(null);oo.displayName="DataRouter";var _h=Q.createContext(null);_h.displayName="DataRouterState";var rT=Q.createContext({isTransitioning:!1});rT.displayName="ViewTransition";var Z1=Q.createContext(new Map);Z1.displayName="Fetchers";var W1=Q.createContext(null);W1.displayName="Await";var vi=Q.createContext(null);vi.displayName="Navigation";var Xl=Q.createContext(null);Xl.displayName="Location";var Xi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var Fm=Q.createContext(null);Fm.displayName="RouteError";function J1(r,{relative:e}={}){lt(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Q.useContext(vi),{hash:o,pathname:u,search:h}=Wl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:qi([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Zl(){return Q.useContext(Xl)!=null}function Ks(){return lt(Zl(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Xl).location}var sT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aT(r){Q.useContext(vi).static||Q.useLayoutEffect(r)}function ew(){let{isDataRoute:r}=Q.useContext(Xi);return r?dw():tw()}function tw(){lt(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(oo),{basename:e,navigator:n}=Q.useContext(vi),{matches:s}=Q.useContext(Xi),{pathname:o}=Ks(),u=JSON.stringify(tT(s)),h=Q.useRef(!1);return aT(()=>{h.current=!0}),Q.useCallback((g,p={})=>{if(gi(h.current,sT),!h.current)return;if(typeof g=="number"){n.go(g);return}let _=nT(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:qi([e,_.pathname])),(p.replace?n.replace:n.push)(_,p.state,p)},[e,n,u,o,r])}Q.createContext(null);function Wl(r,{relative:e}={}){let{matches:n}=Q.useContext(Xi),{pathname:s}=Ks(),o=JSON.stringify(tT(n));return Q.useMemo(()=>nT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function nw(r,e){return oT(r,e)}function oT(r,e,n,s){var ne;lt(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=Q.useContext(vi),{matches:h}=Q.useContext(Xi),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let ee=T&&T.path||"";lT(p,!T||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let A=Ks(),I;if(e){let ee=typeof e=="string"?ao(e):e;lt(_==="/"||((ne=ee.pathname)==null?void 0:ne.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),I=ee}else I=A;let O=I.pathname||"/",q=O;if(_!=="/"){let ee=_.replace(/^\//,"").split("/");q="/"+O.replace(/^\//,"").split("/").slice(ee.length).join("/")}let B=!u&&n&&n.matches&&n.matches.length>0?n.matches:WE(r,{pathname:q});gi(T||B!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),gi(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=ow(B&&B.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:qi([_,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?_:qi([_,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),h,n,s);return e&&K?Q.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},K):K}function iw(){let r=fw(),e=Y1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:o},n):null,h)}var rw=Q.createElement(iw,null),sw=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Q.createElement(Xi.Provider,{value:this.props.routeContext},Q.createElement(Fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aw({routeContext:r,match:e,children:n}){let s=Q.useContext(oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Xi.Provider,{value:r},n)}function ow(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:_,errors:T}=n,A=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||A){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,_)=>{let T,A=!1,I=null,O=null;n&&(T=u&&p.route.id?u[p.route.id]:void 0,I=p.route.errorElement||rw,h&&(m<0&&_===0?(lT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,O=null):m===_&&(A=!0,O=p.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,_+1)),B=()=>{let K;return T?K=I:A?K=O:p.route.Component?K=Q.createElement(p.route.Component,null):p.route.element?K=p.route.element:K=g,Q.createElement(aw,{match:p,routeContext:{outlet:g,matches:q,isDataRoute:n!=null},children:K})};return n&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?Q.createElement(sw,{location:n.location,revalidation:n.revalidation,component:I,error:T,children:B(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):B()},null)}function Gm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lw(r){let e=Q.useContext(oo);return lt(e,Gm(r)),e}function uw(r){let e=Q.useContext(_h);return lt(e,Gm(r)),e}function cw(r){let e=Q.useContext(Xi);return lt(e,Gm(r)),e}function $m(r){let e=cw(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function hw(){return $m("useRouteId")}function fw(){var s;let r=Q.useContext(Fm),e=uw("useRouteError"),n=$m("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function dw(){let{router:r}=lw("useNavigate"),e=$m("useNavigate"),n=Q.useRef(!1);return aT(()=>{n.current=!0}),Q.useCallback(async(o,u={})=>{gi(n.current,sT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var yv={};function lT(r,e,n){!e&&!yv[r]&&(yv[r]=!0,gi(!1,n))}Q.memo(mw);function mw({routes:r,future:e,state:n}){return oT(r,void 0,n,e)}function gm(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=ao(n));let{pathname:g="/",search:p="",hash:_="",state:T=null,key:A="default"}=n,I=Q.useMemo(()=>{let O=Fi(g,h);return O==null?null:{location:{pathname:O,search:p,hash:_,state:T,key:A},navigationType:s}},[h,g,p,_,T,A,s]);return gi(I!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:Q.createElement(vi.Provider,{value:m},Q.createElement(Xl.Provider,{children:e,value:I}))}function gw({children:r,location:e}){return nw(ym(r),e)}function ym(r,e=[]){let n=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...e,o];if(s.type===Q.Fragment){n.push.apply(n,ym(s.props.children,u));return}lt(s.type===gm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ym(s.props.children,u)),n.push(h)}),n}var kc="get",Uc="application/x-www-form-urlencoded";function vh(r){return r!=null&&typeof r.tagName=="string"}function yw(r){return vh(r)&&r.tagName.toLowerCase()==="button"}function _w(r){return vh(r)&&r.tagName.toLowerCase()==="form"}function vw(r){return vh(r)&&r.tagName.toLowerCase()==="input"}function Ew(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Tw(r,e){return r.button===0&&(!e||e==="_self")&&!Ew(r)}var Oc=null;function Sw(){if(Oc===null)try{new FormData(document.createElement("form"),0),Oc=!1}catch{Oc=!0}return Oc}var Aw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qd(r){return r!=null&&!Aw.has(r)?(gi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uc}"`),null):r}function bw(r,e){let n,s,o,u,h;if(_w(r)){let m=r.getAttribute("action");s=m?Fi(m,e):null,n=r.getAttribute("method")||kc,o=Qd(r.getAttribute("enctype"))||Uc,u=new FormData(r)}else if(yw(r)||vw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Fi(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||kc,o=Qd(r.getAttribute("formenctype"))||Qd(m.getAttribute("enctype"))||Uc,u=new FormData(m,r),!Sw()){let{name:p,type:_,value:T}=r;if(_==="image"){let A=p?`${p}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else p&&u.append(p,T)}}else{if(vh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kc,s=null,o=Uc,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function Km(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function ww(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Cw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await ww(u,n);return h.links?h.links():[]}return[]}));return Nw(s.flat(1).filter(Rw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function _v(r,e,n,s,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>{var _;return n[p].pathname!==g.pathname||((_=n[p].route.path)==null?void 0:_.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{var T;let _=s.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Iw(r,e,{includeHydrateFallback:n}={}){return Ow(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Ow(r){return[...new Set(r)]}function Dw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Nw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Dw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xw=new Set([100,101,204,205]);function Mw(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Fi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function uT(){let r=Q.useContext(oo);return Km(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Vw(){let r=Q.useContext(_h);return Km(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Qm=Q.createContext(void 0);Qm.displayName="FrameworkContext";function cT(){let r=Q.useContext(Qm);return Km(r,"You must render this element inside a <HydratedRouter> element"),r}function Pw(r,e){let n=Q.useContext(Qm),[s,o]=Q.useState(!1),[u,h]=Q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:_,onTouchStart:T}=e,A=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let q=K=>{K.forEach(ne=>{h(ne.isIntersecting)})},B=new IntersectionObserver(q,{threshold:.5});return A.current&&B.observe(A.current),()=>{B.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let I=()=>{o(!0)},O=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:wl(m,I),onBlur:wl(g,O),onMouseEnter:wl(p,I),onMouseLeave:wl(_,O),onTouchStart:wl(T,I)}]:[!1,A,{}]}function wl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Lw({page:r,...e}){let{router:n}=uT(),s=Q.useMemo(()=>WE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Q.createElement(Uw,{page:r,matches:s,...e}):null}function kw(r){let{manifest:e,routeModules:n}=cT(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return Cw(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function Uw({page:r,matches:e,...n}){let s=Ks(),{manifest:o,routeModules:u}=cT(),{basename:h}=uT(),{loaderData:m,matches:g}=Vw(),p=Q.useMemo(()=>_v(r,e,g,o,s,"data"),[r,e,g,o,s]),_=Q.useMemo(()=>_v(r,e,g,o,s,"assets"),[r,e,g,o,s]),T=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let O=new Set,q=!1;if(e.forEach(K=>{var ee;let ne=o.routes[K.route.id];!ne||!ne.hasLoader||(!p.some(le=>le.route.id===K.route.id)&&K.route.id in m&&((ee=u[K.route.id])!=null&&ee.shouldRevalidate)||ne.hasClientLoader?q=!0:O.add(K.route.id))}),O.size===0)return[];let B=Mw(r,h);return q&&O.size>0&&B.searchParams.set("_routes",e.filter(K=>O.has(K.route.id)).map(K=>K.route.id).join(",")),[B.pathname+B.search]},[h,m,s,o,p,e,r,u]),A=Q.useMemo(()=>Iw(_,o),[_,o]),I=kw(_);return Q.createElement(Q.Fragment,null,T.map(O=>Q.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),A.map(O=>Q.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),I.map(({key:O,link:q})=>Q.createElement("link",{key:O,...q})))}function zw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hT&&(window.__reactRouterVersion="7.6.0")}catch{}function Bw({basename:r,children:e,window:n}){let s=Q.useRef();s.current==null&&(s.current=R1({window:n,v5Compat:!0}));let o=s.current,[u,h]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(g=>{Q.startTransition(()=>h(g))},[h]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(pw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var fT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dT=Q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:_,viewTransition:T,...A},I){let{basename:O}=Q.useContext(vi),q=typeof p=="string"&&fT.test(p),B,K=!1;if(typeof p=="string"&&q&&(B=p,hT))try{let w=new URL(window.location.href),N=p.startsWith("//")?new URL(w.protocol+p):new URL(p),M=Fi(N.pathname,O);N.origin===w.origin&&M!=null?p=M+N.search+N.hash:K=!0}catch{gi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=J1(p,{relative:o}),[ee,le,oe]=Pw(s,A),Se=Fw(p,{replace:h,state:m,target:g,preventScrollReset:_,relative:o,viewTransition:T});function x(w){e&&e(w),w.defaultPrevented||Se(w)}let R=Q.createElement("a",{...A,...oe,href:B||ne,onClick:K||u?e:x,ref:zw(I,le),target:g,"data-discover":!q&&n==="render"?"true":void 0});return ee&&!q?Q.createElement(Q.Fragment,null,R,Q.createElement(Lw,{page:ne})):R});dT.displayName="Link";var jw=Q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},_){let T=Wl(h,{relative:p.relative}),A=Ks(),I=Q.useContext(_h),{navigator:O,basename:q}=Q.useContext(vi),B=I!=null&&Yw(T)&&m===!0,K=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,ne=A.pathname,ee=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ee=ee?ee.toLowerCase():null,K=K.toLowerCase()),ee&&q&&(ee=Fi(ee,q)||ee);const le=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let oe=ne===K||!o&&ne.startsWith(K)&&ne.charAt(le)==="/",Se=ee!=null&&(ee===K||!o&&ee.startsWith(K)&&ee.charAt(K.length)==="/"),x={isActive:oe,isPending:Se,isTransitioning:B},R=oe?e:void 0,w;typeof s=="function"?w=s(x):w=[s,oe?"active":null,Se?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(x):u;return Q.createElement(dT,{...p,"aria-current":R,className:w,ref:_,style:N,to:h,viewTransition:m},typeof g=="function"?g(x):g)});jw.displayName="NavLink";var Hw=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=kc,action:m,onSubmit:g,relative:p,preventScrollReset:_,viewTransition:T,...A},I)=>{let O=Kw(),q=Qw(m,{relative:p}),B=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&fT.test(m),ne=ee=>{if(g&&g(ee),ee.defaultPrevented)return;ee.preventDefault();let le=ee.nativeEvent.submitter,oe=(le==null?void 0:le.getAttribute("formmethod"))||h;O(le||ee.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:o,state:u,relative:p,preventScrollReset:_,viewTransition:T})};return Q.createElement("form",{ref:I,method:B,action:q,onSubmit:s?g:ne,...A,"data-discover":!K&&r==="render"?"true":void 0})});Hw.displayName="Form";function qw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mT(r){let e=Q.useContext(oo);return lt(e,qw(r)),e}function Fw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=ew(),g=Ks(),p=Wl(r,{relative:u});return Q.useCallback(_=>{if(Tw(_,e)){_.preventDefault();let T=n!==void 0?n:zl(g)===zl(p);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,m,p,n,s,e,r,o,u,h])}var Gw=0,$w=()=>`__${String(++Gw)}__`;function Kw(){let{router:r}=mT("useSubmit"),{basename:e}=Q.useContext(vi),n=hw();return Q.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:g,body:p}=bw(s,e);if(o.navigate===!1){let _=o.fetcherKey||$w();await r.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Qw(r,{relative:e}={}){let{basename:n}=Q.useContext(vi),s=Q.useContext(Xi);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Wl(r||".",{relative:e})},h=Ks();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:qi([n,u.pathname])),zl(u)}function Yw(r,e={}){let n=Q.useContext(rT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=mT("useViewTransitionState"),o=Wl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Fi(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Fi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Zc(o.pathname,h)!=null||Zc(o.pathname,u)!=null}[...xw];var Yd={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function Xw(){if(vv)return Kt;vv=1;var r=qm();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:p,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,_)},Kt.flushSync=function(g){var p=h.T,_=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=_,s.d.f()}},Kt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Kt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Kt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,T=m(_,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:I}):_==="script"&&s.d.X(g,{crossOrigin:T,integrity:A,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Kt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Kt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,T=m(_,p.crossOrigin);s.d.L(g,_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Kt.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Kt.requestFormReset=function(g){s.d.r(g)},Kt.unstable_batchedUpdates=function(g,p){return g(p)},Kt.useFormState=function(g,p,_){return h.H.useFormState(g,p,_)},Kt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Kt.version="19.1.0",Kt}var Ev;function Zw(){if(Ev)return Yd.exports;Ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yd.exports=Xw(),Yd.exports}const Ww=()=>{};var Tv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Jw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},gT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,_=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|p>>6,I=p&63;g||(I=64,h||(A=64)),s.push(n[_],n[T],n[A],n[I])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(pT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Jw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||T==null)throw new eR;const A=u<<2|m>>4;if(s.push(A),p!==64){const I=m<<4&240|p>>2;if(s.push(I),T!==64){const O=p<<6&192|T;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class eR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tR=function(r){const e=pT(r);return gT.encodeByteArray(e,!0)},Wc=function(r){return tR(r).replace(/\./g,"")},yT=function(r){try{return gT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=()=>nR().__FIREBASE_DEFAULTS__,rR=()=>{if(typeof process>"u"||typeof Tv>"u")return;const r=Tv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},sR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&yT(r[1]);return e&&JSON.parse(e)},Eh=()=>{try{return Ww()||iR()||rR()||sR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_T=r=>{var e,n;return(n=(e=Eh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},aR=r=>{const e=_T(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},vT=()=>{var r;return(r=Eh())==null?void 0:r.config},ET=r=>{var e;return(e=Eh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Wc(JSON.stringify(n)),Wc(JSON.stringify(h)),""].join(".")}const Nl={};function uR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Nl))Nl[e]?r.emulator.push(e):r.prod.push(e);return r}function cR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Sv=!1;function ST(r,e){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Nl[r]===e||Nl[r]||Sv)return;Nl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=uR().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Sv=!0,h()},A}function _(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=cR(s),I=n("text"),O=document.getElementById(I)||document.createElement("span"),q=n("learnmore"),B=document.getElementById(q)||document.createElement("a"),K=n("preprendIcon"),ne=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ee=A.element;m(ee),_(B,q);const le=p();g(ne,K),ee.append(ne,O,B,le),document.body.appendChild(ee)}u?(O.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function fR(){var e;const r=(e=Eh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function pR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gR(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yR(){return!fR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _R(){try{return typeof indexedDB=="object"}catch{return!1}}function vR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="FirebaseError";class Zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ER,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?TR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Zi(o,m,s)}}function TR(r,e){return r.replace(SR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SR=/\{\$([^}]+)}/g;function AR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Hs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Av(u)&&Av(h)){if(!Hs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Av(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function bR(r,e){const n=new wR(r,e);return n.subscribe.bind(n)}class wR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");RR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Xd),o.error===void 0&&(o.error=Xd),o.complete===void 0&&(o.complete=Xd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(r){return r&&r._delegate?r._delegate:r}class qs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new oR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OR(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:IR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IR(r){return r===Bs?void 0:r}function OR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const NR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},xR=Le.INFO,MR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},VR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=MR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ym{constructor(e){this.name=e,this._logLevel=xR,this._logHandler=VR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const PR=(r,e)=>e.some(n=>r instanceof n);let bv,wv;function LR(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kR(){return wv||(wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,_m=new WeakMap,bT=new WeakMap,Zd=new WeakMap,Xm=new WeakMap;function UR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(jr(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&AT.set(n,r)}).catch(()=>{}),Xm.set(e,r),e}function zR(r){if(_m.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});_m.set(r,e)}let vm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return _m.get(r);if(e==="objectStoreNames")return r.objectStoreNames||bT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function BR(r){vm=r(vm)}function jR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Wd(this),e,...n);return bT.set(s,e.sort?e.sort():[e]),jr(s)}:kR().includes(r)?function(...e){return r.apply(Wd(this),e),jr(AT.get(this))}:function(...e){return jr(r.apply(Wd(this),e))}}function HR(r){return typeof r=="function"?jR(r):(r instanceof IDBTransaction&&zR(r),PR(r,LR())?new Proxy(r,vm):r)}function jr(r){if(r instanceof IDBRequest)return UR(r);if(Zd.has(r))return Zd.get(r);const e=HR(r);return e!==r&&(Zd.set(r,e),Xm.set(e,r)),e}const Wd=r=>Xm.get(r);function qR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=jr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(jr(h.result),g.oldVersion,g.newVersion,jr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const FR=["get","getKey","getAll","getAllKeys","count"],GR=["put","add","delete","clear"],Jd=new Map;function Rv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=GR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||FR.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Jd.set(e,u),u}BR(r=>({...r,get:(e,n,s)=>Rv(e,n)||r.get(e,n,s),has:(e,n)=>!!Rv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function KR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Em="@firebase/app",Cv="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Ym("@firebase/app"),QR="@firebase/app-compat",YR="@firebase/analytics-compat",XR="@firebase/analytics",ZR="@firebase/app-check-compat",WR="@firebase/app-check",JR="@firebase/auth",eC="@firebase/auth-compat",tC="@firebase/database",nC="@firebase/data-connect",iC="@firebase/database-compat",rC="@firebase/functions",sC="@firebase/functions-compat",aC="@firebase/installations",oC="@firebase/installations-compat",lC="@firebase/messaging",uC="@firebase/messaging-compat",cC="@firebase/performance",hC="@firebase/performance-compat",fC="@firebase/remote-config",dC="@firebase/remote-config-compat",mC="@firebase/storage",pC="@firebase/storage-compat",gC="@firebase/firestore",yC="@firebase/ai",_C="@firebase/firestore-compat",vC="firebase",EC="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="[DEFAULT]",TC={[Em]:"fire-core",[QR]:"fire-core-compat",[XR]:"fire-analytics",[YR]:"fire-analytics-compat",[WR]:"fire-app-check",[ZR]:"fire-app-check-compat",[JR]:"fire-auth",[eC]:"fire-auth-compat",[tC]:"fire-rtdb",[nC]:"fire-data-connect",[iC]:"fire-rtdb-compat",[rC]:"fire-fn",[sC]:"fire-fn-compat",[aC]:"fire-iid",[oC]:"fire-iid-compat",[lC]:"fire-fcm",[uC]:"fire-fcm-compat",[cC]:"fire-perf",[hC]:"fire-perf-compat",[fC]:"fire-rc",[dC]:"fire-rc-compat",[mC]:"fire-gcs",[pC]:"fire-gcs-compat",[gC]:"fire-fst",[_C]:"fire-fst-compat",[yC]:"fire-vertex","fire-js":"fire-js",[vC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Map,SC=new Map,Sm=new Map;function Iv(r,e){try{r.container.addComponent(e)}catch(n){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ja(r){const e=r.name;if(Sm.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,r);for(const n of Jc.values())Iv(n,r);for(const n of SC.values())Iv(n,r);return!0}function Zm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function $n(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Jl("app","Firebase",AC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=EC;function wT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Tm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Hr.create("bad-app-name",{appName:String(o)});if(n||(n=vT()),!n)throw Hr.create("no-options");const u=Jc.get(o);if(u){if(Hs(n,u.options)&&Hs(s,u.config))return u;throw Hr.create("duplicate-app",{appName:o})}const h=new DR(o);for(const g of Sm.values())h.addComponent(g);const m=new bC(n,s,h);return Jc.set(o,m),m}function RT(r=Tm){const e=Jc.get(r);if(!e&&r===Tm&&vT())return wT();if(!e)throw Hr.create("no-app",{appName:r});return e}function qr(r,e,n){let s=TC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(h.join(" "));return}Ja(new qs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="firebase-heartbeat-database",RC=1,Bl="firebase-heartbeat-store";let em=null;function CT(){return em||(em=qR(wC,RC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Bl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Hr.create("idb-open",{originalErrorMessage:r.message})})),em}async function CC(r){try{const n=(await CT()).transaction(Bl),s=await n.objectStore(Bl).get(IT(r));return await n.done,s}catch(e){if(e instanceof Zi)Gi.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(n.message)}}}async function Ov(r,e){try{const s=(await CT()).transaction(Bl,"readwrite");await s.objectStore(Bl).put(e,IT(r)),await s.done}catch(n){if(n instanceof Zi)Gi.warn(n.message);else{const s=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(s.message)}}}function IT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=1024,OC=30;class DC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Dv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>OC){const h=MC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Gi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dv(),{heartbeatsToSend:s,unsentEntries:o}=NC(this._heartbeatsCache.heartbeats),u=Wc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Gi.warn(n),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function NC(r,e=IC){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Nv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Nv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class xC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _R()?vR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ov(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ov(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Nv(r){return Wc(JSON.stringify({version:2,heartbeats:r})).length}function MC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(r){Ja(new qs("platform-logger",e=>new $R(e),"PRIVATE")),Ja(new qs("heartbeat",e=>new DC(e),"PRIVATE")),qr(Em,Cv,r),qr(Em,Cv,"esm2020"),qr("fire-js","")}VC("");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fr,OT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function w(){}w.prototype=R.prototype,x.F=R.prototype,x.prototype=new w,x.prototype.constructor=x,x.D=function(N,M,L){for(var C=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)C[Oe-2]=arguments[Oe];return R.prototype[M].apply(N,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,w){w||(w=0);const N=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)N[M]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(M=0;M<16;++M)N[M]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=x.g[0],w=x.g[1],M=x.g[2];let L=x.g[3],C;C=R+(L^w&(M^L))+N[0]+3614090360&4294967295,R=w+(C<<7&4294967295|C>>>25),C=L+(M^R&(w^M))+N[1]+3905402710&4294967295,L=R+(C<<12&4294967295|C>>>20),C=M+(w^L&(R^w))+N[2]+606105819&4294967295,M=L+(C<<17&4294967295|C>>>15),C=w+(R^M&(L^R))+N[3]+3250441966&4294967295,w=M+(C<<22&4294967295|C>>>10),C=R+(L^w&(M^L))+N[4]+4118548399&4294967295,R=w+(C<<7&4294967295|C>>>25),C=L+(M^R&(w^M))+N[5]+1200080426&4294967295,L=R+(C<<12&4294967295|C>>>20),C=M+(w^L&(R^w))+N[6]+2821735955&4294967295,M=L+(C<<17&4294967295|C>>>15),C=w+(R^M&(L^R))+N[7]+4249261313&4294967295,w=M+(C<<22&4294967295|C>>>10),C=R+(L^w&(M^L))+N[8]+1770035416&4294967295,R=w+(C<<7&4294967295|C>>>25),C=L+(M^R&(w^M))+N[9]+2336552879&4294967295,L=R+(C<<12&4294967295|C>>>20),C=M+(w^L&(R^w))+N[10]+4294925233&4294967295,M=L+(C<<17&4294967295|C>>>15),C=w+(R^M&(L^R))+N[11]+2304563134&4294967295,w=M+(C<<22&4294967295|C>>>10),C=R+(L^w&(M^L))+N[12]+1804603682&4294967295,R=w+(C<<7&4294967295|C>>>25),C=L+(M^R&(w^M))+N[13]+4254626195&4294967295,L=R+(C<<12&4294967295|C>>>20),C=M+(w^L&(R^w))+N[14]+2792965006&4294967295,M=L+(C<<17&4294967295|C>>>15),C=w+(R^M&(L^R))+N[15]+1236535329&4294967295,w=M+(C<<22&4294967295|C>>>10),C=R+(M^L&(w^M))+N[1]+4129170786&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^M&(R^w))+N[6]+3225465664&4294967295,L=R+(C<<9&4294967295|C>>>23),C=M+(R^w&(L^R))+N[11]+643717713&4294967295,M=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(M^L))+N[0]+3921069994&4294967295,w=M+(C<<20&4294967295|C>>>12),C=R+(M^L&(w^M))+N[5]+3593408605&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^M&(R^w))+N[10]+38016083&4294967295,L=R+(C<<9&4294967295|C>>>23),C=M+(R^w&(L^R))+N[15]+3634488961&4294967295,M=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(M^L))+N[4]+3889429448&4294967295,w=M+(C<<20&4294967295|C>>>12),C=R+(M^L&(w^M))+N[9]+568446438&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^M&(R^w))+N[14]+3275163606&4294967295,L=R+(C<<9&4294967295|C>>>23),C=M+(R^w&(L^R))+N[3]+4107603335&4294967295,M=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(M^L))+N[8]+1163531501&4294967295,w=M+(C<<20&4294967295|C>>>12),C=R+(M^L&(w^M))+N[13]+2850285829&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^M&(R^w))+N[2]+4243563512&4294967295,L=R+(C<<9&4294967295|C>>>23),C=M+(R^w&(L^R))+N[7]+1735328473&4294967295,M=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(M^L))+N[12]+2368359562&4294967295,w=M+(C<<20&4294967295|C>>>12),C=R+(w^M^L)+N[5]+4294588738&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^M)+N[8]+2272392833&4294967295,L=R+(C<<11&4294967295|C>>>21),C=M+(L^R^w)+N[11]+1839030562&4294967295,M=L+(C<<16&4294967295|C>>>16),C=w+(M^L^R)+N[14]+4259657740&4294967295,w=M+(C<<23&4294967295|C>>>9),C=R+(w^M^L)+N[1]+2763975236&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^M)+N[4]+1272893353&4294967295,L=R+(C<<11&4294967295|C>>>21),C=M+(L^R^w)+N[7]+4139469664&4294967295,M=L+(C<<16&4294967295|C>>>16),C=w+(M^L^R)+N[10]+3200236656&4294967295,w=M+(C<<23&4294967295|C>>>9),C=R+(w^M^L)+N[13]+681279174&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^M)+N[0]+3936430074&4294967295,L=R+(C<<11&4294967295|C>>>21),C=M+(L^R^w)+N[3]+3572445317&4294967295,M=L+(C<<16&4294967295|C>>>16),C=w+(M^L^R)+N[6]+76029189&4294967295,w=M+(C<<23&4294967295|C>>>9),C=R+(w^M^L)+N[9]+3654602809&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^M)+N[12]+3873151461&4294967295,L=R+(C<<11&4294967295|C>>>21),C=M+(L^R^w)+N[15]+530742520&4294967295,M=L+(C<<16&4294967295|C>>>16),C=w+(M^L^R)+N[2]+3299628645&4294967295,w=M+(C<<23&4294967295|C>>>9),C=R+(M^(w|~L))+N[0]+4096336452&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~M))+N[7]+1126891415&4294967295,L=R+(C<<10&4294967295|C>>>22),C=M+(R^(L|~w))+N[14]+2878612391&4294967295,M=L+(C<<15&4294967295|C>>>17),C=w+(L^(M|~R))+N[5]+4237533241&4294967295,w=M+(C<<21&4294967295|C>>>11),C=R+(M^(w|~L))+N[12]+1700485571&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~M))+N[3]+2399980690&4294967295,L=R+(C<<10&4294967295|C>>>22),C=M+(R^(L|~w))+N[10]+4293915773&4294967295,M=L+(C<<15&4294967295|C>>>17),C=w+(L^(M|~R))+N[1]+2240044497&4294967295,w=M+(C<<21&4294967295|C>>>11),C=R+(M^(w|~L))+N[8]+1873313359&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~M))+N[15]+4264355552&4294967295,L=R+(C<<10&4294967295|C>>>22),C=M+(R^(L|~w))+N[6]+2734768916&4294967295,M=L+(C<<15&4294967295|C>>>17),C=w+(L^(M|~R))+N[13]+1309151649&4294967295,w=M+(C<<21&4294967295|C>>>11),C=R+(M^(w|~L))+N[4]+4149444226&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~M))+N[11]+3174756917&4294967295,L=R+(C<<10&4294967295|C>>>22),C=M+(R^(L|~w))+N[2]+718787259&4294967295,M=L+(C<<15&4294967295|C>>>17),C=w+(L^(M|~R))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.v=function(x,R){R===void 0&&(R=x.length);const w=R-this.blockSize,N=this.C;let M=this.h,L=0;for(;L<R;){if(M==0)for(;L<=w;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<R;)if(N[M++]=x.charCodeAt(L++),M==this.blockSize){o(this,N),M=0;break}}else for(;L<R;)if(N[M++]=x[L++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var w=x.length-8;w<x.length;++w)x[w]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,w=0;w<4;++w)for(let N=0;N<32;N+=8)x[R++]=this.g[w]>>>N&255;return x};function u(x,R){var w=m;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=R(x)}function h(x,R){this.h=R;const w=[];let N=!0;for(let M=x.length-1;M>=0;M--){const L=x[M]|0;N&&L==R||(w[M]=L,N=!1)}this.g=w}var m={};function g(x){return-128<=x&&x<128?u(x,function(R){return new h([R|0],R<0?-1:0)}):new h([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return T;if(x<0)return B(p(-x));const R=[];let w=1;for(let N=0;x>=w;N++)R[N]=x/w|0,w*=4294967296;return new h(R,0)}function _(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return B(_(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=p(Math.pow(R,8));let N=T;for(let L=0;L<x.length;L+=8){var M=Math.min(8,x.length-L);const C=parseInt(x.substring(L,L+M),R);M<8?(M=p(Math.pow(R,M)),N=N.j(M).add(p(C))):(N=N.j(w),N=N.add(p(C)))}return N}var T=g(0),A=g(1),I=g(16777216);r=h.prototype,r.m=function(){if(q(this))return-B(this).m();let x=0,R=1;for(let w=0;w<this.g.length;w++){const N=this.i(w);x+=(N>=0?N:4294967296+N)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(O(this))return"0";if(q(this))return"-"+B(this).toString(x);const R=p(Math.pow(x,6));var w=this;let N="";for(;;){const M=le(w,R).g;w=K(w,M.j(R));let L=((w.g.length>0?w.g[0]:w.h)>>>0).toString(x);if(w=M,O(w))return L+N;for(;L.length<6;)L="0"+L;N=L+N}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function O(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function q(x){return x.h==-1}r.l=function(x){return x=K(this,x),q(x)?-1:O(x)?0:1};function B(x){const R=x.g.length,w=[];for(let N=0;N<R;N++)w[N]=~x.g[N];return new h(w,~x.h).add(A)}r.abs=function(){return q(this)?B(this):this},r.add=function(x){const R=Math.max(this.g.length,x.g.length),w=[];let N=0;for(let M=0;M<=R;M++){let L=N+(this.i(M)&65535)+(x.i(M)&65535),C=(L>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);N=C>>>16,L&=65535,C&=65535,w[M]=C<<16|L}return new h(w,w[w.length-1]&-2147483648?-1:0)};function K(x,R){return x.add(B(R))}r.j=function(x){if(O(this)||O(x))return T;if(q(this))return q(x)?B(this).j(B(x)):B(B(this).j(x));if(q(x))return B(this.j(B(x)));if(this.l(I)<0&&x.l(I)<0)return p(this.m()*x.m());const R=this.g.length+x.g.length,w=[];for(var N=0;N<2*R;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(let M=0;M<x.g.length;M++){const L=this.i(N)>>>16,C=this.i(N)&65535,Oe=x.i(M)>>>16,We=x.i(M)&65535;w[2*N+2*M]+=C*We,ne(w,2*N+2*M),w[2*N+2*M+1]+=L*We,ne(w,2*N+2*M+1),w[2*N+2*M+1]+=C*Oe,ne(w,2*N+2*M+1),w[2*N+2*M+2]+=L*Oe,ne(w,2*N+2*M+2)}for(x=0;x<R;x++)w[x]=w[2*x+1]<<16|w[2*x];for(x=R;x<2*R;x++)w[x]=0;return new h(w,0)};function ne(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function ee(x,R){this.g=x,this.h=R}function le(x,R){if(O(R))throw Error("division by zero");if(O(x))return new ee(T,T);if(q(x))return R=le(B(x),R),new ee(B(R.g),B(R.h));if(q(R))return R=le(x,B(R)),new ee(B(R.g),R.h);if(x.g.length>30){if(q(x)||q(R))throw Error("slowDivide_ only works with positive integers.");for(var w=A,N=R;N.l(x)<=0;)w=oe(w),N=oe(N);var M=Se(w,1),L=Se(N,1);for(N=Se(N,2),w=Se(w,2);!O(N);){var C=L.add(N);C.l(x)<=0&&(M=M.add(w),L=C),N=Se(N,1),w=Se(w,1)}return R=K(x,M.j(R)),new ee(M,R)}for(M=T;x.l(R)>=0;){for(w=Math.max(1,Math.floor(x.m()/R.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),L=p(w),C=L.j(R);q(C)||C.l(x)>0;)w-=N,L=p(w),C=L.j(R);O(L)&&(L=A),M=M.add(L),x=K(x,C)}return new ee(M,x)}r.B=function(x){return le(this,x).h},r.and=function(x){const R=Math.max(this.g.length,x.g.length),w=[];for(let N=0;N<R;N++)w[N]=this.i(N)&x.i(N);return new h(w,this.h&x.h)},r.or=function(x){const R=Math.max(this.g.length,x.g.length),w=[];for(let N=0;N<R;N++)w[N]=this.i(N)|x.i(N);return new h(w,this.h|x.h)},r.xor=function(x){const R=Math.max(this.g.length,x.g.length),w=[];for(let N=0;N<R;N++)w[N]=this.i(N)^x.i(N);return new h(w,this.h^x.h)};function oe(x){const R=x.g.length+1,w=[];for(let N=0;N<R;N++)w[N]=x.i(N)<<1|x.i(N-1)>>>31;return new h(w,x.h)}function Se(x,R){const w=R>>5;R%=32;const N=x.g.length-w,M=[];for(let L=0;L<N;L++)M[L]=R>0?x.i(L+w)>>>R|x.i(L+w+1)<<32-R:x.i(L+w);return new h(M,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,OT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=_,Fr=h}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DT,Cl,NT,zc,Am,xT,MT,VT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in v))break e;v=v[z]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&v.push([b,y[b]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,v){return c.call.apply(c.bind,arguments)}function p(c,y,v){return p=g,p.apply(null,arguments)}function _(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,z,G){for(var re=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)re[Re-2]=arguments[Re];return y.prototype[z].apply(b,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function I(c){const y=c.length;if(y>0){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function O(c,y){for(let b=1;b<arguments.length;b++){const z=arguments[b];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const G=z.length||0;c.length=v+G;for(let re=0;re<G;re++)c[v+re]=z[re]}else c.push(z)}}class q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(c){h.setTimeout(()=>{throw c},0)}function K(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,v){const b=ee.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ee=new q(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Se=!1,x=new ne,R=()=>{const c=Promise.resolve(void 0);oe=()=>{c.then(w)}};function w(){for(var c;c=K();){try{c.h.call(c.g)}catch(v){B(v)}var y=ee;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Se=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c}();function C(c){return/^[\s\xa0]*$/.test(c)}function Oe(c,y){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Oe,M),Oe.prototype.init=function(c,y){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var We="closure_listenable_"+(Math.random()*1e6|0),$=0;function ie(c,y,v,b,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=z,this.key=++$,this.da=this.fa=!1}function fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function V(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function X(c){const y={};for(const v in c)y[v]=c[v];return y}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,y){let v,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(v in b)c[v]=b[v];for(let G=0;G<ae.length;G++)v=ae[G],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function de(c){this.src=c,this.g={},this.h=0}de.prototype.add=function(c,y,v,b,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=Ee(c,y,b,z);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new ie(y,this.src,G,!!b,z),y.fa=v,c.push(y)),y};function De(c,y){const v=y.type;if(v in c.g){var b=c.g[v],z=Array.prototype.indexOf.call(b,y,void 0),G;(G=z>=0)&&Array.prototype.splice.call(b,z,1),G&&(fe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ee(c,y,v,b){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==b)return z}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),Ke={};function Pn(c,y,v,b,z){if(Array.isArray(y)){for(let G=0;G<y.length;G++)Pn(c,y[G],v,b,z);return null}return v=uu(v),c&&c[We]?c.J(y,v,m(b)?!!b.capture:!1,z):go(c,y,v,!1,b,z)}function go(c,y,v,b,z,G){if(!y)throw Error("Invalid event type");const re=m(z)?!!z.capture:!!z;let Re=yo(c);if(Re||(c[Pt]=Re=new de(c)),v=Re.add(y,v,b,re,G),v.proxy)return v;if(b=Xs(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)L||(z=re),z===void 0&&(z=!1),c.addEventListener(y.toString(),b,z);else if(c.attachEvent)c.attachEvent(Ws(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xs(){function c(v){return y.call(c.src,c.listener,v)}const y=Fh;return c}function Zs(c,y,v,b,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)Zs(c,y[G],v,b,z);else b=m(b)?!!b.capture:!!b,v=uu(v),c&&c[We]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=Ee(y,v,b,z),v>-1&&(fe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=yo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ee(y,v,b,z)),(v=c>-1?y[c]:null)&&is(v))}function is(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[We])De(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(Ws(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=yo(y))?(De(v,c),v.h==0&&(v.src=null,y[Pt]=null)):fe(c)}}}function Ws(c){return c in Ke?Ke[c]:Ke[c]="on"+c}function Fh(c,y){if(c.da)c=!0;else{y=new Oe(y,this);const v=c.listener,b=c.ha||c.src;c.fa&&is(c),c=v.call(b,y)}return c}function yo(c){return c=c[Pt],c instanceof de?c:null}var an="__closure_events_fn_"+(Math.random()*1e9>>>0);function uu(c){return typeof c=="function"?c:(c[an]||(c[an]=function(y){return c.handleEvent(y)}),c[an])}function At(){N.call(this),this.i=new de(this),this.M=this,this.G=null}T(At,N),At.prototype[We]=!0,At.prototype.removeEventListener=function(c,y,v,b){Zs(this,c,y,v,b)};function Ot(c,y){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new M(y,c);else if(y instanceof M)y.target=y.target||c;else{var z=y;y=new M(b,c),se(y,z)}z=!0;let G,re;if(v)for(re=v.length-1;re>=0;re--)G=y.g=v[re],z=Ei(G,b,!0,y)&&z;if(G=y.g=c,z=Ei(G,b,!0,y)&&z,z=Ei(G,b,!1,y)&&z,v)for(re=0;re<v.length;re++)G=y.g=v[re],z=Ei(G,b,!1,y)&&z}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let b=0;b<v.length;b++)fe(v[b]);delete c.g[y],c.h--}}this.G=null},At.prototype.J=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},At.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function Ei(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let G=0;G<y.length;++G){const re=y[G];if(re&&!re.da&&re.capture==v){const Re=re.listener,nt=re.ha||re.src;re.fa&&De(c.i,re),z=Re.call(nt,b)!==!1&&z}}return z&&!b.defaultPrevented}function Gh(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function _o(c){c.g=Gh(()=>{c.g=null,c.i&&(c.i=!1,_o(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class $h extends N{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_o(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(c){N.call(this),this.h=c,this.g={}}T(rs,N);var Wi=[];function Ft(c){Me(c.g,function(y,v){this.g.hasOwnProperty(v)&&is(y)},c),c.g={}}rs.prototype.N=function(){rs.Z.N.call(this),Ft(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=h.JSON.stringify,en=h.JSON.parse,Kh=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function cu(){}function hu(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ji(){M.call(this,"d")}T(Ji,M);function Ln(){M.call(this,"c")}T(Ln,M);var Sn={},er=null;function Js(){return er=er||new At}Sn.Ia="serverreachability";function vo(c){M.call(this,Sn.Ia,c)}T(vo,M);function tr(c){const y=Js();Ot(y,new vo(y))}Sn.STAT_EVENT="statevent";function ea(c,y){M.call(this,Sn.STAT_EVENT,c),this.stat=y}T(ea,M);function ft(c){const y=Js();Ot(y,new ea(y,c))}Sn.Ja="timingevent";function fu(c,y){M.call(this,Sn.Ja,c),this.size=y}T(fu,M);function nr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function ir(){this.g=!0}ir.prototype.ua=function(){this.g=!1};function Eo(c,y,v,b,z,G){c.info(function(){if(c.g)if(G){var re="",Re=G.split("&");for(let Fe=0;Fe<Re.length;Fe++){var nt=Re[Fe].split("=");if(nt.length>1){const pt=nt[0];nt=nt[1];const fn=pt.split("_");re=fn.length>=2&&fn[1]=="type"?re+(pt+"="+nt+"&"):re+(pt+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+y+`
`+v+`
`+re})}function To(c,y,v,b,z,G,re){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+y+`
`+v+`
`+G+" "+re})}function Ti(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Yn(c,v)+(b?" "+b:"")})}function Qh(c,y){c.info(function(){return"TIMEOUT: "+y})}ir.prototype.info=function(){};function Yn(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return Tn(G)}catch{return y}}var dt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Si;function ss(){}T(ss,cu),ss.prototype.g=function(){return new XMLHttpRequest},Si=new ss;function as(c){return encodeURIComponent(String(c))}function Yh(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function kn(c,y,v,b){this.j=c,this.i=y,this.l=v,this.S=b||1,this.V=new rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new rr}function rr(){this.i=null,this.g="",this.h=!1}var ta={},Xn={};function Zn(c,y,v){c.M=1,c.A=bi(at(y)),c.u=v,c.R=!0,sr(c,null)}function sr(c,y){c.F=Date.now(),os(c),c.B=at(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),gu(v.i,"t",b),c.C=0,v=c.j.L,c.h=new rr,c.g=ha(c.j,v?y:null,!c.u),c.P>0&&(c.O=new $h(p(c.Y,c,c.g),c.P)),y=c.V,v=c.g,b=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Wi[0]=z.toString()),z=Wi);for(let G=0;G<z.length;G++){const re=Pn(v,z[G],b||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?X(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),tr(),Eo(c.i,c.v,c.B,c.l,c.S,c.u)}kn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Gt(c)==3?y.j():this.Y(c)},kn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=Gt(this.g),nt=this.g.ya(),Fe=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||_s(this.g)))){this.K||Re!=4||nt==7||(nt==8||Fe<=0?tr(3):tr(2)),Jn(this);var y=this.g.ca();this.X=y;var v=ar(this);if(this.o=y==200,To(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var G=b;break t}}G=null}if(c=G)Ti(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,na(this,c);else{this.o=!1,this.m=3,ft(12),ei(this),ls(this);break e}}if(this.R){c=!0;let pt;for(;!this.K&&this.C<v.length;)if(pt=du(this,v),pt==Xn){Re==4&&(this.m=4,ft(14),c=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==ta){this.m=4,ft(15),Ti(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Ti(this.i,this.l,pt,null),na(this,pt);if(mt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,ft(16),c=!1),this.o=this.o&&c,!c)Ti(this.i,this.l,v,"[Invalid Chunked Response]"),ei(this),ls(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),No(re),re.P=!0,ft(11))}}else Ti(this.i,this.l,v,null),na(this,v);Re==4&&ei(this),this.o&&!this.K&&(Re==4?xo(this.j,this):(this.o=!1,os(this)))}else vs(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),ei(this),ls(this)}}}catch{}finally{}};function ar(c){if(!mt(c))return c.g.la();const y=_s(c.g);if(y==="")return"";let v="";const b=y.length,z=Gt(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ei(c),ls(c),"";c.h.i=new h.TextDecoder}for(let G=0;G<b;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(z&&G==b-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function mt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function du(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?Xn:(v=Number(y.substring(v,b)),isNaN(v)?ta:(b+=1,b+v>y.length?Xn:(y=y.slice(b,b+v),c.C=b+v,y)))}kn.prototype.cancel=function(){this.K=!0,ei(this)};function os(c){c.T=Date.now()+c.H,Wn(c,c.H)}function Wn(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=nr(p(c.aa,c),y)}function Jn(c){c.D&&(h.clearTimeout(c.D),c.D=null)}kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Qh(this.i,this.B),this.M!=2&&(tr(),ft(17)),ei(this),this.m=2,ls(this)):Wn(this,this.T-c)};function ls(c){c.j.I==0||c.K||xo(c.j,c)}function ei(c){Jn(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Ft(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function na(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||hs(v.h,c))){if(!c.L&&hs(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ca(v),ti(v);else break e;Do(v),ft(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=nr(p(v.Va,v),6e3));An(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ci(v,11)}else if((c.L||v.g==c)&&ca(v),!C(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let Fe=z[y];const pt=Fe[0];if(!(pt<=v.K))if(v.K=pt,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const fn=Fe[3];fn!=null&&(v.ka=fn,v.j.info("VER="+v.ka));const ni=Fe[4];ni!=null&&(v.za=ni,v.j.info("SVER="+v.za));const Bn=Fe[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(b=1.5*Bn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const jn=c.g;if(jn){const Hn=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hn){var G=b.h;G.g||Hn.indexOf("spdy")==-1&&Hn.indexOf("quic")==-1&&Hn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ia(G,G.h),G.h=null))}if(b.G){const Vo=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(b.wa=Vo,Qe(b.J,b.G,Vo))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var re=c;if(b.na=wu(b,b.L?b.ba:null,b.W),re.L){Ai(b.h,re);var Re=re,nt=b.O;nt&&(Re.H=nt),Re.D&&(Jn(Re),os(Re)),b.g=re}else Tu(b);v.i.length>0&&As(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Ci(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ci(v,7):Ts(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}tr(4)}catch{}}var Xh=class{constructor(c,y){this.g=c,this.map=y}};function us(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function An(c){return c.h?1:c.g?c.g.size:0}function hs(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ia(c,y){c.g?c.g.add(y):c.h=y}function Ai(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}us.prototype.cancel=function(){if(this.i=ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ra(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return I(c.i)}var sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zh(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let z,G=null;b>=0?(z=c[v].substring(0,b),G=c[v].substring(b+1)):z=c[v],y(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Un(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Un?(this.l=c.l,or(this,c.j),this.o=c.o,this.g=c.g,fs(this,c.u),this.h=c.h,lr(this,yu(c.i)),this.m=c.m):c&&(y=String(c).match(sa))?(this.l=!1,or(this,y[1]||"",!0),this.o=ds(y[2]||""),this.g=ds(y[3]||"",!0),fs(this,y[4]),this.h=ds(y[5]||"",!0),lr(this,y[6]||"",!0),this.m=ds(y[7]||"")):(this.l=!1,this.i=new bn(null,this.l))}Un.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Dt(y,Ao,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Dt(y,Ao,!0),"@"),c.push(as(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Dt(v,v.charAt(0)=="/"?ur:bo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Dt(v,pu)),c.join("")},Un.prototype.resolve=function(c){const y=at(this);let v=!!c.j;v?or(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var b=c.h;if(v)fs(y,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=y.h.lastIndexOf("/");z!=-1&&(b=y.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let re=0;re<z.length;){const Re=z[re++];Re=="."?b&&re==z.length&&G.push(""):Re==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&re==z.length&&G.push("")):(G.push(Re),b=!0)}b=G.join("/")}else b=z}return v?y.h=b:v=c.i.toString()!=="",v?lr(y,yu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function at(c){return new Un(c)}function or(c,y,v){c.j=v?ds(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function fs(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function lr(c,y,v){y instanceof bn?(c.i=y,Co(c.i,c.l)):(v||(y=Dt(y,mu)),c.i=new bn(y,c.l))}function Qe(c,y,v){c.i.set(y,v)}function bi(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ds(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dt(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,So),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function So(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ao=/[#\/\?@]/g,bo=/[#\?:]/g,ur=/[#\?]/g,mu=/[#\?@]/g,pu=/#/g;function bn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function wi(c){c.g||(c.g=new Map,c.h=0,c.i&&Zh(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=bn.prototype,r.add=function(c,y){wi(this),this.i=null,c=zn(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function wo(c,y){wi(c),y=zn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ro(c,y){return wi(c),y=zn(c,y),c.g.has(y)}r.forEach=function(c,y){wi(this),this.g.forEach(function(v,b){v.forEach(function(z){c.call(y,z,b,this)},this)},this)};function aa(c,y){wi(c);let v=[];if(typeof y=="string")Ro(c,y)&&(v=v.concat(c.g.get(zn(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return wi(this),this.i=null,c=zn(this,c),Ro(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=aa(this,c),c.length>0?String(c[0]):y):y};function gu(c,y,v){wo(c,y),v.length>0&&(c.i=null,c.g.set(zn(c,y),I(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var v=y[b];const z=as(v);v=aa(this,v);for(let G=0;G<v.length;G++){let re=z;v[G]!==""&&(re+="="+as(v[G])),c.push(re)}}return this.i=c.join("&")};function yu(c){const y=new bn;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function zn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Co(c,y){y&&!c.j&&(wi(c),c.i=null,c.g.forEach(function(v,b){const z=b.toLowerCase();b!=z&&(wo(this,b),gu(this,z,v))},c)),c.j=y}function Io(c,y){const v=new ir;if(h.Image){const b=new Image;b.onload=_(tn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=_(tn,v,"TestLoadImage: error",!1,y,b),b.onabort=_(tn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=_(tn,v,"TestLoadImage: timeout",!1,y,b),h.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function cr(c,y){const v=new ir,b=new AbortController,z=setTimeout(()=>{b.abort(),tn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(z),G.ok?tn(v,"TestPingServer: ok",!0,y):tn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),tn(v,"TestPingServer: error",!1,y)})}function tn(c,y,v,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(v)}catch{}}function _u(){this.g=new Kh}function ms(c){this.i=c.Sb||null,this.h=c.ab||!1}T(ms,cu),ms.prototype.g=function(){return new ps(this.i,this.h)};function ps(c,y){At.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ps,At),r=ps.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Ri(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nn(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;hr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function hr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?nn(this):Ri(this),this.readyState==3&&hr(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,nn(this))},r.Na=function(c){this.g&&(this.response=c,nn(this))},r.ga=function(){this.g&&nn(this)};function nn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ri(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function fr(c){let y="";return Me(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function wn(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=fr(v),typeof c=="string"?v!=null&&as(v):Qe(c,y,v))}function et(c){At.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(et,At);var oa=/^https?$/i,vu=["POST","PUT"];r=et.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Si.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){gs(this,G);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)v.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())v.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(vu,y,void 0)>=0)||b||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of v)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){gs(this,G)}};function gs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,ys(c),bt(c)}function ys(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),bt(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bt(this,!0)),et.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Oo(this):this.Xa())},r.Xa=function(){Oo(this)};function Oo(c){if(c.h&&typeof u<"u"){if(c.v&&Gt(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Gt(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=G===0){let re=String(c.D).match(sa)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),b=!oa.test(re?re.toLowerCase():"")}v=b}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var z=Gt(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",ys(c)}}finally{bt(c)}}}}function bt(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gt(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Gt(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),en(y)}};function _s(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vs(c){const y={};c=(c.g&&Gt(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(C(c[b]))continue;var v=Yh(c[b]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[z]||[];y[z]=G,G.push(v)}V(y,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Es(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function la(c){this.za=0,this.i=[],this.j=new ir,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Es("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Es("baseRetryDelayMs",5e3,c),this.Za=Es("retryDelaySeedMs",1e4,c),this.Ta=Es("forwardChannelMaxRetries",2,c),this.va=Es("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new us(c&&c.concurrentRequestLimit),this.Ba=new _u,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=la.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,b){ft(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=wu(this,null,this.W),As(this)};function Ts(c){if(Ss(c),c.I==3){var y=c.V++,v=at(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",y),Qe(v,"TYPE","terminate"),bs(c,v),y=new kn(c,c.j,y),y.M=2,y.A=bi(at(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=ha(y.j,null),y.g.ea(y.A)),y.F=Date.now(),os(y)}bu(c)}function ti(c){c.g&&(No(c),c.g.cancel(),c.g=null)}function Ss(c){ti(c),c.v&&(h.clearTimeout(c.v),c.v=null),ca(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function As(c){if(!cs(c.h)&&!c.m){c.m=!0;var y=c.Ea;oe||R(),Se||(oe(),Se=!0),x.add(y,c),c.D=0}}function Wh(c,y){return An(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=nr(p(c.Ea,c,y),Au(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new kn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=X(G),se(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ua(this,z,y),v=at(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),bs(this,v),G&&(this.R?y="headers="+as(fr(G))+"&"+y:this.u&&wn(v,this.u,G)),ia(this.h,z),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",y),Qe(v,"SID","null"),z.U=!0,Zn(z,v,null)):Zn(z,v,y),this.I=2}}else this.I==3&&(c?Eu(this,c):this.i.length==0||cs(this.h)||Eu(this))};function Eu(c,y){var v;y?v=y.l:v=c.V++;const b=at(c.J);Qe(b,"SID",c.M),Qe(b,"RID",v),Qe(b,"AID",c.K),bs(c,b),c.u&&c.o&&wn(b,c.u,c.o),v=new kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ua(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ia(c.h,v),Zn(v,b,y)}function bs(c,y){c.H&&Me(c.H,function(v,b){Qe(y,b,v)}),c.l&&Me({},function(v,b){Qe(y,b,v)})}function ua(c,y,v){v=Math.min(c.i.length,v);const b=c.l?p(c.l.Ka,c.l,c):null;e:{var z=c.i;let Re=-1;for(;;){const nt=["count="+v];Re==-1?v>0?(Re=z[0].g,nt.push("ofs="+Re)):Re=0:nt.push("ofs="+Re);let Fe=!0;for(let pt=0;pt<v;pt++){var G=z[pt].g;const fn=z[pt].map;if(G-=Re,G<0)Re=Math.max(0,z[pt].g-100),Fe=!1;else try{G="req"+G+"_"||"";try{var re=fn instanceof Map?fn:Object.entries(fn);for(const[ni,Bn]of re){let jn=Bn;m(Bn)&&(jn=Tn(Bn)),nt.push(G+ni+"="+encodeURIComponent(jn))}}catch(ni){throw nt.push(G+"type="+encodeURIComponent("_badmap")),ni}}catch{b&&b(fn)}}if(Fe){re=nt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function Tu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;oe||R(),Se||(oe(),Se=!0),x.add(y,c),c.A=0}}function Do(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=nr(p(c.Da,c),Au(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=nr(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),ti(this),Su(this))};function No(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Su(c){c.g=new kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=at(c.na);Qe(y,"RID","rpc"),Qe(y,"SID",c.M),Qe(y,"AID",c.K),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(y,"TO",c.ia),Qe(y,"TYPE","xmlhttp"),bs(c,y),c.u&&c.o&&wn(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=bi(at(y)),v.u=null,v.R=!0,sr(v,c)}r.Va=function(){this.C!=null&&(this.C=null,ti(this),Do(this),ft(19))};function ca(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function xo(c,y){var v=null;if(c.g==y){ca(c),No(c),c.g=null;var b=2}else if(hs(c.h,y))v=y.G,Ai(c.h,y),b=1;else return;if(c.I!=0){if(y.o)if(b==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;b=Js(),Ot(b,new fu(b,v)),As(c)}else Tu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(b==1&&Wh(c,y)||b==2&&Do(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function Au(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ci(c,y){if(c.j.info("Error code "+y),y==2){var v=p(c.bb,c),b=c.Ua;const z=!b;b=new Un(b||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||or(b,"https"),bi(b),z?Io(b.toString(),v):cr(b.toString(),v)}else ft(2);c.I=0,c.l&&c.l.pa(y),bu(c),Ss(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function bu(c){if(c.I=0,c.ja=[],c.l){const y=ra(c.h);(y.length!=0||c.i.length!=0)&&(O(c.ja,y),O(c.ja,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.oa()}}function wu(c,y,v){var b=v instanceof Un?at(v):new Un(v);if(b.g!="")y&&(b.g=y+"."+b.g),fs(b,b.u);else{var z=h.location;b=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const G=new Un(null);b&&or(G,b),y&&(G.g=y),z&&fs(G,z),v&&(G.h=v),b=G}return v=c.G,y=c.wa,v&&y&&Qe(b,v,y),Qe(b,"VER",c.ka),bs(c,b),b}function ha(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new et(new ms({ab:v})):new et(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function fa(){}fa.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){At.call(this),this.g=new la(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new dr(this)}T(rn,At),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ts(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Tn(c),c=v);y.i.push(new Xh(y.Ya++,c)),y.I==3&&As(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ts(this.g),delete this.g,rn.Z.N.call(this)};function Mo(c){Ji.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Mo,Ji);function Cu(){Ln.call(this),this.status=1}T(Cu,Ln);function dr(c){this.g=c}T(dr,Ru),dr.prototype.ra=function(){Ot(this.g,"a")},dr.prototype.qa=function(c){Ot(this.g,new Mo(c))},dr.prototype.pa=function(c){Ot(this.g,new Cu)},dr.prototype.oa=function(){Ot(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,VT=function(){return new fa},MT=function(){return Js()},xT=Sn,Am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dt.NO_ERROR=0,dt.TIMEOUT=8,dt.HTTP_ERROR=6,zc=dt,Lt.COMPLETE="complete",NT=Lt,hu.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",At.prototype.listen=At.prototype.J,Cl=hu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,DT=et}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const Mv="@firebase/firestore",Vv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Ym("@firebase/firestore");function Ha(){return Fs.logLevel}function ue(r,...e){if(Fs.logLevel<=Le.DEBUG){const n=e.map(Wm);Fs.debug(`Firestore (${co}): ${r}`,...n)}}function $i(r,...e){if(Fs.logLevel<=Le.ERROR){const n=e.map(Wm);Fs.error(`Firestore (${co}): ${r}`,...n)}}function eo(r,...e){if(Fs.logLevel<=Le.WARN){const n=e.map(Wm);Fs.warn(`Firestore (${co}): ${r}`,...n)}}function Wm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,PT(r,s,n)}function PT(r,e,n){let s=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw $i(s),new Error(s)}function qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||PT(e,o,s)}function Ce(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class LC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kC{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string",31837,{l:s}),new LT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class UC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new UC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Pv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=jC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function bm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return tm(o)===tm(u)?ke(o,u):tm(o)?1:-1}return ke(r.length,e.length)}const HC=55296,qC=57343;function tm(r){const e=r.charCodeAt(0);return e>=HC&&e<=qC}function to(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="__name__";class li{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=li.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=li.isNumericId(e),o=li.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?li.extractNumericId(e).compare(li.extractNumericId(n)):bm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fr.fromString(e.substring(4,e.length-2))}}class it extends li{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const FC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends li{construct(e,n,s){return new jt(e,n,s)}static isValidIdentifier(e){return FC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lv}static keyField(){return new jt([Lv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(r,e,n){if(!n)throw new he(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function GC(r,e,n,s){if(e===!0&&s===!0)throw new he(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function kv(r){if(!ge.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Uv(r){if(ge.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function UT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ep(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function jl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ep(r);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,e){const n={typeString:r};return e&&(n.value=e),n}function tu(r,e){if(!UT(r))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=-62135596800,Bv=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Bv);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zv)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bv}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:St("string",rt._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new rt(0,0))}static max(){return new we(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function $C(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new Qr(o,ge.empty(),e)}function KC(r){return new Qr(r.readTime,r.key,Hl)}class Qr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Qr(we.min(),ge.empty(),Hl)}static max(){return new Qr(we.max(),ge.empty(),Hl)}}function QC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==YC)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},g=>s(g))}),h=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next(_=>{h[p]=_,++m,m===u&&s(h)},_=>o(_))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function ZC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Th.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=-1;function Sh(r){return r==null}function eh(r){return r===0&&1/r==-1/0}function WC(r){return typeof r=="number"&&Number.isInteger(r)&&!eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="";function JC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=jv(e)),e=eI(r.get(n),e);return jv(e)}function eI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case zT:n+="";break;default:n+=u}}return n}function jv(r){return r+zT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ts(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function BT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Bt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qv(this.data.getIterator())}getIteratorFrom(e){return new qv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class qv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new En([])}unionWith(e){let n=new It(jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jT("Invalid base64 string: "+u):u}}(e);return new qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const tI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(r){if(qe(!!r,39018),typeof r=="string"){let e=0;const n=tI.exec(r);if(qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xr(r){return typeof r=="string"?qt.fromBase64String(r):qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="server_timestamp",qT="__type__",FT="__previous_value__",GT="__local_write_time__";function np(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[qT])==null?void 0:s.stringValue)===HT}function Ah(r){const e=r.mapValue.fields[FT];return np(e)?Ah(e):e}function ql(r){const e=Yr(r.mapValue.fields[GT].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,s,o,u,h,m,g,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=_}}const th="(default)";class Fl{constructor(e,n){this.projectId=e,this.database=n||th}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="__type__",iI="__max__",xc={mapValue:{}},KT="__vector__",nh="value";function Zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?np(r)?4:sI(r)?9007199254740991:rI(r)?10:11:ve(28295,{value:r})}function yi(r,e){if(r===e)return!0;const n=Zr(r);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ql(r).isEqual(ql(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Yr(o.timestampValue),m=Yr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Xr(o.bytesValue).isEqual(Xr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?eh(h)===eh(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return to(r.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Hv(h)!==Hv(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!yi(h[g],m[g])))return!1;return!0}(r,e);default:return ve(52216,{left:r})}}function Gl(r,e){return(r.values||[]).find(n=>yi(n,e))!==void 0}function no(r,e){if(r===e)return 0;const n=Zr(r),s=Zr(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=_t(u.integerValue||u.doubleValue),g=_t(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return Fv(r.timestampValue,e.timestampValue);case 4:return Fv(ql(r),ql(e));case 5:return bm(r.stringValue,e.stringValue);case 6:return function(u,h){const m=Xr(u),g=Xr(h);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const _=ke(m[p],g[p]);if(_!==0)return _}return ke(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=ke(_t(u.latitude),_t(h.latitude));return m!==0?m:ke(_t(u.longitude),_t(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Gv(r.arrayValue,e.arrayValue);case 10:return function(u,h){var A,I,O,q;const m=u.fields||{},g=h.fields||{},p=(A=m[nh])==null?void 0:A.arrayValue,_=(I=g[nh])==null?void 0:I.arrayValue,T=ke(((O=p==null?void 0:p.values)==null?void 0:O.length)||0,((q=_==null?void 0:_.values)==null?void 0:q.length)||0);return T!==0?T:Gv(p,_)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===xc.mapValue&&h===xc.mapValue)return 0;if(u===xc.mapValue)return 1;if(h===xc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},_=Object.keys(p);g.sort(),_.sort();for(let T=0;T<g.length&&T<_.length;++T){const A=bm(g[T],_[T]);if(A!==0)return A;const I=no(m[g[T]],p[_[T]]);if(I!==0)return I}return ke(g.length,_.length)}(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function Fv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=Yr(r),s=Yr(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function Gv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=no(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function io(r){return wm(r)}function wm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Xr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=wm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${wm(n.fields[h])}`;return o+"}"}(r.mapValue):ve(61005,{value:r})}function Bc(r){switch(Zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(r);return e?16+Bc(e):16;case 5:return 2*r.stringValue.length;case 6:return Xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Bc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ts(s.fields,(u,h)=>{o+=u.length+Bc(h)}),o}(r.mapValue);default:throw ve(13486,{value:r})}}function Rm(r){return!!r&&"integerValue"in r}function ip(r){return!!r&&"arrayValue"in r}function $v(r){return!!r&&"nullValue"in r}function Kv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function rI(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[$T])==null?void 0:s.stringValue)===KT}function xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ts(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=xl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xl(r.arrayValue.values[n]);return e}return{...r}}function sI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===iI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(n)}setAll(e){let n=jt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=xl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ts(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(xl(this.value))}}function QT(r){const e=[];return ts(r.fields,(n,s)=>{const o=new jt([n]);if(jc(s)){const u=QT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,we.min(),we.min(),we.min(),hn.empty(),0)}static newFoundDocument(e,n,s,o){return new Xt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,we.min(),we.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,we.min(),we.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.position=e,this.inclusive=n}}function Qv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),n.key):s=no(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!yi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n="asc"){this.field=e,this.dir=n}}function aI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{}class Ct extends YT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new lI(e,n,s):n==="array-contains"?new hI(e,s):n==="in"?new fI(e,s):n==="not-in"?new dI(e,s):n==="array-contains-any"?new mI(e,s):new Ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new uI(e,s):new cI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends YT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _i(e,n)}matches(e){return XT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XT(r){return r.op==="and"}function ZT(r){return oI(r)&&XT(r)}function oI(r){for(const e of r.filters)if(e instanceof _i)return!1;return!0}function Cm(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+io(r.value);if(ZT(r))return r.filters.map(e=>Cm(e)).join(",");{const e=r.filters.map(n=>Cm(n)).join(",");return`${r.op}(${e})`}}function WT(r,e){return r instanceof Ct?function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&yi(s.value,o.value)}(r,e):r instanceof _i?function(s,o){return o instanceof _i&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&WT(h,o.filters[m]),!0):!1}(r,e):void ve(19439)}function JT(r){return r instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(r):r instanceof _i?function(n){return n.op.toString()+" {"+n.getFilters().map(JT).join(" ,")+"}"}(r):"Filter"}class lI extends Ct{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class uI extends Ct{constructor(e,n){super(e,"in",n),this.keys=e0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cI extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=e0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function e0(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class hI extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ip(n)&&Gl(n.arrayValue,this.value)}}class fI extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class dI extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gl(this.value.arrayValue,n)}}class mI extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Gl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Xv(r,e=null,n=[],s=[],o=null,u=null,h=null){return new pI(r,e,n,s,o,u,h)}function rp(r){const e=Ce(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Cm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>io(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>io(s)).join(",")),e.Te=n}return e.Te}function sp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!aI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!WT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Yv(r.startAt,e.startAt)&&Yv(r.endAt,e.endAt)}function Im(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gI(r,e,n,s,o,u,h,m){return new bh(r,e,n,s,o,u,h,m)}function t0(r){return new bh(r)}function Zv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function yI(r){return r.collectionGroup!==null}function Ml(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new It(jt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new rh(u,s))}),n.has(jt.keyField().canonicalString())||e.Ie.push(new rh(jt.keyField(),s))}return e.Ie}function ci(r){const e=Ce(r);return e.Ee||(e.Ee=_I(e,Ml(r))),e.Ee}function _I(r,e){if(r.limitType==="F")return Xv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new rh(o.field,u)});const n=r.endAt?new ih(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ih(r.startAt.position,r.startAt.inclusive):null;return Xv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Om(r,e,n){return new bh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function wh(r,e){return sp(ci(r),ci(e))&&r.limitType===e.limitType}function n0(r){return`${rp(ci(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>JT(o)).join(", ")}]`),Sh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>io(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>io(o)).join(",")),`Target(${s})`}(ci(r))}; limitType=${r.limitType})`}function Rh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Ml(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,m,g){const p=Qv(h,m,g);return h.inclusive?p<=0:p<0}(s.startAt,Ml(s),o)||s.endAt&&!function(h,m,g){const p=Qv(h,m,g);return h.inclusive?p>=0:p>0}(s.endAt,Ml(s),o))}(r,e)}function vI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function i0(r){return(e,n)=>{let s=!1;for(const o of Ml(r)){const u=EI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function EI(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?no(g,p):ve(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return BT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new ut(ge.comparator);function Ki(){return TI}const r0=new ut(ge.comparator);function Il(...r){let e=r0;for(const n of r)e=e.insert(n.key,n);return e}function s0(r){let e=r0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function js(){return Vl()}function a0(){return Vl()}function Vl(){return new Qs(r=>r.toString(),(r,e)=>r.isEqual(e))}const SI=new ut(ge.comparator),AI=new It(ge.comparator);function Ue(...r){let e=AI;for(const n of r)e=e.add(n);return e}const bI=new It(ke);function wI(){return bI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function o0(r){return{integerValue:""+r}}function RI(r,e){return WC(e)?o0(e):ap(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function CI(r,e,n){return r instanceof $l?function(o,u){const h={fields:{[qT]:{stringValue:HT},[GT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&np(u)&&(u=Ah(u)),u&&(h.fields[FT]=u),{mapValue:h}}(n,e):r instanceof Kl?u0(r,e):r instanceof Ql?c0(r,e):function(o,u){const h=l0(o,u),m=Wv(h)+Wv(o.Ae);return Rm(h)&&Rm(o.Ae)?o0(m):ap(o.serializer,m)}(r,e)}function II(r,e,n){return r instanceof Kl?u0(r,e):r instanceof Ql?c0(r,e):n}function l0(r,e){return r instanceof sh?function(s){return Rm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class $l extends Ch{}class Kl extends Ch{constructor(e){super(),this.elements=e}}function u0(r,e){const n=h0(e);for(const s of r.elements)n.some(o=>yi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ql extends Ch{constructor(e){super(),this.elements=e}}function c0(r,e){let n=h0(e);for(const s of r.elements)n=n.filter(o=>!yi(o,s));return{arrayValue:{values:n}}}class sh extends Ch{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Wv(r){return _t(r.integerValue||r.doubleValue)}function h0(r){return ip(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.field=e,this.transform=n}}function DI(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Kl&&o instanceof Kl||s instanceof Ql&&o instanceof Ql?to(s.elements,o.elements,yi):s instanceof sh&&o instanceof sh?yi(s.Ae,o.Ae):s instanceof $l&&o instanceof $l}(r.transform,e.transform)}class NI{constructor(e,n){this.version=e,this.transformResults=n}}class Vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ih{}function f0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new op(r.key,Vn.none()):new nu(r.key,r.data,Vn.none());{const n=r.data,s=hn.empty();let o=new It(jt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ns(r.key,s,new En(o.toArray()),Vn.none())}}function xI(r,e,n){r instanceof nu?function(o,u,h){const m=o.value.clone(),g=eE(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ns?function(o,u,h){if(!Hc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=eE(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(d0(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function Pl(r,e,n,s){return r instanceof nu?function(u,h,m,g){if(!Hc(u.precondition,h))return m;const p=u.value.clone(),_=tE(u.fieldTransforms,g,h);return p.setAll(_),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null}(r,e,n,s):r instanceof ns?function(u,h,m,g){if(!Hc(u.precondition,h))return m;const p=tE(u.fieldTransforms,g,h),_=h.data;return _.setAll(d0(u)),_.setAll(p),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,e,n,s):function(u,h,m){return Hc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,n)}function MI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=l0(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function Jv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,(u,h)=>DI(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class nu extends Ih{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ns extends Ih{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function d0(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function eE(r,e,n){const s=new Map;qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,II(h,m,n[o]))}return s}function tE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,CI(u,h,e))}return s}class op extends Ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VI extends Ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&xI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Pl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Pl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=a0();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=f0(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,s)=>Jv(n,s))&&to(this.baseMutations,e.baseMutations,(n,s)=>Jv(n,s))}}class lp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return SI}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new lp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Be;function UI(r){switch(r){case te.OK:return ve(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function m0(r){if(r===void 0)return $i("GRPC error has no .code"),te.UNKNOWN;switch(r){case Tt.OK:return te.OK;case Tt.CANCELLED:return te.CANCELLED;case Tt.UNKNOWN:return te.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return te.INTERNAL;case Tt.UNAVAILABLE:return te.UNAVAILABLE;case Tt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Tt.NOT_FOUND:return te.NOT_FOUND;case Tt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Tt.ABORTED:return te.ABORTED;case Tt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Tt.DATA_LOSS:return te.DATA_LOSS;default:return ve(39323,{code:r})}}(Be=Tt||(Tt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new Fr([4294967295,4294967295],0);function nE(r){const e=zI().encode(r),n=new OT;return n.update(e),new Uint8Array(n.digest())}function iE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Fr([n,s],0),new Fr([o,u],0)]}class up{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(s<0)throw new Ol(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Fr.fromNumber(s)));return o.compare(BI)===1&&(o=new Fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nE(e),[s,o]=iE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new up(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const n=nE(e),[s,o]=iE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Oh(we.min(),o,new ut(ke),Ki(),Ue())}}class iu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new iu(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class p0{constructor(e,n){this.targetId=e,this.Ce=n}}class g0{constructor(e,n,s=qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class rE{constructor(){this.ve=0,this.Fe=sE(),this.Me=qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}}),new iu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=sE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ki(),this.Je=Mc(),this.He=Mc(),this.Ye=new ut(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Im(u))if(s===0){const h=new ge(u.path);this.et(n,h,Xt.newNoDocument(h,we.min()))}else qe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Xr(s).toUint8Array()}catch(g){if(g instanceof jT)return eo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new up(h,o,u)}catch(g){return eo(g instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Im(m.target)){const g=new ge(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Xt.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}});let s=Ue();this.He.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const o=new Oh(e,n,this.Ye,this.je,s);return this.je=Ki(),this.Je=Mc(),this.He=Mc(),this.Ye=new ut(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new rE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new It(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new It(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Mc(){return new ut(ge.comparator)}function sE(){return new ut(ge.comparator)}const HI={asc:"ASCENDING",desc:"DESCENDING"},qI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FI={and:"AND",or:"OR"};class GI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dm(r,e){return r.useProto3Json||Sh(e)?e:{value:e}}function ah(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function y0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $I(r,e){return ah(r,e.toTimestamp())}function hi(r){return qe(!!r,49232),we.fromTimestamp(function(n){const s=Yr(n);return new rt(s.seconds,s.nanos)}(r))}function cp(r,e){return Nm(r,e).canonicalString()}function Nm(r,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function _0(r){const e=it.fromString(r);return qe(A0(e),10190,{key:e.toString()}),e}function xm(r,e){return cp(r.databaseId,e.path)}function nm(r,e){const n=_0(e);if(n.get(1)!==r.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(E0(n))}function v0(r,e){return cp(r.databaseId,e)}function KI(r){const e=_0(r);return e.length===4?it.emptyPath():E0(e)}function Mm(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function E0(r){return qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function aE(r,e,n){return{name:xm(r,e),fields:n.value.mapValue.fields}}function QI(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ve(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,_){return p.useProto3Json?(qe(_===void 0||typeof _=="string",58123),qt.fromBase64String(_||"")):(qe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),qt.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(p){const _=p.code===void 0?te.UNKNOWN:m0(p.code);return new he(_,p.message||"")}(h);n=new g0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=nm(r,s.document.name),u=hi(s.document.updateTime),h=s.document.createTime?hi(s.document.createTime):we.min(),m=new hn({mapValue:{fields:s.document.fields}}),g=Xt.newFoundDocument(o,u,h,m),p=s.targetIds||[],_=s.removedTargetIds||[];n=new qc(p,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=nm(r,s.document),u=s.readTime?hi(s.readTime):we.min(),h=Xt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new qc([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=nm(r,s.document),u=s.removedTargetIds||[];n=new qc([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new kI(o,u),m=s.targetId;n=new p0(m,h)}}return n}function YI(r,e){let n;if(e instanceof nu)n={update:aE(r,e.key,e.value)};else if(e instanceof op)n={delete:xm(r,e.key)};else if(e instanceof ns)n={update:aE(r,e.key,e.data),updateMask:r2(e.fieldMask)};else{if(!(e instanceof VI))return ve(16599,{Vt:e.type});n={verify:xm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof $l)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Kl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ql)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof sh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:$I(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)}(r,e.precondition)),n}function XI(r,e){return r&&r.length>0?(qe(e!==void 0,14353),r.map(n=>function(o,u){let h=o.updateTime?hi(o.updateTime):hi(u);return h.isEqual(we.min())&&(h=hi(u)),new NI(h,o.transformResults||[])}(n,e))):[]}function ZI(r,e){return{documents:[v0(r,e.path)]}}function WI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=v0(r,o);const u=function(p){if(p.length!==0)return S0(_i.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(p){if(p.length!==0)return p.map(_=>function(A){return{field:Fa(A.field),direction:t2(A.dir)}}(_))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Dm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:n,parent:o}}function JI(r){let e=KI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qe(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=function(T){const A=T0(T);return A instanceof _i&&ZT(A)?A.getFilters():[A]}(n.where));let h=[];n.orderBy&&(h=function(T){return T.map(A=>function(O){return new rh(Ga(O.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(T){let A;return A=typeof T=="object"?T.value:T,Sh(A)?null:A}(n.limit));let g=null;n.startAt&&(g=function(T){const A=!!T.before,I=T.values||[];return new ih(I,A)}(n.startAt));let p=null;return n.endAt&&(p=function(T){const A=!T.before,I=T.values||[];return new ih(I,A)}(n.endAt)),gI(e,o,h,u,m,"F",g,p)}function e2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function T0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ga(n.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ga(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ga(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ga(n.unaryFilter.field);return Ct.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ct.create(Ga(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return _i.create(n.compositeFilter.filters.map(s=>T0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}}(n.compositeFilter.op))}(r):ve(30097,{filter:r})}function t2(r){return HI[r]}function n2(r){return qI[r]}function i2(r){return FI[r]}function Fa(r){return{fieldPath:r.canonicalString()}}function Ga(r){return jt.fromServerFormat(r.fieldPath)}function S0(r){return r instanceof Ct?function(n){if(n.op==="=="){if(Kv(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NAN"}};if($v(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kv(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NOT_NAN"}};if($v(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(n.field),op:n2(n.op),value:n.value}}}(r):r instanceof _i?function(n){const s=n.getFilters().map(o=>S0(o));return s.length===1?s[0]:{compositeFilter:{op:i2(n.op),filters:s}}}(r):ve(54877,{filter:r})}function r2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function A0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,s,o,u=we.min(),h=we.min(),m=qt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.yt=e}}function a2(r){const e=JI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Om(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.Cn=new l2}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Qr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class l2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},b0=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(b0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ro(0)}static cr(){return new ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="LruGarbageCollector",u2=1048576;function uE([r,e],[n,s]){const o=ke(r,n);return o===0?ke(e,s):o}class c2{constructor(e){this.Ir=e,this.buffer=new It(uE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();uE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(lE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fo(n)?ue(lE,"Ignoring IndexedDB error during garbage collection: ",n):await ho(n)}await this.Vr(3e5)})}}class f2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Th.ce);const s=new c2(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(oE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,g,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,n))).next(T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(p=Date.now(),Ha()<=Le.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-_}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function d2(r,e){return new f2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.changes=new Qs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Pl(s.mutation,o,En.empty(),rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ue()){const o=js();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Il();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ue()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,o){let u=Ki();const h=Vl(),m=function(){return Vl()}();return n.forEach((g,p)=>{const _=s.get(p.key);o.has(p.key)&&(_===void 0||_.mutation instanceof ns)?u=u.insert(p.key,p):_!==void 0?(h.set(p.key,_.mutation.getFieldMask()),Pl(_.mutation,p,_.mutation.getFieldMask(),rt.now())):h.set(p.key,En.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,_)=>h.set(p,_)),n.forEach((p,_)=>m.set(p,new p2(_,h.get(p)??null))),m))}recalculateAndSaveOverlays(e,n){const s=Vl();let o=new ut((h,m)=>h-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const p=n.get(g);if(p===null)return;let _=s.get(g)||En.empty();_=m.applyToLocalView(p,_),s.set(g,_);const T=(o.get(m.batchId)||Ue()).add(g);o=o.insert(m.batchId,T)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,_=g.value,T=a0();_.forEach(A=>{if(!u.has(A)){const I=f0(n.get(A),s.get(A));I!==null&&T.set(A,I),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,p,T))}return J.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(js());let m=Hl,g=u;return h.next(p=>J.forEach(p,(_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(_)?J.resolve():this.remoteDocumentCache.getEntry(e,_).next(A=>{g=g.insert(_,A)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,Ue())).next(_=>({batchId:m,changes:s0(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Il();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Il();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,g=>{const p=function(T,A){return new bh(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(_=>{_.forEach((T,A)=>{h=h.insert(T,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((g,p)=>{const _=p.getKey();h.get(_)===null&&(h=h.insert(_,Xt.newInvalidDocument(_)))});let m=Il();return h.forEach((g,p)=>{const _=u.get(g);_!==void 0&&Pl(_.mutation,p,En.empty(),rt.now()),Rh(n,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:hi(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:a2(o.bundledQuery),readTime:hi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.overlays=new ut(ge.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=js();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=js(),u=n.length+1,h=new ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut((p,_)=>p-_);const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let _=u.get(p.largestBatchId);_===null&&(_=js(),u=u.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const m=js(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,_)=>m.set(p,_)),!(m.size()>=o)););return J.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new LI(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this.Qr=new It(Vt.$r),this.Ur=new It(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Vt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Vt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ge(new it([])),s=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new it([])),s=new Vt(n,e),o=new Vt(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Vt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new It(Vt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new PI(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?tp:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],h=>{const m=this.Xr(h.Yr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(ke);return n.forEach(o=>{const u=new Vt(o,0),h=new Vt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],m=>{s=s.add(m.Yr)})}),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Vt(new ge(u),0);let m=new It(ke);return this.Zr.forEachWhile(g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)},h),J.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,o=>{const u=new Vt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Vt(n,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.ri=e,this.docs=function(){return new ut(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=Ki();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ki();const h=n.path,m=new ge(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:_}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||QC(KC(_),s)<=0||(o.has(_.key)||Rh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new S2(this)}getSize(e){return J.resolve(this.size)}}class S2 extends m2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.persistence=e,this.si=new Qs(n=>rp(n),sp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new hp,this.targetCount=0,this.ai=ro.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ro(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new v2,this.referenceDelegate=e(this),this.Pi=new A2(this),this.indexManager=new o2,this.remoteDocumentCache=function(o){return new T2(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new s2(n),this.Ii=new y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new E2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new b2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return J.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class b2 extends XC{constructor(e){super(),this.currentSequenceNumber=e}}class fp{constructor(e){this.persistence=e,this.Ri=new hp,this.Vi=null}static mi(e){return new fp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,s=>{const o=ge.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class oh{constructor(e,n){this.persistence=e,this.pi=new Qs(s=>JC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=d2(this,n)}static mi(e,n){return new oh(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return J.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,n).next(m=>{m||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bc(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new dp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yR()?8:ZC(Zt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new w2;return this.Ss(e,n,h).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ha()<=Le.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ha()<=Le.DEBUG&&ue("QueryEngine","Query:",qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ha()<=Le.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):J.resolve())}ys(e,n){if(Zv(n))return J.resolve(null);let s=ci(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Om(n,null,"F"),s=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ue(...u);return this.ps.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const p=this.Ds(n,m);return this.Cs(n,p,h,g.readTime)?this.ys(e,Om(n,null,"F")):this.vs(e,p,n,g)}))})))}ws(e,n,s,o){return Zv(n)||o.isEqual(we.min())?J.resolve(null):this.ps.getDocuments(e,s).next(u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?J.resolve(null):(Ha()<=Le.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qa(n)),this.vs(e,h,n,$C(o,Hl)).next(m=>m))})}Ds(e,n){let s=new It(i0(e));return n.forEach((o,u)=>{Rh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ha()<=Le.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",qa(n)),this.ps.getDocumentsMatchingQuery(e,n,Qr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="LocalStore",C2=3e8;class I2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(ke),this.xs=new Qs(u=>rp(u),sp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function O2(r,e,n,s){return new I2(r,e,n,s)}async function R0(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let g=Ue();for(const p of o){h.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}for(const p of u){m.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(s,g).next(p=>({Ls:p,removedBatchIds:h,addedBatchIds:m}))})})}function D2(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,g,p,_){const T=p.batch,A=T.keys();let I=J.resolve();return A.forEach(O=>{I=I.next(()=>_.getEntry(g,O)).next(q=>{const B=p.docVersions.get(O);qe(B!==null,48541),q.version.compareTo(B)<0&&(T.applyToRemoteDocument(q,p),q.isValidDocument()&&(q.setReadTime(p.commitVersion),_.addEntry(q)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(g,T))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ue();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function C0(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function N2(r,e){const n=Ce(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((_,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,T).next(()=>n.Pi.addMatchingKeys(u,_.addedDocuments,T)));let I=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?I=I.withResumeToken(qt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,s)),o=o.insert(T,I),function(q,B,K){return q.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=C2?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(A,I,_)&&m.push(n.Pi.updateTargetData(u,I))});let g=Ki(),p=Ue();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(x2(u,h,e.documentUpdates).next(_=>{g=_.ks,p=_.qs})),!s.isEqual(we.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next(T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return J.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(n.Ms=o,u))}function x2(r,e,n){let s=Ue(),o=Ue();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=Ki();return n.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ue(mp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{ks:h,qs:o}})}function M2(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=tp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function V2(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(s).next(h=>(o=new Br(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Vm(r,e,n){const s=Ce(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!fo(h))throw h;ue(mp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function cE(r,e,n){const s=Ce(r);let o=we.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,p,_){const T=Ce(g),A=T.xs.get(_);return A!==void 0?J.resolve(T.Ms.get(A)):T.Pi.getTargetData(p,_)}(s,h,ci(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?u:Ue())).next(m=>(P2(s,vI(e),m),{documents:m,Qs:u})))}function P2(r,e,n){let s=r.Os.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class hE{constructor(){this.activeTargetIds=wI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L2{constructor(){this.Mo=new hE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="ConnectivityMonitor";class dE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(fE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(fE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function Pm(){return Vc===null?Vc=function(){return 268435456+Math.round(2147483648*Math.random())}():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="RestConnection",U2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Pm(),m=this.zo(e,n.toUriEncodedString());ue(im,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),_=lo(p);return this.Jo(e,m,g,s,_).then(T=>(ue(im,`Received RPC '${e}' ${h}: `,T),T),T=>{throw eo(im,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T})}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=U2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class j2 extends z2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Pm();return new Promise((m,g)=>{const p=new DT;p.setWithCredentials(!0),p.listenOnce(NT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case zc.NO_ERROR:const T=p.getResponseJson();ue(Qt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case zc.TIMEOUT:ue(Qt,`RPC '${e}' ${h} timed out`),g(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const A=p.getStatus();if(ue(Qt,`RPC '${e}' ${h} failed with status:`,A,"response text:",p.getResponseText()),A>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const O=I==null?void 0:I.error;if(O&&O.status&&O.message){const q=function(K){const ne=K.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(ne)>=0?ne:te.UNKNOWN}(O.status);g(new he(q,O.message))}else g(new he(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new he(te.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Qt,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);ue(Qt,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",_,s,15)})}T_(e,n,s){const o=Pm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=VT(),m=MT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const _=u.join("");ue(Qt,`Creating RPC '${e}' stream ${o}: ${_}`,g);const T=h.createWebChannel(_,g);this.I_(T);let A=!1,I=!1;const O=new B2({Yo:B=>{I?ue(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(A||(ue(Qt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ue(Qt,`RPC '${e}' stream ${o} sending:`,B),T.send(B))},Zo:()=>T.close()}),q=(B,K,ne)=>{B.listen(K,ee=>{try{ne(ee)}catch(le){setTimeout(()=>{throw le},0)}})};return q(T,Cl.EventType.OPEN,()=>{I||(ue(Qt,`RPC '${e}' stream ${o} transport opened.`),O.o_())}),q(T,Cl.EventType.CLOSE,()=>{I||(I=!0,ue(Qt,`RPC '${e}' stream ${o} transport closed`),O.a_(),this.E_(T))}),q(T,Cl.EventType.ERROR,B=>{I||(I=!0,eo(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),O.a_(new he(te.UNAVAILABLE,"The operation could not be completed")))}),q(T,Cl.EventType.MESSAGE,B=>{var K;if(!I){const ne=B.data[0];qe(!!ne,16349);const ee=ne,le=(ee==null?void 0:ee.error)||((K=ee[0])==null?void 0:K.error);if(le){ue(Qt,`RPC '${e}' stream ${o} received error:`,le);const oe=le.status;let Se=function(w){const N=Tt[w];if(N!==void 0)return m0(N)}(oe),x=le.message;Se===void 0&&(Se=te.INTERNAL,x="Unknown error status: "+oe+" with message "+le.message),I=!0,O.a_(new he(Se,x)),T.close()}else ue(Qt,`RPC '${e}' stream ${o} received:`,ne),O.u_(ne)}}),q(m,xT.STAT_EVENT,B=>{B.stat===Am.PROXY?ue(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Am.NOPROXY&&ue(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.__()},0),O}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(r){return new GI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="PersistentStream";class O0{constructor(e,n,s,o,u,h,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new I0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new he(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ue(mE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ue(mE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H2 extends O0{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=QI(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?hi(h.readTime):we.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Mm(this.serializer),n.addTarget=function(u,h){let m;const g=h.target;if(m=Im(g)?{documents:ZI(u,g)}:{query:WI(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=y0(u,h.resumeToken);const p=Dm(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=ah(u,h.snapshotVersion.toTimestamp());const p=Dm(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const s=e2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Mm(this.serializer),n.removeTarget=e,this.q_(n)}}class q2 extends O0{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=XI(e.writeResults,e.commitTime),s=hi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Mm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>YI(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{}class G2 extends F2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,Nm(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(te.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(e,Nm(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(te.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class $2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="RemoteStore";class K2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{s.enqueueAndForget(async()=>{Ys(this)&&(ue(Gs,"Restarting streams for network reachability change."),await async function(g){const p=Ce(g);p.Ea.add(4),await ru(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Nh(p)}(this))})}),this.Ra=new $2(s,o)}}async function Nh(r){if(Ys(r))for(const e of r.da)await e(!0)}async function ru(r){for(const e of r.da)await e(!1)}function D0(r,e){const n=Ce(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_p(n)?yp(n):mo(n).O_()&&gp(n,e))}function pp(r,e){const n=Ce(r),s=mo(n);n.Ia.delete(e),s.O_()&&N0(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ys(n)&&n.Ra.set("Unknown"))}function gp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mo(r).Y_(e)}function N0(r,e){r.Va.Ue(e),mo(r).Z_(e)}function yp(r){r.Va=new jI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),mo(r).start(),r.Ra.ua()}function _p(r){return Ys(r)&&!mo(r).x_()&&r.Ia.size>0}function Ys(r){return Ce(r).Ea.size===0}function x0(r){r.Va=void 0}async function Q2(r){r.Ra.set("Online")}async function Y2(r){r.Ia.forEach((e,n)=>{gp(r,e)})}async function X2(r,e){x0(r),_p(r)?(r.Ra.ha(e),yp(r)):r.Ra.set("Unknown")}async function Z2(r,e,n){if(r.Ra.set("Online"),e instanceof g0&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(s){ue(Gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lh(r,s)}else if(e instanceof qc?r.Va.Ze(e):e instanceof p0?r.Va.st(e):r.Va.tt(e),!n.isEqual(we.min()))try{const s=await C0(r.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ia.get(p);_&&u.Ia.set(p,_.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,p)=>{const _=u.Ia.get(g);if(!_)return;u.Ia.set(g,_.withResumeToken(qt.EMPTY_BYTE_STRING,_.snapshotVersion)),N0(u,g);const T=new Br(_.target,g,p,_.sequenceNumber);gp(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ue(Gs,"Failed to raise snapshot:",s),await lh(r,s)}}async function lh(r,e,n){if(!fo(e))throw e;r.Ea.add(1),await ru(r),r.Ra.set("Offline"),n||(n=()=>C0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(Gs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Nh(r)})}function M0(r,e){return e().catch(n=>lh(r,n,e))}async function xh(r){const e=Ce(r),n=Wr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tp;for(;W2(e);)try{const o=await M2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,J2(e,o)}catch(o){await lh(e,o)}V0(e)&&P0(e)}function W2(r){return Ys(r)&&r.Ta.length<10}function J2(r,e){r.Ta.push(e);const n=Wr(r);n.O_()&&n.X_&&n.ea(e.mutations)}function V0(r){return Ys(r)&&!Wr(r).x_()&&r.Ta.length>0}function P0(r){Wr(r).start()}async function eO(r){Wr(r).ra()}async function tO(r){const e=Wr(r);for(const n of r.Ta)e.ea(n.mutations)}async function nO(r,e,n){const s=r.Ta.shift(),o=lp.from(s,e,n);await M0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await xh(r)}async function iO(r,e){e&&Wr(r).X_&&await async function(s,o){if(function(h){return UI(h)&&h!==te.ABORTED}(o.code)){const u=s.Ta.shift();Wr(s).B_(),await M0(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await xh(s)}}(r,e),V0(r)&&P0(r)}async function pE(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),ue(Gs,"RemoteStore received new credentials");const s=Ys(n);n.Ea.add(3),await ru(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nh(n)}async function rO(r,e){const n=Ce(r);e?(n.Ea.delete(2),await Nh(n)):e||(n.Ea.add(2),await ru(n),n.Ra.set("Unknown"))}function mo(r){return r.ma||(r.ma=function(n,s,o){const u=Ce(n);return u.sa(),new H2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:Q2.bind(null,r),t_:Y2.bind(null,r),r_:X2.bind(null,r),H_:Z2.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),_p(r)?yp(r):r.Ra.set("Unknown")):(await r.ma.stop(),x0(r))})),r.ma}function Wr(r){return r.fa||(r.fa=function(n,s,o){const u=Ce(n);return u.sa(),new q2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:eO.bind(null,r),r_:iO.bind(null,r),ta:tO.bind(null,r),na:nO.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(Gs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new vp(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(r,e){if($i("AsyncQueue",`${e}: ${r}`),fo(r))return new he(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(e){return new Ka(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Il(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ka;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.ga=new ut(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class so{constructor(e,n,s,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new so(e,n,Ka.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class aO{constructor(){this.queries=yE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=yE(),u.forEach((h,m)=>{for(const g of m.Sa)g.onError(s)})})(this,new he(te.ABORTED,"Firestore shutting down"))}}function yE(){return new Qs(r=>n0(r),wh)}async function oO(r,e){const n=Ce(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new sO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Ep(h,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Tp(n)}async function lO(r,e){const n=Ce(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function uO(r,e){const n=Ce(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Tp(n)}function cO(r,e,n){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Tp(r){r.Ca.forEach(e=>{e.next()})}var Lm,_E;(_E=Lm||(Lm={})).Ma="default",_E.Cache="cache";class hO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new so(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this.key=e}}class k0{constructor(e){this.key=e}}class fO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=i0(e),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new gE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const A=o.get(_),I=Rh(this.query,T)?T:null,O=!!A&&this.mutatedKeys.has(A.key),q=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let B=!1;A&&I?A.data.isEqual(I.data)?O!==q&&(s.track({type:3,doc:I}),B=!0):this.su(A,I)||(s.track({type:2,doc:I}),B=!0,(g&&this.eu(I,g)>0||p&&this.eu(I,p)<0)&&(m=!0)):!A&&I?(s.track({type:0,doc:I}),B=!0):A&&!I&&(s.track({type:1,doc:A}),B=!0,(g||p)&&(m=!0)),B&&(I?(h=h.add(I),u=q?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((_,T)=>function(I,O){const q=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:B})}};return q(I)-q(O)}(_.type,T.type)||this.eu(_.doc,T.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,h.length!==0||p?{snapshot:new so(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new k0(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new L0(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sp="SyncEngine";class dO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class mO{constructor(e){this.key=e,this.hu=!1}}class pO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Qs(m=>n0(m),wh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ge.comparator),this.Au=new Map,this.Ru=new hp,this.Vu={},this.mu=new Map,this.fu=ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gO(r,e,n=!0){const s=q0(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await U0(s,e,n,!0),o}async function yO(r,e){const n=q0(r);await U0(n,e,!0,!1)}async function U0(r,e,n,s){const o=await V2(r.localStore,ci(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await _O(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&D0(r.remoteStore,o),m}async function _O(r,e,n,s,o){r.pu=(T,A,I)=>async function(q,B,K,ne){let ee=B.view.ru(K);ee.Cs&&(ee=await cE(q.localStore,B.query,!1).then(({documents:x})=>B.view.ru(x,ee)));const le=ne&&ne.targetChanges.get(B.targetId),oe=ne&&ne.targetMismatches.get(B.targetId)!=null,Se=B.view.applyChanges(ee,q.isPrimaryClient,le,oe);return EE(q,B.targetId,Se.au),Se.snapshot}(r,T,A,I);const u=await cE(r.localStore,e,!0),h=new fO(e,u.Qs),m=h.ru(u.documents),g=iu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);EE(r,n,p.au);const _=new dO(e,n,h);return r.Tu.set(e,_),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function vO(r,e,n){const s=Ce(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(h=>!wh(h,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&pp(s.remoteStore,o.targetId),km(s,o.targetId)}).catch(ho)):(km(s,o.targetId),await Vm(s.localStore,o.targetId,!0))}async function EO(r,e){const n=Ce(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),pp(n.remoteStore,s.targetId))}async function TO(r,e,n){const s=IO(r);try{const o=await function(h,m){const g=Ce(h),p=rt.now(),_=m.reduce((I,O)=>I.add(O.key),Ue());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",I=>{let O=Ki(),q=Ue();return g.Ns.getEntries(I,_).next(B=>{O=B,O.forEach((K,ne)=>{ne.isValidDocument()||(q=q.add(K))})}).next(()=>g.localDocuments.getOverlayedDocuments(I,O)).next(B=>{T=B;const K=[];for(const ne of m){const ee=MI(ne,T.get(ne.key).overlayedDocument);ee!=null&&K.push(new ns(ne.key,ee,QT(ee.value.mapValue),Vn.exists(!0)))}return g.mutationQueue.addMutationBatch(I,p,K,m)}).next(B=>{A=B;const K=B.applyToLocalDocumentSet(T,q);return g.documentOverlayCache.saveOverlays(I,B.batchId,K)})}).then(()=>({batchId:A.batchId,changes:s0(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,g){let p=h.Vu[h.currentUser.toKey()];p||(p=new ut(ke)),p=p.insert(m,g),h.Vu[h.currentUser.toKey()]=p}(s,o.batchId,n),await su(s,o.changes),await xh(s.remoteStore)}catch(o){const u=Ep(o,"Failed to persist write");n.reject(u)}}async function z0(r,e){const n=Ce(r);try{const s=await N2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Au.get(u);h&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?qe(h.hu,14607):o.removedDocuments.size>0&&(qe(h.hu,42227),h.hu=!1))}),await su(n,s,e)}catch(s){await ho(s)}}function vE(r,e,n){const s=Ce(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const g=Ce(h);g.onlineState=m;let p=!1;g.queries.forEach((_,T)=>{for(const A of T.Sa)A.va(m)&&(p=!0)}),p&&Tp(g)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function SO(r,e,n){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ut(ge.comparator);h=h.insert(u,Xt.newNoDocument(u,we.min()));const m=Ue().add(u),g=new Oh(we.min(),new Map,new ut(ke),h,m);await z0(s,g),s.du=s.du.remove(u),s.Au.delete(e),Ap(s)}else await Vm(s.localStore,e,!1).then(()=>km(s,e,n)).catch(ho)}async function AO(r,e){const n=Ce(r),s=e.batch.batchId;try{const o=await D2(n.localStore,e);j0(n,s,null),B0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await su(n,o)}catch(o){await ho(o)}}async function bO(r,e,n){const s=Ce(r);try{const o=await function(h,m){const g=Ce(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return g.mutationQueue.lookupMutationBatch(p,m).next(T=>(qe(T!==null,37113),_=T.keys(),g.mutationQueue.removeMutationBatch(p,T))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,_,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>g.localDocuments.getDocuments(p,_))})}(s.localStore,e);j0(s,e,n),B0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await su(s,o)}catch(o){await ho(o)}}function B0(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function j0(r,e,n){const s=Ce(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function km(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||H0(r,s)})}function H0(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(pp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Ap(r))}function EE(r,e,n){for(const s of n)s instanceof L0?(r.Ru.addReference(s.key,e),wO(r,s)):s instanceof k0?(ue(Sp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||H0(r,s.key)):ve(19791,{wu:s})}function wO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ue(Sp,"New document in limbo: "+n),r.Eu.add(s),Ap(r))}function Ap(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(it.fromString(e)),s=r.fu.next();r.Au.set(s,new mO(n)),r.du=r.du.insert(n,s),D0(r.remoteStore,new Br(ci(t0(n.path)),s,"TargetPurposeLimboResolution",Th.ce))}}async function su(r,e,n){const s=Ce(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((m,g)=>{h.push(s.pu(g,e,n).then(p=>{var _;if((p||n)&&s.isPrimaryClient){const T=p?!p.fromCache:(_=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:_.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){o.push(p);const T=dp.As(g.targetId,p);u.push(T)}}))}),await Promise.all(h),s.Pu.H_(o),await async function(g,p){const _=Ce(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>J.forEach(p,A=>J.forEach(A.Es,I=>_.persistence.referenceDelegate.addReference(T,A.targetId,I)).next(()=>J.forEach(A.ds,I=>_.persistence.referenceDelegate.removeReference(T,A.targetId,I)))))}catch(T){if(!fo(T))throw T;ue(mp,"Failed to update sequence numbers: "+T)}for(const T of p){const A=T.targetId;if(!T.fromCache){const I=_.Ms.get(A),O=I.snapshotVersion,q=I.withLastLimboFreeSnapshotVersion(O);_.Ms=_.Ms.insert(A,q)}}}(s.localStore,u))}async function RO(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){ue(Sp,"User change. New user:",e.toKey());const s=await R0(n.localStore,e);n.currentUser=e,function(u,h){u.mu.forEach(m=>{m.forEach(g=>{g.reject(new he(te.CANCELLED,h))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await su(n,s.Ls)}}function CO(r,e){const n=Ce(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function q0(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=z0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SO.bind(null,e),e.Pu.H_=uO.bind(null,e.eventManager),e.Pu.yu=cO.bind(null,e.eventManager),e}function IO(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bO.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return O2(this.persistence,new R2,e.initialUser,this.serializer)}Cu(e){return new w0(fp.mi,this.serializer)}Du(e){return new L2}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class OO extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof oh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new h2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new w0(s=>oh.mi(s,n),this.serializer)}}class Um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RO.bind(null,this.syncEngine),await rO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aO}()}createDatastore(e){const n=Dh(e.databaseInfo.databaseId),s=function(u){return new j2(u)}(e.databaseInfo);return function(u,h,m,g){return new G2(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,m){return new K2(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>vE(this.syncEngine,n,0),function(){return dE.v()?new dE:new k2}())}createSyncEngine(e,n){return function(o,u,h,m,g,p,_){const T=new pO(o,u,h,m,g,p);return _&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ce(o);ue(Gs,"RemoteStore shutting down."),u.Ea.add(5),await ru(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="FirestoreClient";class NO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ue(Jr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue(Jr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ep(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function sm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Jr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await R0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function TE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await xO(r);ue(Jr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>pE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>pE(e.remoteStore,o)),r._onlineComponents=e}async function xO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Jr,"Using user provided OfflineComponentProvider");try{await sm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await sm(r,new uh)}}else ue(Jr,"Using default OfflineComponentProvider"),await sm(r,new OO(void 0));return r._offlineComponents}async function F0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Jr,"Using user provided OnlineComponentProvider"),await TE(r,r._uninitializedComponentsProvider._online)):(ue(Jr,"Using default OnlineComponentProvider"),await TE(r,new Um))),r._onlineComponents}function MO(r){return F0(r).then(e=>e.syncEngine)}async function VO(r){const e=await F0(r),n=e.eventManager;return n.onListen=gO.bind(null,e.syncEngine),n.onUnlisten=vO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EO.bind(null,e.syncEngine),n}function PO(r,e,n={}){const s=new Gr;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,p){const _=new DO({next:A=>{_.Nu(),h.enqueueAndForget(()=>lO(u,T)),A.fromCache&&g.source==="server"?p.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new hO(m,_,{includeMetadataChanges:!0,qa:!0});return oO(u,T)}(await VO(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="firestore.googleapis.com",AE=!0;class bE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$0,this.ssl=AE}else this.host=e.host,this.ssl=e.ssl??AE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=b0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u2)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G0(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new PC;switch(s.type){case"firstParty":return new zC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=SE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),SE.delete(n),s.terminate())}(this),Promise.resolve()}}function LO(r,e,n,s={}){var p;r=jl(r,Mh);const o=lo(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(TT(`https://${m}`),ST("Firestore",!0)),u.host!==$0&&u.host!==m&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Hs(g,h)&&(r._setSettings(g),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=Yt.MOCK_USER;else{_=lR(s.mockUserToken,(p=r._app)==null?void 0:p.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Yt(A)}r._authCredentials=new LC(new LT(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vh(this.firestore,e,this._query)}}class Ht{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(tu(n,Ht._jsonSchema))return new Ht(e,s||null,new ge(it.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:St("string",Ht._jsonSchemaVersion),referencePath:St("string")};class $r extends Vh{constructor(e,n,s){super(e,n,t0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new ge(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function kO(r,e,...n){if(r=Wt(r),kT("collection","path",e),r instanceof Mh){const s=it.fromString(e,...n);return Uv(s),new $r(r,null,s)}{if(!(r instanceof Ht||r instanceof $r))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return Uv(s),new $r(r.firestore,null,s)}}function K0(r,e,...n){if(r=Wt(r),arguments.length===1&&(e=Jm.newId()),kT("doc","path",e),r instanceof Mh){const s=it.fromString(e,...n);return kv(s),new Ht(r,null,new ge(s))}{if(!(r instanceof Ht||r instanceof $r))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return kv(s),new Ht(r.firestore,r instanceof $r?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="AsyncQueue";class RE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new I0(this,"async_queue_retry"),this._c=()=>{const s=rm();s&&ue(wE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Gr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fo(e))throw e;ue(wE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",CE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=vp.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:CE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function CE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ph extends Mh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new RE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RE(e),this._firestoreClient=void 0,await e}}}function UO(r,e){const n=typeof r=="object"?r:RT(),s=typeof r=="string"?r:th,o=Zm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=aR("firestore");u&&LO(o,...u)}return o}function bp(r){if(r._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||zO(r),r._firestoreClient}function zO(r){var s,o,u;const e=r._freezeSettings(),n=function(m,g,p,_){return new nI(m,g,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,G0(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new NO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(qt.fromBase64String(e))}catch(n){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mn(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:St("string",Mn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fi._jsonSchemaVersion}}static fromJSON(e){if(tu(e,fi._jsonSchema))return new fi(e.latitude,e.longitude)}}fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:St("string",fi._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tu(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new di(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:St("string",di._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=/^__.*__$/;class jO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class Q0{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Y0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class wp{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Y0(this.Ac)&&BO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Dh(e)}Cc(e,n,s,o=!1){return new wp({Ac:e,methodName:n,Dc:s,path:jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function X0(r){const e=r._freezeSettings(),n=Dh(r._databaseId);return new HO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Z0(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Cp("Data must be an object, but it was:",h,s);const m=W0(s,h);let g,p;if(u.merge)g=new En(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const A=zm(e,T,n);if(!h.contains(A))throw new he(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);eS(_,A)||_.push(A)}g=new En(_),p=h.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,p=h.fieldTransforms;return new jO(new hn(m),g,p)}class Uh extends kh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}class Rp extends kh{_toFieldTransform(e){return new OI(e.path,new $l)}isEqual(e){return e instanceof Rp}}function qO(r,e,n,s){const o=r.Cc(1,e,n);Cp("Data must be an object, but it was:",o,s);const u=[],h=hn.empty();ts(s,(g,p)=>{const _=Ip(e,g,n);p=Wt(p);const T=o.yc(_);if(p instanceof Uh)u.push(_);else{const A=zh(p,T);A!=null&&(u.push(_),h.set(_,A))}});const m=new En(u);return new Q0(h,m,o.fieldTransforms)}function FO(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[zm(e,s,n)],g=[o];if(u.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(zm(e,u[A])),g.push(u[A+1]);const p=[],_=hn.empty();for(let A=m.length-1;A>=0;--A)if(!eS(p,m[A])){const I=m[A];let O=g[A];O=Wt(O);const q=h.yc(I);if(O instanceof Uh)p.push(I);else{const B=zh(O,q);B!=null&&(p.push(I),_.set(I,B))}}const T=new En(p);return new Q0(_,T,h.fieldTransforms)}function zh(r,e){if(J0(r=Wt(r)))return Cp("Unsupported field value:",e,r),W0(r,e);if(r instanceof kh)return function(s,o){if(!Y0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let g=zh(m,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:ah(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ah(o.serializer,u)}}if(s instanceof fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:y0(o.serializer,s._byteString)};if(s instanceof Ht){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:cp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof di)return function(h,m){return{mapValue:{fields:{[$T]:{stringValue:KT},[nh]:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return ap(m.serializer,p)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${ep(s)}`)}(r,e)}function W0(r,e){const n={};return BT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(r,(s,o)=>{const u=zh(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function J0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof fi||r instanceof Mn||r instanceof Ht||r instanceof kh||r instanceof di)}function Cp(r,e,n){if(!J0(n)||!UT(n)){const s=ep(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function zm(r,e,n){if((e=Wt(e))instanceof Lh)return e._internalPath;if(typeof e=="string")return Ip(r,e);throw ch("Field path arguments must be of type string or ",r,!1,void 0,n)}const GO=new RegExp("[~\\*/\\[\\]]");function Ip(r,e,n){if(e.search(GO)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Lh(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ch(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new he(te.INVALID_ARGUMENT,m+r+g)}function eS(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $O(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $O extends tS{data(){return super.data()}}function nS(r,e){return typeof e=="string"?Ip(r,e):e instanceof Lh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QO{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ts(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[nh].arrayValue)==null?void 0:o.values)==null?void 0:u.map(h=>_t(h.doubleValue));return new di(n)}convertGeoPoint(e){return new fi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ah(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);qe(A0(s),9688,{name:e});const o=new Fl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||$i(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Pc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qa extends tS{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(nS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qa._jsonSchema={type:St("string",Qa._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Fc extends Qa{data(e={}){return super.data(e)}}class Ya{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Pc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Fc(this._firestore,this._userDataWriter,s.key,s,new Pc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const g=new Fc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Fc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,_=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:YO(m.type),doc:g,oldIndex:p,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ya._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:St("string",Ya._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class XO extends QO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function ZO(r){r=jl(r,Vh);const e=jl(r.firestore,Ph),n=bp(e),s=new XO(e);return KO(r._query),PO(n,r._query).then(o=>new Ya(e,s,r,o))}function WO(r,e){const n=jl(r.firestore,Ph),s=K0(r),o=iS(r.converter,e);return rS(n,[Z0(X0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Vn.exists(!1))]).then(()=>s)}function rS(r,e){return function(s,o){const u=new Gr;return s.asyncQueue.enqueueAndForget(async()=>TO(await MO(s),o,u)),u.promise}(bp(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=X0(e)}set(e,n,s){this._verifyNotCommitted();const o=am(e,this._firestore),u=iS(o.converter,n,s),h=Z0(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,Vn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=am(e,this._firestore);let h;return h=typeof(n=Wt(n))=="string"||n instanceof Lh?FO(this._dataReader,"WriteBatch.update",u._key,n,s,o):qO(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,Vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=am(e,this._firestore);return this._mutations=this._mutations.concat(new op(n._key,Vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function am(r,e){if((r=Wt(r)).firestore!==e)throw new he(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function eD(){return new Rp("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(r){return bp(r=jl(r,Ph)),new JO(r,e=>rS(r,e))}(function(e,n=!0){(function(o){co=o})(uo),Ja(new qs("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ph(new kC(s.getProvider("auth-internal")),new BC(h,s.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(p.options.projectId,_)}(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),qr(Mv,Vv,e),qr(Mv,Vv,"esm2020")})();function sS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nD=sS,aS=new Jl("auth","Firebase",sS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Ym("@firebase/auth");function iD(r,...e){hh.logLevel<=Le.WARN&&hh.warn(`Auth (${uo}): ${r}`,...e)}function Gc(r,...e){hh.logLevel<=Le.ERROR&&hh.error(`Auth (${uo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(r,...e){throw Op(r,...e)}function mi(r,...e){return Op(r,...e)}function oS(r,e,n){const s={...nD(),[e]:n};return new Jl("auth","Firebase",s).create(e,{appName:r.name})}function Kr(r){return oS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Op(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return aS.create(r,...e)}function Ae(r,e,...n){if(!r)throw Op(e,...n)}function ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Gc(e),new Error(e)}function Yi(r,e){r||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function rD(){return IE()==="http:"||IE()==="https:"}function IE(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rD()||mR()||"connection"in navigator)?navigator.onLine:!0}function aD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=hR()||pR()}get(){return sD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(r,e){Yi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uD=new au(3e4,6e4);function Bh(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function po(r,e,n,s,o={}){return uS(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=eu({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return dR()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&lo(r.emulatorConfig.host)&&(p.credentials="include"),lS.fetch()(await hS(r,r.config.apiHost,n,m),p)})}async function uS(r,e,n){r._canInitEmulator=!1;const s={...oD,...e};try{const o=new cD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Lc(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Lc(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Lc(r,"user-disabled",h);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw oS(r,_,p);Qi(r,_)}}catch(o){if(o instanceof Zi)throw o;Qi(r,"network-request-failed",{message:String(o)})}}async function cS(r,e,n,s,o={}){const u=await po(r,e,n,s,o);return"mfaPendingCredential"in u&&Qi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function hS(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Dp(r.config,o):`${r.config.apiScheme}://${o}`;return lD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class cD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(mi(this.auth,"network-request-failed")),uD.get())})}}function Lc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=mi(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(r,e){return po(r,"POST","/v1/accounts:delete",e)}async function fh(r,e){return po(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fD(r,e=!1){const n=Wt(r),s=await n.getIdToken(e),o=Np(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ll(om(o.auth_time)),issuedAtTime:Ll(om(o.iat)),expirationTime:Ll(om(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function om(r){return Number(r)*1e3}function Np(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=yT(n);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function OE(r){const e=Np(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zi&&dD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function dD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(r){var T;const e=r.auth,n=await r.getIdToken(),s=await Yl(r,fh(e,{idToken:n}));Ae(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?fS(o.providerUserInfo):[],h=gD(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!(h!=null&&h.length),p=m?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,_)}async function pD(r){const e=Wt(r);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gD(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function fS(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(r,e){const n=await uS(r,{},async()=>{const s=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await hS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&lo(r.emulatorConfig.host)&&(g.credentials="include"),lS.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _D(r,e){return po(r,"POST","/v2/accounts:revokeToken",Bh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=OE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await yD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Xa;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Kn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new mD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Yl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fD(this,e)}reload(){return pD(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await Yl(this,hD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:I,providerData:O,stsTokenManager:q}=n;Ae(T&&q,e,"internal-error");const B=Xa.fromJSON(this.name,q);Ae(typeof T=="string",e,"internal-error"),Pr(s,e.name),Pr(o,e.name),Ae(typeof A=="boolean",e,"internal-error"),Ae(typeof I=="boolean",e,"internal-error"),Pr(u,e.name),Pr(h,e.name),Pr(m,e.name),Pr(g,e.name),Pr(p,e.name),Pr(_,e.name);const K=new Kn({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:I,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:B,createdAt:p,lastLoginAt:_});return O&&Array.isArray(O)&&(K.providerData=O.map(ne=>({...ne}))),g&&(K._redirectEventId=g),K}static async _fromIdTokenResponse(e,n,s=!1){const o=new Xa;o.updateFromServerResponse(n);const u=new Kn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await dh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?fS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Xa;m.updateFromIdToken(s);const g=new Kn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;function Hi(r){Yi(r instanceof Function,"Expected a class definition");let e=DE.get(r);return e?(Yi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,DE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dS.type="NONE";const NE=dS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(r,e,n){return`firebase:${r}:${e}:${n}`}class Za{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,u),this.fullPersistenceKey=$c("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fh(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Za(Hi(NE),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Hi(NE);const h=$c(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const _=await p._get(h);if(_){let T;if(typeof _=="string"){const A=await fh(e,{idToken:_}).catch(()=>{});if(!A)break;T=await Kn._fromGetAccountInfoResponse(e,A,_)}else T=Kn._fromJSON(e,_);p!==u&&(m=T),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Za(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new Za(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vS(e))return"Blackberry";if(ES(e))return"Webos";if(pS(e))return"Safari";if((e.includes("chrome/")||gS(e))&&!e.includes("edge/"))return"Chrome";if(_S(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function mS(r=Zt()){return/firefox\//i.test(r)}function pS(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gS(r=Zt()){return/crios\//i.test(r)}function yS(r=Zt()){return/iemobile/i.test(r)}function _S(r=Zt()){return/android/i.test(r)}function vS(r=Zt()){return/blackberry/i.test(r)}function ES(r=Zt()){return/webos/i.test(r)}function xp(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function vD(r=Zt()){var e;return xp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function ED(){return gR()&&document.documentMode===10}function TS(r=Zt()){return xp(r)||_S(r)||ES(r)||vS(r)||/windows phone/i.test(r)||yS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(r,e=[]){let n;switch(r){case"Browser":n=xE(Zt());break;case"Worker":n=`${xE(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(r,e={}){return po(r,"GET","/v2/passwordPolicy",Bh(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=6;class bD{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??AD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ME(this),this.idTokenSubscription=new ME(this),this.beforeStateQueue=new TD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fh(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if($n(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&(g!=null&&g.user)&&(s=g.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Kr(this));const n=e?Wt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SD(this),n=new bD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await _D(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hi(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&iD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function jh(r){return Wt(r)}class ME{constructor(e){this.auth=e,this.observer=null,this.addObserver=bR(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RD(r){Mp=r}function CD(r){return Mp.loadJS(r)}function ID(){return Mp.gapiScript}function OD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(r,e){const n=Zm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Hs(u,e??{}))return o;Qi(o,"already-initialized")}return n.initialize({options:e})}function ND(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Hi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function xD(r,e,n){const s=jh(r);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=AS(e),{host:h,port:m}=MD(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(Hs(p,s.config.emulator)&&Hs(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,lo(h)?(TT(`${u}//${h}${g}`),ST("Auth",!0)):VD()}function AS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function MD(r){const e=AS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:VE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:VE(h)}}}function VE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function VD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(r,e){return cS(r,"POST","/v1/accounts:signInWithIdp",Bh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="http://localhost";class $s extends bS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new $s(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Wa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Wa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wa(e,n)}buildRequest(){const e={requestUri:PD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends wS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends ou{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return kr.credential(n,s)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends ou{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends ou{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(r,e){return cS(r,"POST","/v1/accounts:signUp",Bh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Kn._fromIdTokenResponse(e,s,o),h=PE(s);return new es({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=PE(s);return new es({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function PE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(r){var o;if($n(r.app))return Promise.reject(Kr(r));const e=jh(r);if(await e._initializationPromise,(o=e.currentUser)!=null&&o.isAnonymous)return new es({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await LD(e,{returnSecureToken:!0}),s=await es._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Zi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new mh(e,n,s,o)}}function RS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(r,u,e,s):u})}async function UD(r,e,n=!1){const s=await Yl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return es._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(r,e,n=!1){const{auth:s}=r;if($n(s.app))return Promise.reject(Kr(s));const o="reauthenticate";try{const u=await Yl(r,RS(s,o,e,r),n);Ae(u.idToken,s,"internal-error");const h=Np(u.idToken);Ae(h,s,"internal-error");const{sub:m}=h;return Ae(r.uid===m,s,"user-mismatch"),es._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(r,e,n=!1){if($n(r.app))return Promise.reject(Kr(r));const s="signIn",o=await RS(r,s,e),u=await es._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function jD(r,e,n,s){return Wt(r).onIdTokenChanged(e,n,s)}function HD(r,e,n){return Wt(r).beforeAuthStateChanged(e,n)}function qD(r,e,n,s){return Wt(r).onAuthStateChanged(e,n,s)}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=1e3,GD=10;class IS extends CS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);ED()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,GD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},FD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IS.type="LOCAL";const $D=IS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS extends CS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OS.type="SESSION";const DS=OS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await KD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=Vp("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function YD(r){pi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function XD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function WD(){return NS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="firebaseLocalStorageDb",JD=1,gh="firebaseLocalStorage",MS="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(r,e){return r.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function eN(){const r=indexedDB.deleteDatabase(xS);return new lu(r).toPromise()}function Hm(){const r=indexedDB.open(xS,JD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(gh,{keyPath:MS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(gh)?e(s):(s.close(),await eN(),e(await Hm()))})})}async function LE(r,e,n){const s=qh(r,!0).put({[MS]:e,value:n});return new lu(s).toPromise()}async function tN(r,e){const n=qh(r,!1).get(e),s=await new lu(n).toPromise();return s===void 0?null:s.value}function kE(r,e){const n=qh(r,!0).delete(e);return new lu(n).toPromise()}const nN=800,iN=3;class VS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>iN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(WD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await XD(),!this.activeServiceWorker)return;this.sender=new QD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await LE(e,ph,"1"),await kE(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>LE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>tN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=qh(o,!1).getAll();return new lu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VS.type="LOCAL";const rN=VS;new au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(r,e){return e?Hi(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends bS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aN(r){return BD(r.auth,new Pp(r),r.bypassAuthState)}function oN(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),zD(n,new Pp(r),r.bypassAuthState)}async function lN(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),UD(n,new Pp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aN;case"linkViaPopup":case"linkViaRedirect":return lN;case"reauthViaPopup":case"reauthViaRedirect":return oN;default:Qi(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new au(2e3,1e4);class $a extends PS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uN.get())};e()}}$a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="pendingRedirect",Kc=new Map;class hN extends PS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const s=await fN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fN(r,e){const n=pN(e),s=mN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function dN(r,e){Kc.set(r._key(),e)}function mN(r){return Hi(r._redirectPersistence)}function pN(r){return $c(cN,r.config.apiKey,r.name)}async function gN(r,e,n=!1){if($n(r.app))return Promise.reject(Kr(r));const s=jh(r),o=sN(s,e),h=await new hN(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=10*60*1e3;class _N{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!LS(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(mi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yN&&this.cachedEventUids.clear(),this.cachedEventUids.has(UE(e))}saveEventToCache(e){this.cachedEventUids.add(UE(e)),this.lastProcessedEventTime=Date.now()}}function UE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function LS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(r,e={}){return po(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SN=/^https?/;async function AN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await EN(r);for(const n of e)try{if(bN(n))return}catch{}Qi(r,"unauthorized-domain")}function bN(r){const e=Bm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!SN.test(n))return!1;if(TN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new au(3e4,6e4);function zE(){const r=pi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function RN(r){return new Promise((e,n)=>{var o,u,h;function s(){zE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zE(),n(mi(r,"network-request-failed"))},timeout:wN.get()})}if((u=(o=pi().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((h=pi().gapi)!=null&&h.load)s();else{const m=OD("iframefcb");return pi()[m]=()=>{gapi.load?s():n(mi(r,"network-request-failed"))},CD(`${ID()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function CN(r){return Qc=Qc||RN(r),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new au(5e3,15e3),ON="__/auth/iframe",DN="emulator/auth/iframe",NN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MN(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Dp(e,DN):`https://${r.config.authDomain}/${ON}`,s={apiKey:e.apiKey,appName:r.name,v:uo},o=xN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${eu(s).slice(1)}`}async function VN(r){const e=await CN(r),n=pi().gapi;return Ae(n,r,"internal-error"),e.open({where:document.body,url:MN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=mi(r,"network-request-failed"),m=pi().setTimeout(()=>{u(h)},IN.get());function g(){pi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LN=500,kN=600,UN="_blank",zN="http://localhost";class BE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BN(r,e,n,s=LN,o=kN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...PN,width:s.toString(),height:o.toString(),top:u,left:h},p=Zt().toLowerCase();n&&(m=gS(p)?UN:n),mS(p)&&(e=e||zN,g.scrollbars="yes");const _=Object.entries(g).reduce((A,[I,O])=>`${A}${I}=${O},`,"");if(vD(p)&&m!=="_self")return jN(e||"",m),new BE(null);const T=window.open(e||"",m,_);Ae(T,r,"popup-blocked");try{T.focus()}catch{}return new BE(T)}function jN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="__/auth/handler",qN="emulator/auth/handler",FN=encodeURIComponent("fac");async function jE(r,e,n,s,o,u){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:uo,eventId:o};if(e instanceof wS){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",AR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof ou){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await r._getAppCheckToken(),p=g?`#${FN}=${encodeURIComponent(g)}`:"";return`${GN(r)}?${eu(m).slice(1)}${p}`}function GN({config:r}){return r.emulator?Dp(r,qN):`https://${r.authDomain}/${HN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="webStorageSupport";class $N{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DS,this._completeRedirectFn=gN,this._overrideRedirectResult=dN}async _openPopup(e,n,s,o){var h;Yi((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await jE(e,n,s,Bm(),o);return BN(e,u,Vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await jE(e,n,s,Bm(),o);return YD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Yi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await VN(e),s=new _N(e);return n.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lm,{type:lm},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[lm];u!==void 0&&n(!!u),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TS()||pS()||xp()}}const KN=$N;var HE="@firebase/auth",qE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XN(r){Ja(new qs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ae(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SS(r)},p=new wD(s,o,u,g);return ND(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ja(new qs("auth-internal",e=>{const n=jh(e.getProvider("auth").getImmediate());return(s=>new QN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(HE,qE,YN(r)),qr(HE,qE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=5*60,WN=ET("authIdTokenMaxAge")||ZN;let FE=null;const JN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>WN)return;const o=n==null?void 0:n.token;FE!==o&&(FE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ex(r=RT()){const e=Zm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=DD(r,{popupRedirectResolver:KN,persistence:[rN,$D,DS]}),s=ET("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=JN(u.toString());HD(n,h,()=>h(n.currentUser)),jD(n,m=>h(m))}}const o=_T("auth");return o&&xD(n,`http://${o}`),n}function tx(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}RD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=mi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",tx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XN("Browser");var nx="firebase",ix="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(nx,ix,"app");const kS=wT({apiKey:"AIzaSyBZ9qGTb6mjVCoec-2MYmeCog1iURtMFiE",authDomain:"kultura-e90b7.firebaseapp.com",projectId:"kultura-e90b7",storageBucket:"kultura-e90b7.firebasestorage.app",messagingSenderId:"877903593203",appId:"1:877903593203:web:9d073a3a42663446170186",measurementId:"G-QWT5R5WMM9"}),um=UO(kS),GE=ex(kS);function rx({path:r="racing/event-2025/scores"}){const[e,n]=Q.useState(()=>localStorage.getItem("kultura_name")||""),[s,o]=Q.useState(""),[u,h]=Q.useState("idle"),[m,g]=Q.useState(""),[p,_]=Q.useState(!1),[T,A]=Q.useState(0),I=Q.useRef(null),O=Q.useRef(null),q=Q.useCallback(w=>{const N=Math.floor(w/6e4),M=Math.floor(w%6e4/1e3),L=Math.floor(w%1e3);return`${String(N).padStart(2,"0")}:${String(M).padStart(2,"0")}.${String(L).padStart(3,"0")}`},[]),B=Q.useCallback(w=>{O.current!=null&&(A(Math.max(0,Math.round(w-O.current))),I.current=requestAnimationFrame(B))},[]);function K(){p||(_(!0),O.current=performance.now()-T,I.current=requestAnimationFrame(B))}function ne(){p&&(_(!1),I.current&&cancelAnimationFrame(I.current),I.current=null,O.current=null,o(q(T)))}function ee(){I.current&&cancelAnimationFrame(I.current),I.current=null,O.current=null,_(!1),A(0),o("")}Q.useEffect(()=>()=>{I.current&&cancelAnimationFrame(I.current)},[]),Q.useEffect(()=>{h("auth");const w=qD(GE,async N=>{if(N)h("idle");else try{await kD(GE),h("idle")}catch{h("err"),g("Auth failed. Enable Anonymous sign-in in Firebase Console.")}});return()=>w()},[]);function le(w){const M=w.trim().replace(/^"+|"+$/g,"").match(/^((\d+):)?(\d{1,2})(?:\.(\d{1,3}))?$/);if(!M)throw new Error("Use MM:SS.mmm (e.g., 01:12.345)");const L=Number(M[2]??0),C=Number(M[3]);let Oe=Number(M[4]??"0");if(Oe=Math.floor(Oe*Math.pow(10,3-String(Oe).length)),C>=60)throw new Error("Seconds must be 059");return(L*60+C)*1e3+Oe}const oe=Q.useMemo(()=>{const w=r.split("/").filter(Boolean);return kO(um,...w)},[r]);async function Se(w){if(w.preventDefault(),!e.trim()||!s.trim()){h("err"),g("Please fill both fields.");return}if(p){h("err"),g("Stop the chronometer before submitting.");return}try{h("saving");const N=le(s);await WO(oe,{name:e.trim(),timeText:q(N),timeMs:N,createdAt:eD()}),localStorage.setItem("kultura_name",e.trim()),h("ok"),g("Saved!"),o(""),A(0)}catch(N){h("err"),g((N==null?void 0:N.message)||"Failed to save.")}finally{setTimeout(()=>h("idle"),1200)}}async function x(){if(window.confirm("Are you sure you want to DELETE ALL scores in this collection? This cannot be undone."))try{h("deleting"),g("Deleting");const w=await ZO(oe);if(w.empty){h("ok"),g("Nothing to delete.");return}const N=w.docs;for(let M=0;M<N.length;M+=500){const L=tD(um);N.slice(M,M+500).forEach(C=>L.delete(K0(um,C.ref.path))),await L.commit()}h("ok"),g(`Deleted ${w.size} entr${w.size===1?"y":"ies"}.`)}catch(w){h("err"),g((w==null?void 0:w.message)||"Failed to delete.")}finally{setTimeout(()=>h("idle"),1500)}}const R=u==="auth"||u==="saving"||u==="deleting";return me.jsx("section",{className:"ss-wrap",children:me.jsxs("div",{className:"ss-card",children:[me.jsx("h2",{className:"ss-title",children:"Submit Score"}),me.jsxs("div",{className:"ss-chrono",children:[me.jsx("div",{className:"ss-time","aria-live":"polite",children:q(T)}),me.jsxs("div",{className:"ss-chrono-actions",children:[p?me.jsx("button",{type:"button",onClick:ne,className:"ss-btn ss-btn-warn",children:"Stop"}):me.jsx("button",{type:"button",onClick:K,className:"ss-btn",children:"Start"}),me.jsx("button",{type:"button",onClick:ee,className:"ss-btn ss-btn-ghost",children:"Clear"})]})]}),me.jsxs("form",{onSubmit:Se,className:"ss-form",children:[me.jsxs("div",{className:"ss-field",children:[me.jsx("label",{htmlFor:"ss-name",className:"ss-label",children:"Name"}),me.jsx("input",{id:"ss-name",value:e,onChange:w=>n(w.target.value),placeholder:"Max",className:"ss-input",maxLength:40,required:!0})]}),me.jsxs("div",{className:"ss-field",children:[me.jsxs("label",{htmlFor:"ss-time",className:"ss-label",children:["Time ",me.jsx("span",{className:"ss-muted",children:"(MM:SS.mmm)"})]}),me.jsx("input",{id:"ss-time",value:s,onChange:w=>o(w.target.value),placeholder:"01:12.345",inputMode:"numeric",className:"ss-input",required:!0}),me.jsxs("p",{className:"ss-help",children:["Tip: press ",me.jsx("b",{children:"Stop"})," to auto-fill this field with the measured time."]})]}),me.jsxs("div",{className:"ss-actions",children:[me.jsx("button",{type:"submit",disabled:R||p,className:"ss-btn",children:u==="saving"?"Saving":"Submit"}),me.jsx("button",{type:"button",onClick:x,disabled:R,className:"ss-btn ss-btn-danger",children:u==="deleting"?"Deleting":"Delete all entries"})]}),me.jsxs("div",{className:"ss-status","aria-live":"polite",children:[u==="ok"&&me.jsx("p",{className:"ss-ok",children:"Saved!"}),u==="err"&&me.jsx("p",{className:"ss-err",children:m}),u==="auth"&&me.jsx("p",{className:"ss-auth",children:"Connecting"}),u==="deleting"&&me.jsx("p",{className:"ss-auth",children:m}),u==="idle"&&me.jsxs("p",{className:"ss-muted",children:["Saved to: ",me.jsx("code",{children:r})]})]})]})]})})}const sx=()=>me.jsx(me.Fragment,{children:me.jsx(rx,{})}),ax=()=>me.jsxs("main",{className:"qr-landing",children:[me.jsxs("h1",{children:["MOLDOVA AUTO",me.jsx("br",{}),"WEEKEND FESTIVAL"]}),me.jsx("button",{className:"btn purple",onClick:()=>window.open("https://afisha.md/ro/events/afisha-recomanda/15973/moldova-auto-weekend-festival","_blank","noopener"),children:" "}),me.jsx("button",{className:"btn outline",onClick:()=>window.location.href="/",children:"  "})]}),ox=({onClose:r})=>{const[e,n]=Q.useState({name:"",phone:"",car_model:"",instagram:""}),[,s]=Q.useState(null),o=m=>{n({...e,[m.target.name]:m.target.value})},u=m=>{m.target.files&&m.target.files[0]&&s(m.target.files[0])},h=m=>{m.preventDefault(),alert("Form submitted!"),r()};return me.jsx("div",{className:"modal-overlay",onClick:r,children:me.jsxs("div",{className:"modal-form",onClick:m=>m.stopPropagation(),children:[me.jsx("button",{className:"close-btn",onClick:r,children:""}),me.jsxs("form",{className:"user-form",onSubmit:h,children:[me.jsx("h2",{children:""}),me.jsx("input",{type:"text",name:"car_model",placeholder:"   ",value:e.car_model,onChange:o,required:!0}),me.jsx("input",{type:"text",name:"name",placeholder:" ",value:e.name,onChange:o}),me.jsx("input",{type:"tel",name:"phone",placeholder:"",value:e.phone,onChange:o,required:!0}),me.jsx("input",{type:"text",name:"instagram",placeholder:"  ",value:e.instagram,onChange:o}),me.jsx("input",{type:"file",onChange:u,accept:"image/*"}),me.jsx("button",{type:"submit",children:""})]})]})})};function lx(){const[r,e]=Q.useState(!1);return me.jsxs(me.Fragment,{children:[me.jsx("div",{className:r?"app-container blurred":"app-container",children:me.jsxs(gw,{children:[me.jsx(gm,{path:"/",element:me.jsx(sx,{})}),me.jsx(gm,{path:"/qr",element:me.jsx(ax,{})})]})}),r&&me.jsx(ox,{onClose:()=>e(!1)})]})}var cm={exports:{}},Rl={},hm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function ux(){return $E||($E=1,function(r){function e($,ie){var fe=$.length;$.push(ie);e:for(;0<fe;){var Me=fe-1>>>1,V=$[Me];if(0<o(V,ie))$[Me]=ie,$[fe]=V,fe=Me;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ie=$[0],fe=$.pop();if(fe!==ie){$[0]=fe;e:for(var Me=0,V=$.length,X=V>>>1;Me<X;){var ae=2*(Me+1)-1,se=$[ae],de=ae+1,De=$[de];if(0>o(se,fe))de<V&&0>o(De,se)?($[Me]=De,$[de]=fe,Me=de):($[Me]=se,$[ae]=fe,Me=ae);else if(de<V&&0>o(De,fe))$[Me]=De,$[de]=fe,Me=de;else break e}}return ie}function o($,ie){var fe=$.sortIndex-ie.sortIndex;return fe!==0?fe:$.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],_=1,T=null,A=3,I=!1,O=!1,q=!1,B=!1,K=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function le($){for(var ie=n(p);ie!==null;){if(ie.callback===null)s(p);else if(ie.startTime<=$)s(p),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=n(p)}}function oe($){if(q=!1,le($),!O)if(n(g)!==null)O=!0,Se||(Se=!0,L());else{var ie=n(p);ie!==null&&We(oe,ie.startTime-$)}}var Se=!1,x=-1,R=5,w=-1;function N(){return B?!0:!(r.unstable_now()-w<R)}function M(){if(B=!1,Se){var $=r.unstable_now();w=$;var ie=!0;try{e:{O=!1,q&&(q=!1,ne(x),x=-1),I=!0;var fe=A;try{t:{for(le($),T=n(g);T!==null&&!(T.expirationTime>$&&N());){var Me=T.callback;if(typeof Me=="function"){T.callback=null,A=T.priorityLevel;var V=Me(T.expirationTime<=$);if($=r.unstable_now(),typeof V=="function"){T.callback=V,le($),ie=!0;break t}T===n(g)&&s(g),le($)}else s(g);T=n(g)}if(T!==null)ie=!0;else{var X=n(p);X!==null&&We(oe,X.startTime-$),ie=!1}}break e}finally{T=null,A=fe,I=!1}ie=void 0}}finally{ie?L():Se=!1}}}var L;if(typeof ee=="function")L=function(){ee(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Oe=C.port2;C.port1.onmessage=M,L=function(){Oe.postMessage(null)}}else L=function(){K(M,0)};function We($,ie){x=K(function(){$(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function($){switch(A){case 1:case 2:case 3:var ie=3;break;default:ie=A}var fe=A;A=ie;try{return $()}finally{A=fe}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function($,ie){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var fe=A;A=$;try{return ie()}finally{A=fe}},r.unstable_scheduleCallback=function($,ie,fe){var Me=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Me+fe:Me):fe=Me,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=fe+V,$={id:_++,callback:ie,priorityLevel:$,startTime:fe,expirationTime:V,sortIndex:-1},fe>Me?($.sortIndex=fe,e(p,$),n(g)===null&&$===n(p)&&(q?(ne(x),x=-1):q=!0,We(oe,fe-Me))):($.sortIndex=V,e(g,$),O||I||(O=!0,Se||(Se=!0,L()))),$},r.unstable_shouldYield=N,r.unstable_wrapCallback=function($){var ie=A;return function(){var fe=A;A=ie;try{return $.apply(this,arguments)}finally{A=fe}}}}(fm)),fm}var KE;function cx(){return KE||(KE=1,hm.exports=ux()),hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function hx(){if(QE)return Rl;QE=1;var r=cx(),e=qm(),n=Zw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),t;if(d===l)return m(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,S=f.child;S;){if(S===a){E=!0,a=f,l=d;break}if(S===l){E=!0,l=f,a=d;break}S=S.sibling}if(!E){for(S=d.child;S;){if(S===a){E=!0,a=d,l=f;break}if(S===l){E=!0,l=d,a=f;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case B:return"Profiler";case q:return"StrictMode";case oe:return"Suspense";case Se:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case ee:return(t.displayName||"Context")+".Provider";case ne:return(t._context.displayName||"Context")+".Consumer";case le:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Oe(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Oe(t(i))}catch{}}return null}var We=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Me=[],V=-1;function X(t){return{current:t}}function ae(t){0>V||(t.current=Me[V],Me[V]=null,V--)}function se(t,i){V++,Me[V]=t.current,t.current=i}var de=X(null),De=X(null),Ee=X(null),Pt=X(null);function Ke(t,i){switch(se(Ee,i),se(De,t),se(de,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?S_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=S_(i),t=A_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(de),se(de,t)}function Pn(){ae(de),ae(De),ae(Ee)}function go(t){t.memoizedState!==null&&se(Pt,t);var i=de.current,a=A_(i,t.type);i!==a&&(se(De,t),se(de,a))}function Xs(t){De.current===t&&(ae(de),ae(De)),Pt.current===t&&(ae(Pt),yl._currentValue=fe)}var Zs=Object.prototype.hasOwnProperty,is=r.unstable_scheduleCallback,Ws=r.unstable_cancelCallback,Fh=r.unstable_shouldYield,yo=r.unstable_requestPaint,an=r.unstable_now,uu=r.unstable_getCurrentPriorityLevel,At=r.unstable_ImmediatePriority,Ot=r.unstable_UserBlockingPriority,Ei=r.unstable_NormalPriority,Gh=r.unstable_LowPriority,_o=r.unstable_IdlePriority,$h=r.log,rs=r.unstable_setDisableYieldValue,Wi=null,Ft=null;function Tn(t){if(typeof $h=="function"&&rs(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Wi,t)}catch{}}var en=Math.clz32?Math.clz32:hu,Kh=Math.log,cu=Math.LN2;function hu(t){return t>>>=0,t===0?32:31-(Kh(t)/cu|0)|0}var Qn=256,Ji=4194304;function Ln(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=Ln(l):(E&=S,E!==0?f=Ln(E):a||(a=S&~t,a!==0&&(f=Ln(a))))):(S=l&~d,S!==0?f=Ln(S):E!==0?f=Ln(E):a||(a=l&~t,a!==0&&(f=Ln(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function er(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Js(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(){var t=Qn;return Qn<<=1,(Qn&4194048)===0&&(Qn=256),t}function tr(){var t=Ji;return Ji<<=1,(Ji&62914560)===0&&(Ji=4194304),t}function ea(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ft(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function fu(t,i,a,l,f,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,j=t.hiddenUpdates;for(a=E&~a;0<a;){var Y=31-en(a),W=1<<Y;S[Y]=0,D[Y]=-1;var H=j[Y];if(H!==null)for(j[Y]=null,Y=0;Y<H.length;Y++){var F=H[Y];F!==null&&(F.lane&=-536870913)}a&=~W}l!==0&&nr(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function nr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-en(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function ir(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-en(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Eo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function To(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ti(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:H_(t.type))}function Qh(t,i){var a=ie.p;try{return ie.p=t,i()}finally{ie.p=a}}var Yn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Yn,Lt="__reactProps$"+Yn,Si="__reactContainer$"+Yn,ss="__reactEvents$"+Yn,as="__reactListeners$"+Yn,Yh="__reactHandles$"+Yn,kn="__reactResources$"+Yn,rr="__reactMarker$"+Yn;function ta(t){delete t[dt],delete t[Lt],delete t[ss],delete t[as],delete t[Yh]}function Xn(t){var i=t[dt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Si]||a[dt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=C_(t);t!==null;){if(a=t[dt])return a;t=C_(t)}return i}t=a,a=t.parentNode}return null}function Zn(t){if(t=t[dt]||t[Si]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function sr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ar(t){var i=t[kn];return i||(i=t[kn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function mt(t){t[rr]=!0}var du=new Set,os={};function Wn(t,i){Jn(t,i),Jn(t+"Capture",i)}function Jn(t,i){for(os[t]=i,t=0;t<i.length;t++)du.add(i[t])}var ls=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ei={},na={};function Xh(t){return Zs.call(na,t)?!0:Zs.call(ei,t)?!1:ls.test(t)?na[t]=!0:(ei[t]=!0,!1)}function us(t,i,a){if(Xh(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function cs(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function An(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var hs,ia;function Ai(t){if(hs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);hs=i&&i[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hs+t+ia}var ra=!1;function sa(t,i){if(!t||ra)return"";ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(F){var H=F}Reflect.construct(t,[],W)}else{try{W.call()}catch(F){H=F}t.call(W.prototype)}}else{try{throw Error()}catch(F){H=F}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],S=d[1];if(E&&S){var D=E.split(`
`),j=S.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===j.length)for(l=D.length-1,f=j.length-1;1<=l&&0<=f&&D[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==j[f]){var Y=`
`+D[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{ra=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ai(a):""}function Zh(t){switch(t.tag){case 26:case 27:case 5:return Ai(t.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return sa(t.type,!1);case 11:return sa(t.type.render,!1);case 1:return sa(t.type,!0);case 31:return Ai("Activity");default:return""}}function Un(t){try{var i="";do i+=Zh(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function at(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function or(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function fs(t){var i=or(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function lr(t){t._valueTracker||(t._valueTracker=fs(t))}function Qe(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=or(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ds=/[\n"\\]/g;function Dt(t){return t.replace(ds,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function So(t,i,a,l,f,d,E,S){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+at(i)):t.value!==""+at(i)&&(t.value=""+at(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?bo(t,E,at(i)):a!=null?bo(t,E,at(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+at(S):t.removeAttribute("name")}function Ao(t,i,a,l,f,d,E,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+at(a):"",i=i!=null?""+at(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function bo(t,i,a){i==="number"&&bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ur(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+at(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function mu(t,i,a){if(i!=null&&(i=""+at(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+at(a):""}function pu(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(We(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=at(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function bn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var wi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||wi.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ro(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&wo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&wo(t,d,i[d])}function aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zn(t){return yu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Co=null;function Io(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cr=null,tn=null;function _u(t){var i=Zn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(So(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(s(90));So(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Qe(l)}break e;case"textarea":mu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ur(t,!!a.multiple,i,!1)}}}var ms=!1;function ps(t,i,a){if(ms)return t(i,a);ms=!0;try{var l=t(i);return l}finally{if(ms=!1,(cr!==null||tn!==null)&&(oc(),cr&&(i=cr,t=tn,tn=cr=null,_u(i),t)))for(i=0;i<t.length;i++)_u(t[i])}}function hr(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ri=!1;if(nn)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){Ri=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{Ri=!1}var wn=null,et=null,oa=null;function vu(){if(oa)return oa;var t,i=et,a=i.length,l,f="value"in wn?wn.value:wn.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===f[d-l];l++);return oa=f.slice(t,1<l?1-l:void 0)}function gs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ys(){return!0}function Oo(){return!1}function bt(t){function i(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ys:Oo,this.isPropagationStopped=Oo,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=bt(Gt),vs=_({},Gt,{view:0,detail:0}),Es=bt(vs),la,Ts,ti,Ss=_({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ti&&(ti&&t.type==="mousemove"?(la=t.screenX-ti.screenX,Ts=t.screenY-ti.screenY):Ts=la=0,ti=t),la)},movementY:function(t){return"movementY"in t?t.movementY:Ts}}),As=bt(Ss),Wh=_({},Ss,{dataTransfer:0}),Eu=bt(Wh),bs=_({},vs,{relatedTarget:0}),ua=bt(bs),Tu=_({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Do=bt(Tu),No=_({},Gt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Su=bt(No),ca=_({},Gt,{data:0}),xo=bt(ca),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ci={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=bu[t])?!!i[t]:!1}function ha(){return wu}var Ru=_({},vs,{key:function(t){if(t.key){var i=Au[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ci[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(t){return t.type==="keypress"?gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fa=bt(Ru),rn=_({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mo=bt(rn),Cu=_({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),dr=bt(Cu),c=_({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=bt(c),v=_({},Ss,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),b=bt(v),z=_({},Gt,{newState:0,oldState:0}),G=bt(z),re=[9,13,27,32],Re=nn&&"CompositionEvent"in window,nt=null;nn&&"documentMode"in document&&(nt=document.documentMode);var Fe=nn&&"TextEvent"in window&&!nt,pt=nn&&(!Re||nt&&8<nt&&11>=nt),fn=" ",ni=!1;function Bn(t,i){switch(t){case"keyup":return re.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hn=!1;function Vo(t,i){switch(t){case"compositionend":return jn(i);case"keypress":return i.which!==32?null:(ni=!0,fn);case"textInput":return t=i.data,t===fn&&ni?null:t;default:return null}}function US(t,i){if(Hn)return t==="compositionend"||!Re&&Bn(t,i)?(t=vu(),oa=et=wn=null,Hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pt&&i.locale!=="ko"?null:i.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!zS[t.type]:i==="textarea"}function kp(t,i,a,l){cr?tn?tn.push(l):tn=[l]:cr=l,i=dc(i,"onChange"),0<i.length&&(a=new _s("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Po=null,Lo=null;function BS(t){y_(t,0)}function Iu(t){var i=sr(t);if(Qe(i))return t}function Up(t,i){if(t==="change")return i}var zp=!1;if(nn){var Jh;if(nn){var ef="oninput"in document;if(!ef){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),ef=typeof Bp.oninput=="function"}Jh=ef}else Jh=!1;zp=Jh&&(!document.documentMode||9<document.documentMode)}function jp(){Po&&(Po.detachEvent("onpropertychange",Hp),Lo=Po=null)}function Hp(t){if(t.propertyName==="value"&&Iu(Lo)){var i=[];kp(i,Lo,t,Io(t)),ps(BS,i)}}function jS(t,i,a){t==="focusin"?(jp(),Po=i,Lo=a,Po.attachEvent("onpropertychange",Hp)):t==="focusout"&&jp()}function HS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu(Lo)}function qS(t,i){if(t==="click")return Iu(i)}function FS(t,i){if(t==="input"||t==="change")return Iu(i)}function GS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var dn=typeof Object.is=="function"?Object.is:GS;function ko(t,i){if(dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Zs.call(i,f)||!dn(t[f],i[f]))return!1}return!0}function qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fp(t,i){var a=qp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qp(a)}}function Gp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Gp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function $p(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=bi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=bi(t.document)}return i}function tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var $S=nn&&"documentMode"in document&&11>=document.documentMode,da=null,nf=null,Uo=null,rf=!1;function Kp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rf||da==null||da!==bi(l)||(l=da,"selectionStart"in l&&tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Uo&&ko(Uo,l)||(Uo=l,l=dc(nf,"onSelect"),0<l.length&&(i=new _s("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=da)))}function ws(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ma={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},sf={},Qp={};nn&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Rs(t){if(sf[t])return sf[t];if(!ma[t])return t;var i=ma[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Qp)return sf[t]=i[a];return t}var Yp=Rs("animationend"),Xp=Rs("animationiteration"),Zp=Rs("animationstart"),KS=Rs("transitionrun"),QS=Rs("transitionstart"),YS=Rs("transitioncancel"),Wp=Rs("transitionend"),Jp=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function qn(t,i){Jp.set(t,i),Wn(i,[t])}var eg=new WeakMap;function Rn(t,i){if(typeof t=="object"&&t!==null){var a=eg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Un(i)},eg.set(t,i),i)}return{value:t,source:i,stack:Un(i)}}var Cn=[],pa=0,of=0;function Ou(){for(var t=pa,i=of=pa=0;i<t;){var a=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var f=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&tg(a,f,d)}}function Du(t,i,a,l){Cn[pa++]=t,Cn[pa++]=i,Cn[pa++]=a,Cn[pa++]=l,of|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function lf(t,i,a,l){return Du(t,i,a,l),Nu(t)}function ga(t,i){return Du(t,null,null,i),Nu(t)}function tg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-en(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Nu(t){if(50<ul)throw ul=0,md=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ya={};function XS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,i,a,l){return new XS(t,i,a,l)}function uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ii(t,i){var a=t.alternate;return a===null?(a=mn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ng(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function xu(t,i,a,l,f,d){var E=0;if(l=t,typeof t=="function")uf(t)&&(E=1);else if(typeof t=="string")E=WA(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=mn(31,a,i,f),t.elementType=w,t.lanes=d,t;case O:return Cs(a.children,f,d,i);case q:E=8,f|=24;break;case B:return t=mn(12,a,i,f|2),t.elementType=B,t.lanes=d,t;case oe:return t=mn(13,a,i,f),t.elementType=oe,t.lanes=d,t;case Se:return t=mn(19,a,i,f),t.elementType=Se,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case ee:E=10;break e;case ne:E=9;break e;case le:E=11;break e;case x:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=mn(E,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Cs(t,i,a,l){return t=mn(7,t,l,i),t.lanes=a,t}function cf(t,i,a){return t=mn(6,t,null,i),t.lanes=a,t}function hf(t,i,a){return i=mn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var _a=[],va=0,Mu=null,Vu=0,In=[],On=0,Is=null,Oi=1,Di="";function Os(t,i){_a[va++]=Vu,_a[va++]=Mu,Mu=t,Vu=i}function ig(t,i,a){In[On++]=Oi,In[On++]=Di,In[On++]=Is,Is=t;var l=Oi;t=Di;var f=32-en(l)-1;l&=~(1<<f),a+=1;var d=32-en(i)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Oi=1<<32-en(i)+f|a<<f|l,Di=d+t}else Oi=1<<d|a<<f|l,Di=t}function ff(t){t.return!==null&&(Os(t,1),ig(t,1,0))}function df(t){for(;t===Mu;)Mu=_a[--va],_a[va]=null,Vu=_a[--va],_a[va]=null;for(;t===Is;)Is=In[--On],In[On]=null,Di=In[--On],In[On]=null,Oi=In[--On],In[On]=null}var sn=null,ct=null,He=!1,Ds=null,ii=!1,mf=Error(s(519));function Ns(t){var i=Error(s(418,""));throw jo(Rn(i,t)),mf}function rg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[dt]=t,i[Lt]=l,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<hl.length;a++)Pe(hl[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Ao(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),lr(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),pu(i,l.value,l.defaultValue,l.children),lr(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||T_(i.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=mc),i=!0):i=!1,i||Ns(t)}function sg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:sn=sn.return}}function zo(t){if(t!==sn)return!1;if(!He)return sg(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Dd(t.type,t.memoizedProps)),a=!a),a&&ct&&Ns(t),sg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ct=Gn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ct=null}}else i===27?(i=ct,Or(t.type)?(t=Vd,Vd=null,ct=t):ct=i):ct=sn?Gn(t.stateNode.nextSibling):null;return!0}function Bo(){ct=sn=null,He=!1}function ag(){var t=Ds;return t!==null&&(un===null?un=t:un.push.apply(un,t),Ds=null),t}function jo(t){Ds===null?Ds=[t]:Ds.push(t)}var pf=X(null),xs=null,Ni=null;function mr(t,i,a){se(pf,i._currentValue),i._currentValue=a}function xi(t){t._currentValue=pf.current,ae(pf)}function gf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function yf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var D=0;D<i.length;D++)if(S.context===i[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),gf(d.return,a,t),l||(E=null);break e}d=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),gf(E,a,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Ho(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=f.type;dn(f.pendingProps.value,E.value)||(t!==null?t.push(S):t=[S])}}else if(f===Pt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(yl):t=[yl])}f=f.return}t!==null&&yf(i,t,a,l),i.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ms(t){xs=t,Ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return og(xs,t)}function Lu(t,i){return xs===null&&Ms(t),og(t,i)}function og(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ni===null){if(t===null)throw Error(s(308));Ni=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ni=Ni.next=i;return a}var ZS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},WS=r.unstable_scheduleCallback,JS=r.unstable_NormalPriority,wt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new ZS,data:new Map,refCount:0}}function qo(t){t.refCount--,t.refCount===0&&WS(JS,function(){t.controller.abort()})}var Fo=null,vf=0,Ea=0,Ta=null;function eA(t,i){if(Fo===null){var a=Fo=[];vf=0,Ea=Td(),Ta={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vf++,i.then(lg,lg),i}function lg(){if(--vf===0&&Fo!==null){Ta!==null&&(Ta.status="fulfilled");var t=Fo;Fo=null,Ea=0,Ta=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function tA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ug=$.S;$.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&eA(t,i),ug!==null&&ug(t,i)};var Vs=X(null);function Ef(){var t=Vs.current;return t!==null?t:tt.pooledCache}function ku(t,i){i===null?se(Vs,Vs.current):se(Vs,i.pool)}function cg(){var t=Ef();return t===null?null:{parent:wt._currentValue,pool:t}}var Go=Error(s(460)),hg=Error(s(474)),Uu=Error(s(542)),Tf={then:function(){}};function fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zu(){}function dg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(zu,zu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,pg(t),t;default:if(typeof i.status=="string")i.then(zu,zu);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,pg(t),t}throw $o=i,Go}}var $o=null;function mg(){if($o===null)throw Error(s(459));var t=$o;return $o=null,t}function pg(t){if(t===Go||t===Uu)throw Error(s(483))}var pr=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Nu(t),tg(t,null,a),i}return Du(t,l,i,a),Nu(t)}function Ko(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ir(t,a)}}function bf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var wf=!1;function Qo(){if(wf){var t=Ta;if(t!==null)throw t}}function Yo(t,i,a,l){wf=!1;var f=t.updateQueue;pr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,j=D.next;D.next=null,E===null?d=j:E.next=j,E=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==E&&(S===null?Y.firstBaseUpdate=j:S.next=j,Y.lastBaseUpdate=D))}if(d!==null){var W=f.baseState;E=0,Y=j=D=null,S=d;do{var H=S.lane&-536870913,F=H!==S.lane;if(F?(ze&H)===H:(l&H)===H){H!==0&&H===Ea&&(wf=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Te=t,ye=S;H=i;var Ze=a;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){W=Te.call(Ze,W,H);break e}W=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,H=typeof Te=="function"?Te.call(Ze,W,H):Te,H==null)break e;W=_({},W,H);break e;case 2:pr=!0}}H=S.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=f.callbacks,F===null?f.callbacks=[H]:F.push(H))}else F={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(j=Y=F,D=W):Y=Y.next=F,E|=H;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;F=S,S=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);Y===null&&(D=W),f.baseState=D,f.firstBaseUpdate=j,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),wr|=E,t.lanes=E,t.memoizedState=W}}function gg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function yg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gg(a[t],i)}var Sa=X(null),Bu=X(0);function _g(t,i){t=zi,se(Bu,t),se(Sa,i),zi=t|i.baseLanes}function Rf(){se(Bu,zi),se(Sa,Sa.current)}function Cf(){zi=Bu.current,ae(Sa),ae(Bu)}var _r=0,Ne=null,Ye=null,vt=null,ju=!1,Aa=!1,Ps=!1,Hu=0,Xo=0,ba=null,nA=0;function gt(){throw Error(s(321))}function If(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!dn(t[a],i[a]))return!1;return!0}function Of(t,i,a,l,f,d){return _r=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?ty:ny,Ps=!1,d=a(l,f),Ps=!1,Aa&&(d=Eg(i,a,l,f)),vg(t),d}function vg(t){$.H=Qu;var i=Ye!==null&&Ye.next!==null;if(_r=0,vt=Ye=Ne=null,ju=!1,Xo=0,ba=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Pu(t)&&(Nt=!0))}function Eg(t,i,a,l){Ne=t;var f=0;do{if(Aa&&(ba=null),Xo=0,Aa=!1,25<=f)throw Error(s(301));if(f+=1,vt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=uA,d=i(a,l)}while(Aa);return d}function iA(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?Zo(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Df(){var t=Hu!==0;return Hu=0,t}function Nf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function xf(t){if(ju){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ju=!1}_r=0,vt=Ye=Ne=null,Aa=!1,Xo=Hu=0,ba=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ne.memoizedState=vt=t:vt=vt.next=t,vt}function Et(){if(Ye===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=vt===null?Ne.memoizedState:vt.next;if(i!==null)vt=i,Ye=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},vt===null?Ne.memoizedState=vt=t:vt=vt.next=t}return vt}function Mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(t){var i=Xo;return Xo+=1,ba===null&&(ba=[]),t=dg(ba,t,i),i=Ne,(vt===null?i.memoizedState:vt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?ty:ny),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zo(t);if(t.$$typeof===ee)return $t(t)}throw Error(s(438,String(t)))}function Vf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Mf(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=N;return i.index++,a}function Mi(t,i){return typeof i=="function"?i(t):i}function Fu(t){var i=Et();return Pf(i,Ye,t)}function Pf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=E=null,D=null,j=i,Y=!1;do{var W=j.lane&-536870913;if(W!==j.lane?(ze&W)===W:(_r&W)===W){var H=j.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),W===Ea&&(Y=!0);else if((_r&H)===H){j=j.next,H===Ea&&(Y=!0);continue}else W={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(S=D=W,E=d):D=D.next=W,Ne.lanes|=H,wr|=H;W=j.action,Ps&&a(d,W),d=j.hasEagerState?j.eagerState:a(d,W)}else H={lane:W,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(S=D=H,E=d):D=D.next=H,Ne.lanes|=W,wr|=W;j=j.next}while(j!==null&&j!==i);if(D===null?E=d:D.next=S,!dn(d,t.memoizedState)&&(Nt=!0,Y&&(a=Ta,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Lf(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);dn(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Tg(t,i,a){var l=Ne,f=Et(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!dn((Ye||f).memoizedState,a);E&&(f.memoizedState=a,Nt=!0),f=f.queue;var S=bg.bind(null,l,f,t);if(Wo(2048,8,S,[t]),f.getSnapshot!==i||E||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,wa(9,Gu(),Ag.bind(null,l,f,a,i),null),tt===null)throw Error(s(349));d||(_r&124)!==0||Sg(l,i,a)}return a}function Sg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=Mf(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ag(t,i,a,l){i.value=a,i.getSnapshot=l,wg(i)&&Rg(t)}function bg(t,i,a){return a(function(){wg(i)&&Rg(t)})}function wg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!dn(t,a)}catch{return!0}}function Rg(t){var i=ga(t,2);i!==null&&vn(i,t,2)}function kf(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),Ps){Tn(!0);try{a()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},i}function Cg(t,i,a,l){return t.baseState=a,Pf(t,Ye,typeof l=="function"?l:Mi)}function rA(t,i,a,l,f){if(Ku(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ig(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ig(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=$.T,E={};$.T=E;try{var S=a(f,l),D=$.S;D!==null&&D(E,S),Og(t,i,S)}catch(j){Uf(t,i,j)}finally{$.T=d}}else try{d=a(f,l),Og(t,i,d)}catch(j){Uf(t,i,j)}}function Og(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Dg(t,i,l)},function(l){return Uf(t,i,l)}):Dg(t,i,a)}function Dg(t,i,a){i.status="fulfilled",i.value=a,Ng(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ig(t,a)))}function Uf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ng(i),i=i.next;while(i!==l)}t.action=null}function Ng(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function xg(t,i){return i}function Mg(t,i){if(He){var a=tt.formState;if(a!==null){e:{var l=Ne;if(He){if(ct){t:{for(var f=ct,d=ii;f.nodeType!==8;){if(!d){f=null;break t}if(f=Gn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ct=Gn(f.nextSibling),l=f.data==="F!";break e}}Ns(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:i},a.queue=l,a=Wg.bind(null,Ne,l),l.dispatch=a,l=kf(!1),d=qf.bind(null,Ne,!1,l.queue),l=on(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=rA.bind(null,Ne,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Vg(t){var i=Et();return Pg(i,Ye,t)}function Pg(t,i,a){if(i=Pf(t,i,xg)[0],t=Fu(Mi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Zo(i)}catch(E){throw E===Go?Uu:E}else l=i;i=Et();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,wa(9,Gu(),sA.bind(null,f,a),null)),[l,d,t]}function sA(t,i){t.action=i}function Lg(t){var i=Et(),a=Ye;if(a!==null)return Pg(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function wa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=Mf(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Gu(){return{destroy:void 0,resource:void 0}}function kg(){return Et().memoizedState}function $u(t,i,a,l){var f=on();l=l===void 0?null:l,Ne.flags|=t,f.memoizedState=wa(1|i,Gu(),a,l)}function Wo(t,i,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;Ye!==null&&l!==null&&If(l,Ye.memoizedState.deps)?f.memoizedState=wa(i,d,a,l):(Ne.flags|=t,f.memoizedState=wa(1|i,d,a,l))}function Ug(t,i){$u(8390656,8,t,i)}function zg(t,i){Wo(2048,8,t,i)}function Bg(t,i){return Wo(4,2,t,i)}function jg(t,i){return Wo(4,4,t,i)}function Hg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function qg(t,i,a){a=a!=null?a.concat([t]):null,Wo(4,4,Hg.bind(null,i,t),a)}function zf(){}function Fg(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&If(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Gg(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&If(i,l[1]))return l[0];if(l=t(),Ps){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,i],l}function Bf(t,i,a){return a===void 0||(_r&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Qy(),Ne.lanes|=t,wr|=t,a)}function $g(t,i,a,l){return dn(a,i)?a:Sa.current!==null?(t=Bf(t,a,l),dn(t,i)||(Nt=!0),t):(_r&42)===0?(Nt=!0,t.memoizedState=a):(t=Qy(),Ne.lanes|=t,wr|=t,i)}function Kg(t,i,a,l,f){var d=ie.p;ie.p=d!==0&&8>d?d:8;var E=$.T,S={};$.T=S,qf(t,!1,i,a);try{var D=f(),j=$.S;if(j!==null&&j(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=tA(D,l);Jo(t,i,Y,_n(t))}else Jo(t,i,l,_n(t))}catch(W){Jo(t,i,{then:function(){},status:"rejected",reason:W},_n())}finally{ie.p=d,$.T=E}}function aA(){}function jf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Qg(t).queue;Kg(t,f,i,fe,a===null?aA:function(){return Yg(t),a(l)})}function Qg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Yg(t){var i=Qg(t).next.queue;Jo(t,i,{},_n())}function Hf(){return $t(yl)}function Xg(){return Et().memoizedState}function Zg(){return Et().memoizedState}function oA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();t=gr(a);var l=yr(i,t,a);l!==null&&(vn(l,i,a),Ko(l,i,a)),i={cache:_f()},t.payload=i;return}i=i.return}}function lA(t,i,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ku(t)?Jg(i,a):(a=lf(t,i,a,l),a!==null&&(vn(a,t,l),ey(a,i,l)))}function Wg(t,i,a){var l=_n();Jo(t,i,a,l)}function Jo(t,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ku(t))Jg(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,S=d(E,a);if(f.hasEagerState=!0,f.eagerState=S,dn(S,E))return Du(t,i,f,0),tt===null&&Ou(),!1}catch{}finally{}if(a=lf(t,i,f,l),a!==null)return vn(a,t,l),ey(a,i,l),!0}return!1}function qf(t,i,a,l){if(l={lane:2,revertLane:Td(),action:l,hasEagerState:!1,eagerState:null,next:null},Ku(t)){if(i)throw Error(s(479))}else i=lf(t,a,l,2),i!==null&&vn(i,t,2)}function Ku(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function Jg(t,i){Aa=ju=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ey(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ir(t,a)}}var Qu={readContext:$t,use:qu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},ty={readContext:$t,use:qu,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:Ug,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,$u(4194308,4,Hg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return $u(4194308,4,t,i)},useInsertionEffect:function(t,i){$u(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(Ps){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var f=a(i);if(Ps){Tn(!0);try{a(i)}finally{Tn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=lA.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=kf(t);var i=t.queue,a=Wg.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:zf,useDeferredValue:function(t,i){var a=on();return Bf(a,t,i)},useTransition:function(){var t=kf(!1);return t=Kg.bind(null,Ne,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,f=on();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(ze&124)!==0||Sg(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Ug(bg.bind(null,l,d,t),[t]),l.flags|=2048,wa(9,Gu(),Ag.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=tt.identifierPrefix;if(He){var a=Di,l=Oi;a=(l&~(1<<32-en(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Hu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=nA++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Hf,useFormState:Mg,useActionState:Mg,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=qf.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Vf,useCacheRefresh:function(){return on().memoizedState=oA.bind(null,Ne)}},ny={readContext:$t,use:qu,useCallback:Fg,useContext:$t,useEffect:zg,useImperativeHandle:qg,useInsertionEffect:Bg,useLayoutEffect:jg,useMemo:Gg,useReducer:Fu,useRef:kg,useState:function(){return Fu(Mi)},useDebugValue:zf,useDeferredValue:function(t,i){var a=Et();return $g(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Fu(Mi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:Tg,useId:Xg,useHostTransitionStatus:Hf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,i){var a=Et();return Cg(a,Ye,t,i)},useMemoCache:Vf,useCacheRefresh:Zg},uA={readContext:$t,use:qu,useCallback:Fg,useContext:$t,useEffect:zg,useImperativeHandle:qg,useInsertionEffect:Bg,useLayoutEffect:jg,useMemo:Gg,useReducer:Lf,useRef:kg,useState:function(){return Lf(Mi)},useDebugValue:zf,useDeferredValue:function(t,i){var a=Et();return Ye===null?Bf(a,t,i):$g(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Lf(Mi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:Tg,useId:Xg,useHostTransitionStatus:Hf,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,i){var a=Et();return Ye!==null?Cg(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:Zg},Ra=null,el=0;function Yu(t){var i=el;return el+=1,Ra===null&&(Ra=[]),dg(Ra,t,i)}function tl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Xu(t,i){throw i.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function iy(t){var i=t._init;return i(t._payload)}function ry(t){function i(k,P){if(t){var U=k.deletions;U===null?(k.deletions=[P],k.flags|=16):U.push(P)}}function a(k,P){if(!t)return null;for(;P!==null;)i(k,P),P=P.sibling;return null}function l(k){for(var P=new Map;k!==null;)k.key!==null?P.set(k.key,k):P.set(k.index,k),k=k.sibling;return P}function f(k,P){return k=Ii(k,P),k.index=0,k.sibling=null,k}function d(k,P,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<P?(k.flags|=67108866,P):U):(k.flags|=67108866,P)):(k.flags|=1048576,P)}function E(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function S(k,P,U,Z){return P===null||P.tag!==6?(P=cf(U,k.mode,Z),P.return=k,P):(P=f(P,U),P.return=k,P)}function D(k,P,U,Z){var ce=U.type;return ce===O?Y(k,P,U.props.children,Z,U.key):P!==null&&(P.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===R&&iy(ce)===P.type)?(P=f(P,U.props),tl(P,U),P.return=k,P):(P=xu(U.type,U.key,U.props,null,k.mode,Z),tl(P,U),P.return=k,P)}function j(k,P,U,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==U.containerInfo||P.stateNode.implementation!==U.implementation?(P=hf(U,k.mode,Z),P.return=k,P):(P=f(P,U.children||[]),P.return=k,P)}function Y(k,P,U,Z,ce){return P===null||P.tag!==7?(P=Cs(U,k.mode,Z,ce),P.return=k,P):(P=f(P,U),P.return=k,P)}function W(k,P,U){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=cf(""+P,k.mode,U),P.return=k,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return U=xu(P.type,P.key,P.props,null,k.mode,U),tl(U,P),U.return=k,U;case I:return P=hf(P,k.mode,U),P.return=k,P;case R:var Z=P._init;return P=Z(P._payload),W(k,P,U)}if(We(P)||L(P))return P=Cs(P,k.mode,U,null),P.return=k,P;if(typeof P.then=="function")return W(k,Yu(P),U);if(P.$$typeof===ee)return W(k,Lu(k,P),U);Xu(k,P)}return null}function H(k,P,U,Z){var ce=P!==null?P.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ce!==null?null:S(k,P,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return U.key===ce?D(k,P,U,Z):null;case I:return U.key===ce?j(k,P,U,Z):null;case R:return ce=U._init,U=ce(U._payload),H(k,P,U,Z)}if(We(U)||L(U))return ce!==null?null:Y(k,P,U,Z,null);if(typeof U.then=="function")return H(k,P,Yu(U),Z);if(U.$$typeof===ee)return H(k,P,Lu(k,U),Z);Xu(k,U)}return null}function F(k,P,U,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(U)||null,S(P,k,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return k=k.get(Z.key===null?U:Z.key)||null,D(P,k,Z,ce);case I:return k=k.get(Z.key===null?U:Z.key)||null,j(P,k,Z,ce);case R:var xe=Z._init;return Z=xe(Z._payload),F(k,P,U,Z,ce)}if(We(Z)||L(Z))return k=k.get(U)||null,Y(P,k,Z,ce,null);if(typeof Z.then=="function")return F(k,P,U,Yu(Z),ce);if(Z.$$typeof===ee)return F(k,P,U,Lu(P,Z),ce);Xu(P,Z)}return null}function Te(k,P,U,Z){for(var ce=null,xe=null,pe=P,_e=P=0,Mt=null;pe!==null&&_e<U.length;_e++){pe.index>_e?(Mt=pe,pe=null):Mt=pe.sibling;var je=H(k,pe,U[_e],Z);if(je===null){pe===null&&(pe=Mt);break}t&&pe&&je.alternate===null&&i(k,pe),P=d(je,P,_e),xe===null?ce=je:xe.sibling=je,xe=je,pe=Mt}if(_e===U.length)return a(k,pe),He&&Os(k,_e),ce;if(pe===null){for(;_e<U.length;_e++)pe=W(k,U[_e],Z),pe!==null&&(P=d(pe,P,_e),xe===null?ce=pe:xe.sibling=pe,xe=pe);return He&&Os(k,_e),ce}for(pe=l(pe);_e<U.length;_e++)Mt=F(pe,k,_e,U[_e],Z),Mt!==null&&(t&&Mt.alternate!==null&&pe.delete(Mt.key===null?_e:Mt.key),P=d(Mt,P,_e),xe===null?ce=Mt:xe.sibling=Mt,xe=Mt);return t&&pe.forEach(function(Vr){return i(k,Vr)}),He&&Os(k,_e),ce}function ye(k,P,U,Z){if(U==null)throw Error(s(151));for(var ce=null,xe=null,pe=P,_e=P=0,Mt=null,je=U.next();pe!==null&&!je.done;_e++,je=U.next()){pe.index>_e?(Mt=pe,pe=null):Mt=pe.sibling;var Vr=H(k,pe,je.value,Z);if(Vr===null){pe===null&&(pe=Mt);break}t&&pe&&Vr.alternate===null&&i(k,pe),P=d(Vr,P,_e),xe===null?ce=Vr:xe.sibling=Vr,xe=Vr,pe=Mt}if(je.done)return a(k,pe),He&&Os(k,_e),ce;if(pe===null){for(;!je.done;_e++,je=U.next())je=W(k,je.value,Z),je!==null&&(P=d(je,P,_e),xe===null?ce=je:xe.sibling=je,xe=je);return He&&Os(k,_e),ce}for(pe=l(pe);!je.done;_e++,je=U.next())je=F(pe,k,_e,je.value,Z),je!==null&&(t&&je.alternate!==null&&pe.delete(je.key===null?_e:je.key),P=d(je,P,_e),xe===null?ce=je:xe.sibling=je,xe=je);return t&&pe.forEach(function(cb){return i(k,cb)}),He&&Os(k,_e),ce}function Ze(k,P,U,Z){if(typeof U=="object"&&U!==null&&U.type===O&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case A:e:{for(var ce=U.key;P!==null;){if(P.key===ce){if(ce=U.type,ce===O){if(P.tag===7){a(k,P.sibling),Z=f(P,U.props.children),Z.return=k,k=Z;break e}}else if(P.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===R&&iy(ce)===P.type){a(k,P.sibling),Z=f(P,U.props),tl(Z,U),Z.return=k,k=Z;break e}a(k,P);break}else i(k,P);P=P.sibling}U.type===O?(Z=Cs(U.props.children,k.mode,Z,U.key),Z.return=k,k=Z):(Z=xu(U.type,U.key,U.props,null,k.mode,Z),tl(Z,U),Z.return=k,k=Z)}return E(k);case I:e:{for(ce=U.key;P!==null;){if(P.key===ce)if(P.tag===4&&P.stateNode.containerInfo===U.containerInfo&&P.stateNode.implementation===U.implementation){a(k,P.sibling),Z=f(P,U.children||[]),Z.return=k,k=Z;break e}else{a(k,P);break}else i(k,P);P=P.sibling}Z=hf(U,k.mode,Z),Z.return=k,k=Z}return E(k);case R:return ce=U._init,U=ce(U._payload),Ze(k,P,U,Z)}if(We(U))return Te(k,P,U,Z);if(L(U)){if(ce=L(U),typeof ce!="function")throw Error(s(150));return U=ce.call(U),ye(k,P,U,Z)}if(typeof U.then=="function")return Ze(k,P,Yu(U),Z);if(U.$$typeof===ee)return Ze(k,P,Lu(k,U),Z);Xu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,P!==null&&P.tag===6?(a(k,P.sibling),Z=f(P,U),Z.return=k,k=Z):(a(k,P),Z=cf(U,k.mode,Z),Z.return=k,k=Z),E(k)):a(k,P)}return function(k,P,U,Z){try{el=0;var ce=Ze(k,P,U,Z);return Ra=null,ce}catch(pe){if(pe===Go||pe===Uu)throw pe;var xe=mn(29,pe,null,k.mode);return xe.lanes=Z,xe.return=k,xe}finally{}}}var Ca=ry(!0),sy=ry(!1),Dn=X(null),ri=null;function vr(t){var i=t.alternate;se(Rt,Rt.current&1),se(Dn,t),ri===null&&(i===null||Sa.current!==null||i.memoizedState!==null)&&(ri=t)}function ay(t){if(t.tag===22){if(se(Rt,Rt.current),se(Dn,t),ri===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ri=t)}}else Er()}function Er(){se(Rt,Rt.current),se(Dn,Dn.current)}function Vi(t){ae(Dn),ri===t&&(ri=null),ae(Rt)}var Rt=X(0);function Zu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Md(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ff(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Gf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=_n(),f=gr(l);f.payload=i,a!=null&&(f.callback=a),i=yr(t,f,l),i!==null&&(vn(i,t,l),Ko(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=_n(),f=gr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=yr(t,f,l),i!==null&&(vn(i,t,l),Ko(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=_n(),l=gr(a);l.tag=2,i!=null&&(l.callback=i),i=yr(t,l,a),i!==null&&(vn(i,t,a),Ko(i,t,a))}};function oy(t,i,a,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!ko(a,l)||!ko(f,d):!0}function ly(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Gf.enqueueReplaceState(i,i.state,null)}function Ls(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=_({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function uy(t){Wu(t)}function cy(t){console.error(t)}function hy(t){Wu(t)}function Ju(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function fy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function $f(t,i,a){return a=gr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ju(t,i)},a}function dy(t){return t=gr(t),t.tag=3,t}function my(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){fy(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){fy(i,a,l),typeof f!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function cA(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ho(i,a,f,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return ri===null?gd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Tf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),_d(t,l,f)),!1;case 22:return a.flags|=65536,l===Tf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),_d(t,l,f)),!1}throw Error(s(435,a.tag))}return _d(t,l,f),gd(),!1}if(He)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==mf&&(t=Error(s(422),{cause:l}),jo(Rn(t,a)))):(l!==mf&&(i=Error(s(423),{cause:l}),jo(Rn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Rn(l,a),f=$f(t.stateNode,l,f),bf(t,f),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),ll===null?ll=[d]:ll.push(d),ht!==4&&(ht=2),i===null)return!0;l=Rn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=$f(a.stateNode,l,t),bf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rr===null||!Rr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=dy(f),my(f,t,a,l),bf(a,f),!1}a=a.return}while(a!==null);return!1}var py=Error(s(461)),Nt=!1;function kt(t,i,a,l){i.child=t===null?sy(i,null,a,l):Ca(i,t.child,a,l)}function gy(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return Ms(i),l=Of(t,i,a,E,d,f),S=Df(),t!==null&&!Nt?(Nf(t,i,f),Pi(t,i,f)):(He&&S&&ff(i),i.flags|=1,kt(t,i,l,f),i.child)}function yy(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!uf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,_y(t,i,d,l,f)):(t=xu(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ed(t,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:ko,a(E,l)&&t.ref===i.ref)return Pi(t,i,f)}return i.flags|=1,t=Ii(d,l),t.ref=i.ref,t.return=i,i.child=t}function _y(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(ko(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,ed(t,f))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,Pi(t,i,f)}return Kf(t,i,a,l,f)}function vy(t,i,a){var l=i.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(f=i.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ey(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ku(i,d!==null?d.cachePool:null),d!==null?_g(i,d):Rf(),ay(i);else return i.lanes=i.childLanes=536870912,Ey(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(ku(i,d.cachePool),_g(i,d),Er(),i.memoizedState=null):(t!==null&&ku(i,null),Rf(),Er());return kt(t,i,f,a),i.child}function Ey(t,i,a,l){var f=Ef();return f=f===null?null:{parent:wt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&ku(i,null),Rf(),ay(i),t!==null&&Ho(t,i,l,!0),null}function ec(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Kf(t,i,a,l,f){return Ms(i),a=Of(t,i,a,l,void 0,f),l=Df(),t!==null&&!Nt?(Nf(t,i,f),Pi(t,i,f)):(He&&l&&ff(i),i.flags|=1,kt(t,i,a,f),i.child)}function Ty(t,i,a,l,f,d){return Ms(i),i.updateQueue=null,a=Eg(i,l,a,f),vg(t),l=Df(),t!==null&&!Nt?(Nf(t,i,d),Pi(t,i,d)):(He&&l&&ff(i),i.flags|=1,kt(t,i,a,d),i.child)}function Sy(t,i,a,l,f){if(Ms(i),i.stateNode===null){var d=ya,E=a.contextType;typeof E=="object"&&E!==null&&(d=$t(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Gf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Sf(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?$t(E):ya,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Ff(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Gf.enqueueReplaceState(d,d.state,null),Yo(i,l,d,f),Qo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,D=Ls(a,S);d.props=D;var j=d.context,Y=a.contextType;E=ya,typeof Y=="object"&&Y!==null&&(E=$t(Y));var W=a.getDerivedStateFromProps;Y=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||j!==E)&&ly(i,d,l,E),pr=!1;var H=i.memoizedState;d.state=H,Yo(i,l,d,f),Qo(),j=i.memoizedState,S||H!==j||pr?(typeof W=="function"&&(Ff(i,a,W,l),j=i.memoizedState),(D=pr||oy(i,a,D,l,H,j,E))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=E,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Af(t,i),E=i.memoizedProps,Y=Ls(a,E),d.props=Y,W=i.pendingProps,H=d.context,j=a.contextType,D=ya,typeof j=="object"&&j!==null&&(D=$t(j)),S=a.getDerivedStateFromProps,(j=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==W||H!==D)&&ly(i,d,l,D),pr=!1,H=i.memoizedState,d.state=H,Yo(i,l,d,f),Qo();var F=i.memoizedState;E!==W||H!==F||pr||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof S=="function"&&(Ff(i,a,S,l),F=i.memoizedState),(Y=pr||oy(i,a,Y,l,H,F,D)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=D,l=Y):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,ec(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ca(i,t.child,null,f),i.child=Ca(i,null,a,f)):kt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Pi(t,i,f),t}function Ay(t,i,a,l){return Bo(),i.flags|=256,kt(t,i,a,l),i.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(t){return{baseLanes:t,cachePool:cg()}}function Xf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Nn),t}function by(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(f?vr(i):Er(),He){var S=ct,D;if(D=S){e:{for(D=S,S=ii;D.nodeType!==8;){if(!S){S=null;break e}if(D=Gn(D.nextSibling),D===null){S=null;break e}}S=D}S!==null?(i.memoizedState={dehydrated:S,treeContext:Is!==null?{id:Oi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},D=mn(18,null,null,0),D.stateNode=S,D.return=i,i.child=D,sn=i,ct=null,D=!0):D=!1}D||Ns(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Md(S)?i.lanes=32:i.lanes=536870912,null;Vi(i)}return S=l.children,l=l.fallback,f?(Er(),f=i.mode,S=tc({mode:"hidden",children:S},f),l=Cs(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,f=i.child,f.memoizedState=Yf(a),f.childLanes=Xf(t,E,a),i.memoizedState=Qf,l):(vr(i),Zf(i,S))}if(D=t.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(d)i.flags&256?(vr(i),i.flags&=-257,i=Wf(t,i,a)):i.memoizedState!==null?(Er(),i.child=t.child,i.flags|=128,i=null):(Er(),f=l.fallback,S=i.mode,l=tc({mode:"visible",children:l.children},S),f=Cs(f,S,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Ca(i,t.child,null,a),l=i.child,l.memoizedState=Yf(a),l.childLanes=Xf(t,E,a),i.memoizedState=Qf,i=f);else if(vr(i),Md(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var j=E.dgst;E=j,l=Error(s(419)),l.stack="",l.digest=E,jo({value:l,source:null,stack:null}),i=Wf(t,i,a)}else if(Nt||Ho(t,i,a,!1),E=(a&t.childLanes)!==0,Nt||E){if(E=tt,E!==null&&(l=a&-a,l=(l&42)!==0?1:Eo(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,ga(t,l),vn(E,t,l),py;S.data==="$?"||gd(),i=Wf(t,i,a)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,ct=Gn(S.nextSibling),sn=i,He=!0,Ds=null,ii=!1,t!==null&&(In[On++]=Oi,In[On++]=Di,In[On++]=Is,Oi=t.id,Di=t.overflow,Is=i),i=Zf(i,l.children),i.flags|=4096);return i}return f?(Er(),f=l.fallback,S=i.mode,D=t.child,j=D.sibling,l=Ii(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,j!==null?f=Ii(j,f):(f=Cs(f,S,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,S=t.child.memoizedState,S===null?S=Yf(a):(D=S.cachePool,D!==null?(j=wt._currentValue,D=D.parent!==j?{parent:j,pool:j}:D):D=cg(),S={baseLanes:S.baseLanes|a,cachePool:D}),f.memoizedState=S,f.childLanes=Xf(t,E,a),i.memoizedState=Qf,l):(vr(i),a=t.child,t=a.sibling,a=Ii(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function Zf(t,i){return i=tc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function tc(t,i){return t=mn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Wf(t,i,a){return Ca(i,t.child,null,a),t=Zf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function wy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),gf(t.return,i,a)}function Jf(t,i,a,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function Ry(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(kt(t,i,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wy(t,a,i);else if(t.tag===19)wy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Rt,l),f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Jf(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Zu(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Jf(i,!0,a,null,d);break;case"together":Jf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),wr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ho(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ii(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ii(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ed(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function hA(t,i,a){switch(i.tag){case 3:Ke(i,i.stateNode.containerInfo),mr(i,wt,t.memoizedState.cache),Bo();break;case 27:case 5:go(i);break;case 4:Ke(i,i.stateNode.containerInfo);break;case 10:mr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?by(t,i,a):(vr(i),t=Pi(t,i,a),t!==null?t.sibling:null);vr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ho(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return Ry(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Rt,Rt.current),l)break;return null;case 22:case 23:return i.lanes=0,vy(t,i,a);case 24:mr(i,wt,t.memoizedState.cache)}return Pi(t,i,a)}function Cy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!ed(t,a)&&(i.flags&128)===0)return Nt=!1,hA(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,He&&(i.flags&1048576)!==0&&ig(i,Vu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")uf(l)?(t=Ls(l,t),i.tag=1,i=Sy(null,i,l,t,a)):(i.tag=0,i=Kf(null,i,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===le){i.tag=11,i=gy(null,i,l,t,a);break e}else if(f===x){i.tag=14,i=yy(null,i,l,t,a);break e}}throw i=Oe(l)||l,Error(s(306,i,""))}}return i;case 0:return Kf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Ls(l,i.pendingProps),Sy(t,i,l,f,a);case 3:e:{if(Ke(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Af(t,i),Yo(i,l,null,a);var E=i.memoizedState;if(l=E.cache,mr(i,wt,l),l!==d.cache&&yf(i,[wt],a,!0),Qo(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ay(t,i,l,a);break e}else if(l!==f){f=Rn(Error(s(424)),i),jo(f),i=Ay(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Gn(t.firstChild),sn=i,He=!0,Ds=null,ii=!0,a=sy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bo(),l===f){i=Pi(t,i,a);break e}kt(t,i,l,a)}i=i.child}return i;case 26:return ec(t,i),t===null?(a=N_(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=pc(Ee.current).createElement(a),l[dt]=i,l[Lt]=t,zt(l,a,t),mt(l),i.stateNode=l):i.memoizedState=N_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return go(i),t===null&&He&&(l=i.stateNode=I_(i.type,i.pendingProps,Ee.current),sn=i,ii=!0,f=ct,Or(i.type)?(Vd=f,ct=Gn(l.firstChild)):ct=f),kt(t,i,i.pendingProps.children,a),ec(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((f=l=ct)&&(l=zA(l,i.type,i.pendingProps,ii),l!==null?(i.stateNode=l,sn=i,ct=Gn(l.firstChild),ii=!1,f=!0):f=!1),f||Ns(i)),go(i),f=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Dd(f,d)?l=null:E!==null&&Dd(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Of(t,i,iA,null,null,a),yl._currentValue=f),ec(t,i),kt(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=ct)&&(a=BA(a,i.pendingProps,ii),a!==null?(i.stateNode=a,sn=i,ct=null,t=!0):t=!1),t||Ns(i)),null;case 13:return by(t,i,a);case 4:return Ke(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ca(i,null,l,a):kt(t,i,l,a),i.child;case 11:return gy(t,i,i.type,i.pendingProps,a);case 7:return kt(t,i,i.pendingProps,a),i.child;case 8:return kt(t,i,i.pendingProps.children,a),i.child;case 12:return kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,mr(i,i.type,l.value),kt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Ms(i),f=$t(f),l=l(f),i.flags|=1,kt(t,i,l,a),i.child;case 14:return yy(t,i,i.type,i.pendingProps,a);case 15:return _y(t,i,i.type,i.pendingProps,a);case 19:return Ry(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=tc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ii(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return vy(t,i,a);case 24:return Ms(i),l=$t(wt),t===null?(f=Ef(),f===null&&(f=tt,d=_f(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Sf(i),mr(i,wt,f)):((t.lanes&a)!==0&&(Af(t,i),Yo(i,null,null,a),Qo()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),mr(i,wt,l)):(l=d.cache,mr(i,wt,l),l!==f.cache&&yf(i,[wt],a,!0))),kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Li(t){t.flags|=4}function Iy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L_(i)){if(i=Dn.current,i!==null&&((ze&4194048)===ze?ri!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==ri))throw $o=Tf,hg;t.flags|=8192}}function nc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?tr():536870912,t.lanes|=i,Na|=i)}function nl(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function fA(t,i,a){var l=i.pendingProps;switch(df(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),xi(wt),Pn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(zo(i)?Li(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ag())),ot(i),null;case 26:return a=i.memoizedState,t===null?(Li(i),a!==null?(ot(i),Iy(i,a)):(ot(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Li(i),ot(i),Iy(i,a)):(ot(i),i.flags&=-16777217):(t.memoizedProps!==l&&Li(i),ot(i),i.flags&=-16777217),null;case 27:Xs(i),a=Ee.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}t=de.current,zo(i)?rg(i):(t=I_(f,l,a),i.stateNode=t,Li(i))}return ot(i),null;case 5:if(Xs(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(t=de.current,zo(i))rg(i);else{switch(f=pc(Ee.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[dt]=i,t[Lt]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Li(i)}}return ot(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Li(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ee.current,zo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[dt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||T_(t.nodeValue,a)),t||Ns(i)}else t=pc(t).createTextNode(l),t[dt]=i,i.stateNode=t}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=zo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[dt]=i}else Bo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),f=!1}else f=ag(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Vi(i),i):(Vi(i),null)}if(Vi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),nc(i,i.updateQueue),ot(i),null;case 4:return Pn(),t===null&&wd(i.stateNode.containerInfo),ot(i),null;case 10:return xi(i.type),ot(i),null;case 19:if(ae(Rt),f=i.memoizedState,f===null)return ot(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)nl(f,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Zu(t),d!==null){for(i.flags|=128,nl(f,!1),t=d.updateQueue,i.updateQueue=t,nc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ng(a,t),a=a.sibling;return se(Rt,Rt.current&1|2),i.child}t=t.sibling}f.tail!==null&&an()>sc&&(i.flags|=128,l=!0,nl(f,!1),i.lanes=4194304)}else{if(!l)if(t=Zu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,nc(i,t),nl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!He)return ot(i),null}else 2*an()-f.renderingStartTime>sc&&a!==536870912&&(i.flags|=128,l=!0,nl(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(t=f.last,t!==null?t.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=an(),i.sibling=null,t=Rt.current,se(Rt,l?t&1|2:t&1),i):(ot(i),null);case 22:case 23:return Vi(i),Cf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&nc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ae(Vs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),xi(wt),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function dA(t,i){switch(df(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return xi(wt),Pn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Xs(i),null;case 13:if(Vi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Bo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ae(Rt),null;case 4:return Pn(),null;case 10:return xi(i.type),null;case 22:case 23:return Vi(i),Cf(),t!==null&&ae(Vs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return xi(wt),null;case 25:return null;default:return null}}function Oy(t,i){switch(df(i),i.tag){case 3:xi(wt),Pn();break;case 26:case 27:case 5:Xs(i);break;case 4:Pn();break;case 13:Vi(i);break;case 19:ae(Rt);break;case 10:xi(i.type);break;case 22:case 23:Vi(i),Cf(),t!==null&&ae(Vs);break;case 24:xi(wt)}}function il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(S){Je(i,i.return,S)}}function Tr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=i;var D=a,j=S;try{j()}catch(Y){Je(f,D,Y)}}}l=l.next}while(l!==d)}}catch(Y){Je(i,i.return,Y)}}function Dy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{yg(i,a)}catch(l){Je(t,t.return,l)}}}function Ny(t,i,a){a.props=Ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function rl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Je(t,i,f)}}function si(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(t,i,f)}else a.current=null}function xy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(t,t.return,f)}}function td(t,i,a){try{var l=t.stateNode;VA(l,t.type,a,i),l[Lt]=i}catch(f){Je(t,t.return,f)}}function My(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Or(t.type)||t.tag===4}function nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||My(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Or(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=mc));else if(l!==4&&(l===27&&Or(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(id(t,i,a),t=t.sibling;t!==null;)id(t,i,a),t=t.sibling}function ic(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Or(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ic(t,i,a),t=t.sibling;t!==null;)ic(t,i,a),t=t.sibling}function Vy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);zt(i,l,a),i[dt]=t,i[Lt]=a}catch(d){Je(t,t.return,d)}}var ki=!1,yt=!1,rd=!1,Py=typeof WeakSet=="function"?WeakSet:Set,xt=null;function mA(t,i){if(t=t.containerInfo,Id=Tc,t=$p(t),tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,S=-1,D=-1,j=0,Y=0,W=t,H=null;t:for(;;){for(var F;W!==a||f!==0&&W.nodeType!==3||(S=E+f),W!==d||l!==0&&W.nodeType!==3||(D=E+l),W.nodeType===3&&(E+=W.nodeValue.length),(F=W.firstChild)!==null;)H=W,W=F;for(;;){if(W===t)break t;if(H===a&&++j===f&&(S=E),H===d&&++Y===l&&(D=E),(F=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=F}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:t,selectionRange:a},Tc=!1,xt=i;xt!==null;)if(i=xt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,xt=t;else for(;xt!==null;){switch(i=xt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Ls(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Je(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)xd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,xt=t;break}xt=i.return}}function Ly(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(t,a),l&4&&il(5,a);break;case 1:if(Sr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){Je(a,a.return,E)}else{var f=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Je(a,a.return,E)}}l&64&&Dy(a),l&512&&rl(a,a.return);break;case 3:if(Sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{yg(t,i)}catch(E){Je(a,a.return,E)}}break;case 27:i===null&&l&4&&Vy(a);case 26:case 5:Sr(t,a),i===null&&l&4&&xy(a),l&512&&rl(a,a.return);break;case 12:Sr(t,a);break;case 13:Sr(t,a),l&4&&zy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=AA.bind(null,a),jA(t,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){i=i!==null&&i.memoizedState!==null||yt,f=ki;var d=yt;ki=l,(yt=i)&&!d?Ar(t,a,(a.subtreeFlags&8772)!==0):Sr(t,a),ki=f,yt=d}break;case 30:break;default:Sr(t,a)}}function ky(t){var i=t.alternate;i!==null&&(t.alternate=null,ky(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ta(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,ln=!1;function Ui(t,i,a){for(a=a.child;a!==null;)Uy(t,i,a),a=a.sibling}function Uy(t,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Wi,a)}catch{}switch(a.tag){case 26:yt||si(a,i),Ui(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||si(a,i);var l=st,f=ln;Or(a.type)&&(st=a.stateNode,ln=!1),Ui(t,i,a),dl(a.stateNode),st=l,ln=f;break;case 5:yt||si(a,i);case 6:if(l=st,f=ln,st=null,Ui(t,i,a),st=l,ln=f,st!==null)if(ln)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{st.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:st!==null&&(ln?(t=st,R_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Tl(t)):R_(st,a.stateNode));break;case 4:l=st,f=ln,st=a.stateNode.containerInfo,ln=!0,Ui(t,i,a),st=l,ln=f;break;case 0:case 11:case 14:case 15:yt||Tr(2,a,i),yt||Tr(4,a,i),Ui(t,i,a);break;case 1:yt||(si(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ny(a,i,l)),Ui(t,i,a);break;case 21:Ui(t,i,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Ui(t,i,a),yt=l;break;default:Ui(t,i,a)}}function zy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tl(t)}catch(a){Je(i,i.return,a)}}function pA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Py),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Py),i;default:throw Error(s(435,t.tag))}}function sd(t,i){var a=pA(t);i.forEach(function(l){var f=bA.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function pn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(Or(S.type)){st=S.stateNode,ln=!1;break e}break;case 5:st=S.stateNode,ln=!1;break e;case 3:case 4:st=S.stateNode.containerInfo,ln=!0;break e}S=S.return}if(st===null)throw Error(s(160));Uy(d,E,f),st=null,ln=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)By(i,t),i=i.sibling}var Fn=null;function By(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(i,t),gn(t),l&4&&(Tr(3,t,t.return),il(3,t),Tr(5,t,t.return));break;case 1:pn(i,t),gn(t),l&512&&(yt||a===null||si(a,a.return)),l&64&&ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Fn;if(pn(i,t),gn(t),l&512&&(yt||a===null||si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[rr]||d[dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),zt(d,l,a),d[dt]=t,mt(d),l=d;break e;case"link":var E=V_("link","href",f).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(d=E[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}d=f.createElement(l),zt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=V_("meta","content",f).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(d=E[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}d=f.createElement(l),zt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[dt]=t,mt(d),l=d}t.stateNode=l}else P_(f,t.type,t.stateNode);else t.stateNode=M_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?P_(f,t.type,t.stateNode):M_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&td(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(i,t),gn(t),l&512&&(yt||a===null||si(a,a.return)),a!==null&&l&4&&td(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,t),gn(t),l&512&&(yt||a===null||si(a,a.return)),t.flags&32){f=t.stateNode;try{bn(f,"")}catch(F){Je(t,t.return,F)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,td(t,f,a!==null?a.memoizedProps:f)),l&1024&&(rd=!0);break;case 6:if(pn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){Je(t,t.return,F)}}break;case 3:if(_c=null,f=Fn,Fn=gc(i.containerInfo),pn(i,t),Fn=f,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Tl(i.containerInfo)}catch(F){Je(t,t.return,F)}rd&&(rd=!1,jy(t));break;case 4:l=Fn,Fn=gc(t.stateNode.containerInfo),pn(i,t),gn(t),Fn=l;break;case 12:pn(i,t),gn(t);break;case 13:pn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hd=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sd(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,j=ki,Y=yt;if(ki=j||f,yt=Y||D,pn(i,t),yt=Y,ki=j,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||D||ki||yt||ks(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=D.stateNode;var W=D.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Je(D,D.return,F)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(F){Je(D,D.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,sd(t,a))));break;case 19:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sd(t,l)));break;case 30:break;case 21:break;default:pn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(My(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=nd(t);ic(t,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(bn(E,""),a.flags&=-33);var S=nd(t);ic(t,S,E);break;case 3:case 4:var D=a.stateNode.containerInfo,j=nd(t);id(t,j,D);break;default:throw Error(s(161))}}catch(Y){Je(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;jy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Sr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ly(t,i.alternate,i),i=i.sibling}function ks(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Tr(4,i,i.return),ks(i);break;case 1:si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ny(i,i.return,a),ks(i);break;case 27:dl(i.stateNode);case 26:case 5:si(i,i.return),ks(i);break;case 22:i.memoizedState===null&&ks(i);break;case 30:ks(i);break;default:ks(i)}t=t.sibling}}function Ar(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(f,d,a),il(4,d);break;case 1:if(Ar(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Je(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)gg(D[f],S)}catch(j){Je(l,l.return,j)}}a&&E&64&&Dy(d),rl(d,d.return);break;case 27:Vy(d);case 26:case 5:Ar(f,d,a),a&&l===null&&E&4&&xy(d),rl(d,d.return);break;case 12:Ar(f,d,a);break;case 13:Ar(f,d,a),a&&E&4&&zy(f,d);break;case 22:d.memoizedState===null&&Ar(f,d,a),rl(d,d.return);break;case 30:break;default:Ar(f,d,a)}i=i.sibling}}function ad(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&qo(a))}function od(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&qo(t))}function ai(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hy(t,i,a,l),i=i.sibling}function Hy(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,a,l),f&2048&&il(9,i);break;case 1:ai(t,i,a,l);break;case 3:ai(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&qo(t)));break;case 12:if(f&2048){ai(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,S=d.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Je(i,i.return,D)}}else ai(t,i,a,l);break;case 13:ai(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?ai(t,i,a,l):sl(t,i):d._visibility&2?ai(t,i,a,l):(d._visibility|=2,Ia(t,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&ad(E,i);break;case 24:ai(t,i,a,l),f&2048&&od(i.alternate,i);break;default:ai(t,i,a,l)}}function Ia(t,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,S=a,D=l,j=E.flags;switch(E.tag){case 0:case 11:case 15:Ia(d,E,S,D,f),il(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&2?Ia(d,E,S,D,f):sl(d,E):(Y._visibility|=2,Ia(d,E,S,D,f)),f&&j&2048&&ad(E.alternate,E);break;case 24:Ia(d,E,S,D,f),f&&j&2048&&od(E.alternate,E);break;default:Ia(d,E,S,D,f)}i=i.sibling}}function sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:sl(a,l),f&2048&&ad(l.alternate,l);break;case 24:sl(a,l),f&2048&&od(l.alternate,l);break;default:sl(a,l)}i=i.sibling}}var al=8192;function Oa(t){if(t.subtreeFlags&al)for(t=t.child;t!==null;)qy(t),t=t.sibling}function qy(t){switch(t.tag){case 26:Oa(t),t.flags&al&&t.memoizedState!==null&&eb(Fn,t.memoizedState,t.memoizedProps);break;case 5:Oa(t);break;case 3:case 4:var i=Fn;Fn=gc(t.stateNode.containerInfo),Oa(t),Fn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=al,al=16777216,Oa(t),al=i):Oa(t));break;default:Oa(t)}}function Fy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xt=l,$y(l,t)}Fy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gy(t),t=t.sibling}function Gy(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&Tr(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,rc(t)):ol(t);break;default:ol(t)}}function rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xt=l,$y(l,t)}Fy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Tr(8,i,i.return),rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,rc(i));break;default:rc(i)}t=t.sibling}}function $y(t,i){for(;xt!==null;){var a=xt;switch(a.tag){case 0:case 11:case 15:Tr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xt=l;else e:for(a=t;xt!==null;){l=xt;var f=l.sibling,d=l.return;if(ky(l),l===a){xt=null;break e}if(f!==null){f.return=d,xt=f;break e}xt=d}}}var gA={getCacheForType:function(t){var i=$t(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},yA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,Ve=null,ze=0,$e=0,yn=null,br=!1,Da=!1,ld=!1,zi=0,ht=0,wr=0,Us=0,ud=0,Nn=0,Na=0,ll=null,un=null,cd=!1,hd=0,sc=1/0,ac=null,Rr=null,Ut=0,Cr=null,xa=null,Ma=0,fd=0,dd=null,Ky=null,ul=0,md=null;function _n(){if((Ge&2)!==0&&ze!==0)return ze&-ze;if($.T!==null){var t=Ea;return t!==0?t:Td()}return Ti()}function Qy(){Nn===0&&(Nn=(ze&536870912)===0||He?vo():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),Nn}function vn(t,i,a){(t===tt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Va(t,0),Ir(t,ze,Nn,!1)),ft(t,a),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(Us|=a),ht===4&&Ir(t,ze,Nn,!1)),oi(t))}function Yy(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||er(t,i),f=l?EA(t,i):yd(t,i,!0),d=l;do{if(f===0){Da&&!l&&Ir(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!_A(a)){f=yd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=t;f=ll;var D=S.current.memoizedState.isDehydrated;if(D&&(Va(S,E).flags|=256),E=yd(S,E,!1),E!==2){if(ld&&!D){S.errorRecoveryDisabledLanes|=d,Us|=d,f=4;break e}d=un,un=f,d!==null&&(un===null?un=d:un.push.apply(un,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Va(t,0),Ir(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ir(l,i,Nn,!br);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=hd+300-an(),10<f)){if(Ir(l,i,Nn,!br),Sn(l,0,!0)!==0)break e;l.timeoutHandle=b_(Xy.bind(null,l,a,un,ac,cd,i,Nn,Us,Na,br,d,2,-0,0),f);break e}Xy(l,a,un,ac,cd,i,Nn,Us,Na,br,d,0,-0,0)}}break}while(!0);oi(t)}function Xy(t,i,a,l,f,d,E,S,D,j,Y,W,H,F){if(t.timeoutHandle=-1,W=i.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(gl={stylesheets:null,count:0,unsuspend:JA},qy(i),W=tb(),W!==null)){t.cancelPendingCommit=W(i_.bind(null,t,i,d,a,l,f,E,S,D,Y,1,H,F)),Ir(t,d,E,!j);return}i_(t,i,d,a,l,f,E,S,D)}function _A(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!dn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ir(t,i,a,l){i&=~ud,i&=~Us,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-en(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&nr(t,a,i)}function oc(){return(Ge&6)===0?(cl(0),!1):!0}function pd(){if(Ve!==null){if($e===0)var t=Ve.return;else t=Ve,Ni=xs=null,xf(t),Ra=null,el=0,t=Ve;for(;t!==null;)Oy(t.alternate,t),t=t.return;Ve=null}}function Va(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,LA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),pd(),tt=t,Ve=a=Ii(t.current,null),ze=i,$e=0,yn=null,br=!1,Da=er(t,i),ld=!1,Na=Nn=ud=Us=wr=ht=0,un=ll=null,cd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-en(l),d=1<<f;i|=t[f],l&=~d}return zi=i,Ou(),a}function Zy(t,i){Ne=null,$.H=Qu,i===Go||i===Uu?(i=mg(),$e=3):i===hg?(i=mg(),$e=4):$e=i===py?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Ve===null&&(ht=1,Ju(t,Rn(i,t.current)))}function Wy(){var t=$.H;return $.H=Qu,t===null?Qu:t}function Jy(){var t=$.A;return $.A=gA,t}function gd(){ht=4,br||(ze&4194048)!==ze&&Dn.current!==null||(Da=!0),(wr&134217727)===0&&(Us&134217727)===0||tt===null||Ir(tt,ze,Nn,!1)}function yd(t,i,a){var l=Ge;Ge|=2;var f=Wy(),d=Jy();(tt!==t||ze!==i)&&(ac=null,Va(t,i)),i=!1;var E=ht;e:do try{if($e!==0&&Ve!==null){var S=Ve,D=yn;switch($e){case 8:pd(),E=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var j=$e;if($e=0,yn=null,Pa(t,S,D,j),a&&Da){E=0;break e}break;default:j=$e,$e=0,yn=null,Pa(t,S,D,j)}}vA(),E=ht;break}catch(Y){Zy(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Ni=xs=null,Ge=l,$.H=f,$.A=d,Ve===null&&(tt=null,ze=0,Ou()),E}function vA(){for(;Ve!==null;)e_(Ve)}function EA(t,i){var a=Ge;Ge|=2;var l=Wy(),f=Jy();tt!==t||ze!==i?(ac=null,sc=an()+500,Va(t,i)):Da=er(t,i);e:do try{if($e!==0&&Ve!==null){i=Ve;var d=yn;t:switch($e){case 1:$e=0,yn=null,Pa(t,i,d,1);break;case 2:case 9:if(fg(d)){$e=0,yn=null,t_(i);break}i=function(){$e!==2&&$e!==9||tt!==t||($e=7),oi(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:fg(d)?($e=0,yn=null,t_(i)):($e=0,yn=null,Pa(t,i,d,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var S=Ve;if(!E||L_(E)){$e=0,yn=null;var D=S.sibling;if(D!==null)Ve=D;else{var j=S.return;j!==null?(Ve=j,lc(j)):Ve=null}break t}}$e=0,yn=null,Pa(t,i,d,5);break;case 6:$e=0,yn=null,Pa(t,i,d,6);break;case 8:pd(),ht=6;break e;default:throw Error(s(462))}}TA();break}catch(Y){Zy(t,Y)}while(!0);return Ni=xs=null,$.H=l,$.A=f,Ge=a,Ve!==null?0:(tt=null,ze=0,Ou(),ht)}function TA(){for(;Ve!==null&&!Fh();)e_(Ve)}function e_(t){var i=Cy(t.alternate,t,zi);t.memoizedProps=t.pendingProps,i===null?lc(t):Ve=i}function t_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ty(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=Ty(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:xf(i);default:Oy(a,i),i=Ve=ng(i,zi),i=Cy(a,i,zi)}t.memoizedProps=t.pendingProps,i===null?lc(t):Ve=i}function Pa(t,i,a,l){Ni=xs=null,xf(i),Ra=null,el=0;var f=i.return;try{if(cA(t,f,i,a,ze)){ht=1,Ju(t,Rn(a,t.current)),Ve=null;return}}catch(d){if(f!==null)throw Ve=f,d;ht=1,Ju(t,Rn(a,t.current)),Ve=null;return}i.flags&32768?(He||l===1?t=!0:Da||(ze&536870912)!==0?t=!1:(br=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),n_(i,t)):lc(i)}function lc(t){var i=t;do{if((i.flags&32768)!==0){n_(i,br);return}t=i.return;var a=fA(i.alternate,i,zi);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);ht===0&&(ht=5)}function n_(t,i){do{var a=dA(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);ht=6,Ve=null}function i_(t,i,a,l,f,d,E,S,D){t.cancelPendingCommit=null;do uc();while(Ut!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=of,fu(t,a,d,E,S,D),t===tt&&(Ve=tt=null,ze=0),xa=i,Cr=t,Ma=a,fd=d,dd=f,Ky=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wA(Ei,function(){return l_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ie.p,ie.p=2,E=Ge,Ge|=4;try{mA(t,i,a)}finally{Ge=E,ie.p=f,$.T=l}}Ut=1,r_(),s_(),a_()}}function r_(){if(Ut===1){Ut=0;var t=Cr,i=xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ie.p;ie.p=2;var f=Ge;Ge|=4;try{By(i,t);var d=Od,E=$p(t.containerInfo),S=d.focusedElem,D=d.selectionRange;if(E!==S&&S&&S.ownerDocument&&Gp(S.ownerDocument.documentElement,S)){if(D!==null&&tf(S)){var j=D.start,Y=D.end;if(Y===void 0&&(Y=j),"selectionStart"in S)S.selectionStart=j,S.selectionEnd=Math.min(Y,S.value.length);else{var W=S.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var F=H.getSelection(),Te=S.textContent.length,ye=Math.min(D.start,Te),Ze=D.end===void 0?ye:Math.min(D.end,Te);!F.extend&&ye>Ze&&(E=Ze,Ze=ye,ye=E);var k=Fp(S,ye),P=Fp(S,Ze);if(k&&P&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==P.node||F.focusOffset!==P.offset)){var U=W.createRange();U.setStart(k.node,k.offset),F.removeAllRanges(),ye>Ze?(F.addRange(U),F.extend(P.node,P.offset)):(U.setEnd(P.node,P.offset),F.addRange(U))}}}}for(W=[],F=S;F=F.parentNode;)F.nodeType===1&&W.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<W.length;S++){var Z=W[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Tc=!!Id,Od=Id=null}finally{Ge=f,ie.p=l,$.T=a}}t.current=i,Ut=2}}function s_(){if(Ut===2){Ut=0;var t=Cr,i=xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ie.p;ie.p=2;var f=Ge;Ge|=4;try{Ly(t,i.alternate,i)}finally{Ge=f,ie.p=l,$.T=a}}Ut=3}}function a_(){if(Ut===4||Ut===3){Ut=0,yo();var t=Cr,i=xa,a=Ma,l=Ky;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,xa=Cr=null,o_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Rr=null),To(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Wi,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,f=ie.p,ie.p=2,$.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var S=l[E];d(S.value,{componentStack:S.stack})}}finally{$.T=i,ie.p=f}}(Ma&3)!==0&&uc(),oi(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===md?ul++:(ul=0,md=t):ul=0,cl(0)}}function o_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,qo(i)))}function uc(t){return r_(),s_(),a_(),l_()}function l_(){if(Ut!==5)return!1;var t=Cr,i=fd;fd=0;var a=To(Ma),l=$.T,f=ie.p;try{ie.p=32>a?32:a,$.T=null,a=dd,dd=null;var d=Cr,E=Ma;if(Ut=0,xa=Cr=null,Ma=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,Gy(d.current),Hy(d,d.current,E,a),Ge=S,cl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Wi,d)}catch{}return!0}finally{ie.p=f,$.T=l,o_(t,i)}}function u_(t,i,a){i=Rn(a,i),i=$f(t.stateNode,i,2),t=yr(t,i,2),t!==null&&(ft(t,2),oi(t))}function Je(t,i,a){if(t.tag===3)u_(t,t,a);else for(;i!==null;){if(i.tag===3){u_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rr===null||!Rr.has(l))){t=Rn(a,t),a=dy(2),l=yr(i,a,2),l!==null&&(my(a,l,i,t),ft(l,2),oi(l));break}}i=i.return}}function _d(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new yA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(ld=!0,f.add(a),t=SA.bind(null,t,i,a),i.then(t,t))}function SA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(ze&a)===a&&(ht===4||ht===3&&(ze&62914560)===ze&&300>an()-hd?(Ge&2)===0&&Va(t,0):ud|=a,Na===ze&&(Na=0)),oi(t)}function c_(t,i){i===0&&(i=tr()),t=ga(t,i),t!==null&&(ft(t,i),oi(t))}function AA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),c_(t,a)}function bA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),c_(t,a)}function wA(t,i){return is(t,i)}var cc=null,La=null,vd=!1,hc=!1,Ed=!1,zs=0;function oi(t){t!==La&&t.next===null&&(La===null?cc=La=t:La=La.next=t),hc=!0,vd||(vd=!0,CA())}function cl(t,i){if(!Ed&&hc){Ed=!0;do for(var a=!1,l=cc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-en(42|t)+1)-1,d&=f&~(E&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,m_(l,d))}else d=ze,d=Sn(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||er(l,d)||(a=!0,m_(l,d));l=l.next}while(a);Ed=!1}}function RA(){h_()}function h_(){hc=vd=!1;var t=0;zs!==0&&(PA()&&(t=zs),zs=0);for(var i=an(),a=null,l=cc;l!==null;){var f=l.next,d=f_(l,i);d===0?(l.next=null,a===null?cc=f:a.next=f,f===null&&(La=a)):(a=l,(t!==0||(d&3)!==0)&&(hc=!0)),l=f}cl(t)}function f_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-en(d),S=1<<E,D=f[E];D===-1?((S&a)===0||(S&l)!==0)&&(f[E]=Js(S,i)):D<=i&&(t.expiredLanes|=S),d&=~S}if(i=tt,a=ze,a=Sn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ws(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||er(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ws(l),To(a)){case 2:case 8:a=Ot;break;case 32:a=Ei;break;case 268435456:a=_o;break;default:a=Ei}return l=d_.bind(null,t),a=is(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ws(l),t.callbackPriority=2,t.callbackNode=null,2}function d_(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(uc()&&t.callbackNode!==a)return null;var l=ze;return l=Sn(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Yy(t,l,i),f_(t,an()),t.callbackNode!=null&&t.callbackNode===a?d_.bind(null,t):null)}function m_(t,i){if(uc())return null;Yy(t,i,!0)}function CA(){kA(function(){(Ge&6)!==0?is(At,RA):h_()})}function Td(){return zs===0&&(zs=vo()),zs}function p_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zn(""+t)}function g_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function IA(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=p_((f[Lt]||null).action),E=l.submitter;E&&(i=(i=E[Lt]||null)?p_(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var S=new _s("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var D=E?g_(f,E):new FormData(f);jf(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=E?g_(f,E):new FormData(f),jf(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Sd=0;Sd<af.length;Sd++){var Ad=af[Sd],OA=Ad.toLowerCase(),DA=Ad[0].toUpperCase()+Ad.slice(1);qn(OA,"on"+DA)}qn(Yp,"onAnimationEnd"),qn(Xp,"onAnimationIteration"),qn(Zp,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(KS,"onTransitionRun"),qn(QS,"onTransitionStart"),qn(YS,"onTransitionCancel"),qn(Wp,"onTransitionEnd"),Jn("onMouseEnter",["mouseout","mouseover"]),Jn("onMouseLeave",["mouseout","mouseover"]),Jn("onPointerEnter",["pointerout","pointerover"]),Jn("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function y_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],D=S.instance,j=S.currentTarget;if(S=S.listener,D!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=j;try{d(f)}catch(Y){Wu(Y)}f.currentTarget=null,d=D}else for(E=0;E<l.length;E++){if(S=l[E],D=S.instance,j=S.currentTarget,S=S.listener,D!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=j;try{d(f)}catch(Y){Wu(Y)}f.currentTarget=null,d=D}}}}function Pe(t,i){var a=i[ss];a===void 0&&(a=i[ss]=new Set);var l=t+"__bubble";a.has(l)||(__(i,t,2,!1),a.add(l))}function bd(t,i,a){var l=0;i&&(l|=4),__(a,t,l,i)}var fc="_reactListening"+Math.random().toString(36).slice(2);function wd(t){if(!t[fc]){t[fc]=!0,du.forEach(function(a){a!=="selectionchange"&&(NA.has(a)||bd(a,!1,t),bd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[fc]||(i[fc]=!0,bd("selectionchange",!1,i))}}function __(t,i,a,l){switch(H_(i)){case 2:var f=rb;break;case 8:f=sb;break;default:f=zd}a=f.bind(null,i,a,t),f=void 0,!Ri||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Rd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=Xn(S),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=d=E;continue e}S=S.parentNode}}l=l.return}ps(function(){var j=d,Y=Io(a),W=[];e:{var H=Jp.get(t);if(H!==void 0){var F=_s,Te=t;switch(t){case"keypress":if(gs(a)===0)break e;case"keydown":case"keyup":F=fa;break;case"focusin":Te="focus",F=ua;break;case"focusout":Te="blur",F=ua;break;case"beforeblur":case"afterblur":F=ua;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=As;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=dr;break;case Yp:case Xp:case Zp:F=Do;break;case Wp:F=y;break;case"scroll":case"scrollend":F=Es;break;case"wheel":F=b;break;case"copy":case"cut":case"paste":F=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Mo;break;case"toggle":case"beforetoggle":F=G}var ye=(i&4)!==0,Ze=!ye&&(t==="scroll"||t==="scrollend"),k=ye?H!==null?H+"Capture":null:H;ye=[];for(var P=j,U;P!==null;){var Z=P;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||k===null||(Z=hr(P,k),Z!=null&&ye.push(fl(P,Z,U))),Ze)break;P=P.return}0<ye.length&&(H=new F(H,Te,null,a,Y),W.push({event:H,listeners:ye}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Co&&(Te=a.relatedTarget||a.fromElement)&&(Xn(Te)||Te[Si]))break e;if((F||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Te=a.relatedTarget||a.toElement,F=j,Te=Te?Xn(Te):null,Te!==null&&(Ze=u(Te),ye=Te.tag,Te!==Ze||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(F=null,Te=j),F!==Te)){if(ye=As,Z="onMouseLeave",k="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Mo,Z="onPointerLeave",k="onPointerEnter",P="pointer"),Ze=F==null?H:sr(F),U=Te==null?H:sr(Te),H=new ye(Z,P+"leave",F,a,Y),H.target=Ze,H.relatedTarget=U,Z=null,Xn(Y)===j&&(ye=new ye(k,P+"enter",Te,a,Y),ye.target=U,ye.relatedTarget=Ze,Z=ye),Ze=Z,F&&Te)t:{for(ye=F,k=Te,P=0,U=ye;U;U=ka(U))P++;for(U=0,Z=k;Z;Z=ka(Z))U++;for(;0<P-U;)ye=ka(ye),P--;for(;0<U-P;)k=ka(k),U--;for(;P--;){if(ye===k||k!==null&&ye===k.alternate)break t;ye=ka(ye),k=ka(k)}ye=null}else ye=null;F!==null&&v_(W,H,F,ye,!1),Te!==null&&Ze!==null&&v_(W,Ze,Te,ye,!0)}}e:{if(H=j?sr(j):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var ce=Up;else if(Lp(H))if(zp)ce=FS;else{ce=HS;var xe=jS}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&aa(j.elementType)&&(ce=Up):ce=qS;if(ce&&(ce=ce(t,j))){kp(W,ce,a,Y);break e}xe&&xe(t,H,j),t==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&bo(H,"number",H.value)}switch(xe=j?sr(j):window,t){case"focusin":(Lp(xe)||xe.contentEditable==="true")&&(da=xe,nf=j,Uo=null);break;case"focusout":Uo=nf=da=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,Kp(W,a,Y);break;case"selectionchange":if($S)break;case"keydown":case"keyup":Kp(W,a,Y)}var pe;if(Re)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Hn?Bn(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(pt&&a.locale!=="ko"&&(Hn||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Hn&&(pe=vu()):(wn=Y,et="value"in wn?wn.value:wn.textContent,Hn=!0)),xe=dc(j,_e),0<xe.length&&(_e=new xo(_e,t,null,a,Y),W.push({event:_e,listeners:xe}),pe?_e.data=pe:(pe=jn(a),pe!==null&&(_e.data=pe)))),(pe=Fe?Vo(t,a):US(t,a))&&(_e=dc(j,"onBeforeInput"),0<_e.length&&(xe=new xo("onBeforeInput","beforeinput",null,a,Y),W.push({event:xe,listeners:_e}),xe.data=pe)),IA(W,t,j,a,Y)}y_(W,i)})}function fl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function dc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=hr(t,a),f!=null&&l.unshift(fl(t,f,d)),f=hr(t,i),f!=null&&l.push(fl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function v_(t,i,a,l,f){for(var d=i._reactName,E=[];a!==null&&a!==l;){var S=a,D=S.alternate,j=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||j===null||(D=j,f?(j=hr(a,d),j!=null&&E.unshift(fl(a,j,D))):f||(j=hr(a,d),j!=null&&E.push(fl(a,j,D)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var xA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function E_(t){return(typeof t=="string"?t:""+t).replace(xA,`
`).replace(MA,"")}function T_(t,i){return i=E_(i),E_(t)===i}function mc(){}function Xe(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&bn(t,""+l);break;case"className":cs(t,"class",l);break;case"tabIndex":cs(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cs(t,a,l);break;case"style":Ro(t,l,d);break;case"data":if(i!=="object"){cs(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=zn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",f.name,f,null),Xe(t,i,"formEncType",f.formEncType,f,null),Xe(t,i,"formMethod",f.formMethod,f,null),Xe(t,i,"formTarget",f.formTarget,f,null)):(Xe(t,i,"encType",f.encType,f,null),Xe(t,i,"method",f.method,f,null),Xe(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=zn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=mc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=zn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),us(t,"popover",l);break;case"xlinkActuate":An(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":An(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":An(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":An(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":An(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":An(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":An(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":An(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":An(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":us(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gu.get(a)||a,us(t,a,l))}}function Cd(t,i,a,l,f,d){switch(a){case"style":Ro(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!os.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):us(t,a,l)}}}function zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,E,a,null)}}f&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":Pe("invalid",t);var S=d=E=f=null,D=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":E=Y;break;case"checked":D=Y;break;case"defaultChecked":j=Y;break;case"value":d=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Xe(t,i,l,Y,a,null)}}Ao(t,d,S,D,j,E,f,!1),lr(t);return;case"select":Pe("invalid",t),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:Xe(t,i,f,S,a,null)}i=d,a=E,t.multiple=!!l,i!=null?ur(t,!!l,i,!1):a!=null&&ur(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Xe(t,i,E,S,a,null)}pu(t,l,f,d),lr(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,D,l,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<hl.length;l++)Pe(hl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,j,l,a,null)}return;default:if(aa(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Cd(t,i,Y,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Xe(t,i,S,l,a,null))}function VA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,S=null,D=null,j=null,Y=null;for(F in a){var W=a[F];if(a.hasOwnProperty(F)&&W!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(F)||Xe(t,i,F,null,l,W)}}for(var H in l){var F=l[H];if(W=a[H],l.hasOwnProperty(H)&&(F!=null||W!=null))switch(H){case"type":d=F;break;case"name":f=F;break;case"checked":j=F;break;case"defaultChecked":Y=F;break;case"value":E=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==W&&Xe(t,i,H,F,l,W)}}So(t,E,S,D,j,Y,d,f);return;case"select":F=E=S=H=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":F=D;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":H=d;break;case"defaultValue":S=d;break;case"multiple":E=d;default:d!==D&&Xe(t,i,f,d,l,D)}i=S,a=E,l=F,H!=null?ur(t,!!a,H,!1):!!l!=!!a&&(i!=null?ur(t,!!a,i,!0):ur(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Xe(t,i,S,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":H=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Xe(t,i,E,f,l,d)}mu(t,H,F);return;case"option":for(var Te in a)if(H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Xe(t,i,Te,null,l,H)}for(D in l)if(H=l[D],F=a[D],l.hasOwnProperty(D)&&H!==F&&(H!=null||F!=null))switch(D){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(t,i,D,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&Xe(t,i,ye,null,l,H);for(j in l)if(H=l[j],F=a[j],l.hasOwnProperty(j)&&H!==F&&(H!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Xe(t,i,j,H,l,F)}return;default:if(aa(i)){for(var Ze in a)H=a[Ze],a.hasOwnProperty(Ze)&&H!==void 0&&!l.hasOwnProperty(Ze)&&Cd(t,i,Ze,void 0,l,H);for(Y in l)H=l[Y],F=a[Y],!l.hasOwnProperty(Y)||H===F||H===void 0&&F===void 0||Cd(t,i,Y,H,l,F);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&Xe(t,i,k,null,l,H);for(W in l)H=l[W],F=a[W],!l.hasOwnProperty(W)||H===F||H==null&&F==null||Xe(t,i,W,H,l,F)}var Id=null,Od=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function S_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Dd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nd=null;function PA(){var t=window.event;return t&&t.type==="popstate"?t===Nd?!1:(Nd=t,!0):(Nd=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,LA=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,kA=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(t){return w_.resolve(null).then(t).catch(UA)}:b_;function UA(t){setTimeout(function(){throw t})}function Or(t){return t==="head"}function R_(t,i){var a=i,l=0,f=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&dl(E.documentElement),a&2&&dl(E.body),a&4)for(a=E.head,dl(a),E=a.firstChild;E;){var S=E.nextSibling,D=E.nodeName;E[rr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(f===0){t.removeChild(d),Tl(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Tl(i)}function xd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xd(a),ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function zA(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[rr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function BA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function Md(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function jA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Vd=null;function C_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function I_(t,i,a){switch(i=pc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function dl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ta(t)}var xn=new Map,O_=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bi=ie.d;ie.d={f:HA,r:qA,D:FA,C:GA,L:$A,m:KA,X:YA,S:QA,M:XA};function HA(){var t=Bi.f(),i=oc();return t||i}function qA(t){var i=Zn(t);i!==null&&i.tag===5&&i.type==="form"?Yg(i):Bi.r(t)}var Ua=typeof document>"u"?null:document;function D_(t,i,a){var l=Ua;if(l&&typeof i=="string"&&i){var f=Dt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),O_.has(f)||(O_.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),zt(i,"link",t),mt(i),l.head.appendChild(i)))}}function FA(t){Bi.D(t),D_("dns-prefetch",t,null)}function GA(t,i){Bi.C(t,i),D_("preconnect",t,i)}function $A(t,i,a){Bi.L(t,i,a);var l=Ua;if(l&&t&&i){var f='link[rel="preload"][as="'+Dt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Dt(a.imageSizes)+'"]')):f+='[href="'+Dt(t)+'"]';var d=f;switch(i){case"style":d=za(t);break;case"script":d=Ba(t)}xn.has(d)||(t=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),xn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(ml(d))||i==="script"&&l.querySelector(pl(d))||(i=l.createElement("link"),zt(i,"link",t),mt(i),l.head.appendChild(i)))}}function KA(t,i){Bi.m(t,i);var a=Ua;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Dt(l)+'"][href="'+Dt(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ba(t)}if(!xn.has(d)&&(t=_({rel:"modulepreload",href:t},i),xn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(d)))return}l=a.createElement("link"),zt(l,"link",t),mt(l),a.head.appendChild(l)}}}function QA(t,i,a){Bi.S(t,i,a);var l=Ua;if(l&&t){var f=ar(l).hoistableStyles,d=za(t);i=i||"default";var E=f.get(d);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(ml(d)))S.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},a),(a=xn.get(d))&&Pd(t,a);var D=E=l.createElement("link");mt(D),zt(D,"link",t),D._p=new Promise(function(j,Y){D.onload=j,D.onerror=Y}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,yc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(d,E)}}}function YA(t,i){Bi.X(t,i);var a=Ua;if(a&&t){var l=ar(a).hoistableScripts,f=Ba(t),d=l.get(f);d||(d=a.querySelector(pl(f)),d||(t=_({src:t,async:!0},i),(i=xn.get(f))&&Ld(t,i),d=a.createElement("script"),mt(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function XA(t,i){Bi.M(t,i);var a=Ua;if(a&&t){var l=ar(a).hoistableScripts,f=Ba(t),d=l.get(f);d||(d=a.querySelector(pl(f)),d||(t=_({src:t,async:!0,type:"module"},i),(i=xn.get(f))&&Ld(t,i),d=a.createElement("script"),mt(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function N_(t,i,a,l){var f=(f=Ee.current)?gc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=za(a.href),a=ar(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=za(a.href);var d=ar(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(ml(t)))&&!d._p&&(E.instance=d,E.state.loading=5),xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(t,a),d||ZA(f,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ba(a),a=ar(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function za(t){return'href="'+Dt(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function x_(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function ZA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zt(i,"link",a),mt(i),t.head.appendChild(i))}function Ba(t){return'[src="'+Dt(t)+'"]'}function pl(t){return"script[async]"+t}function M_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(l)return i.instance=l,mt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),zt(l,"style",f),yc(l,a.precedence,t),i.instance=l;case"stylesheet":f=za(a.href);var d=t.querySelector(ml(f));if(d)return i.state.loading|=4,i.instance=d,mt(d),d;l=x_(a),(f=xn.get(f))&&Pd(l,f),d=(t.ownerDocument||t).createElement("link"),mt(d);var E=d;return E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),zt(d,"link",l),i.state.loading|=4,yc(d,a.precedence,t),i.instance=d;case"script":return d=Ba(a.src),(f=t.querySelector(pl(d)))?(i.instance=f,mt(f),f):(l=a,(f=xn.get(d))&&(l=_({},a),Ld(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),mt(f),zt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,yc(l,a.precedence,t));return i.instance}function yc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Ld(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var _c=null;function V_(t,i,a){if(_c===null){var l=new Map,f=_c=new Map;f.set(a,l)}else f=_c,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[rr]||d[dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var S=l.get(E);S?S.push(d):l.set(E,[d])}}return l}function P_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function WA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function L_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var gl=null;function JA(){}function eb(t,i,a){if(gl===null)throw Error(s(475));var l=gl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=za(a.href),d=t.querySelector(ml(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=vc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,mt(d);return}d=t.ownerDocument||t,a=x_(a),(f=xn.get(f))&&Pd(a,f),d=d.createElement("link"),mt(d);var E=d;E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),zt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=vc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function tb(){if(gl===null)throw Error(s(475));var t=gl;return t.stylesheets&&t.count===0&&kd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&kd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function vc(){if(this.count--,this.count===0){if(this.stylesheets)kd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ec=null;function kd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ec=new Map,i.forEach(nb,t),Ec=null,vc.call(t))}function nb(t,i){if(!(i.state.loading&4)){var a=Ec.get(t);if(a)var l=a.get(null);else{a=new Map,Ec.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=vc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var yl={$$typeof:ee,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function ib(t,i,a,l,f,d,E,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.hiddenUpdates=ea(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function k_(t,i,a,l,f,d,E,S,D,j,Y,W){return t=new ib(t,i,a,E,S,D,j,W),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),t.current=d,d.stateNode=t,i=_f(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Sf(d),t}function U_(t){return t?(t=ya,t):ya}function z_(t,i,a,l,f,d){f=U_(f),l.context===null?l.context=f:l.pendingContext=f,l=gr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=yr(t,l,i),a!==null&&(vn(a,t,i),Ko(a,t,i))}function B_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ud(t,i){B_(t,i),(t=t.alternate)&&B_(t,i)}function j_(t){if(t.tag===13){var i=ga(t,67108864);i!==null&&vn(i,t,67108864),Ud(t,67108864)}}var Tc=!0;function rb(t,i,a,l){var f=$.T;$.T=null;var d=ie.p;try{ie.p=2,zd(t,i,a,l)}finally{ie.p=d,$.T=f}}function sb(t,i,a,l){var f=$.T;$.T=null;var d=ie.p;try{ie.p=8,zd(t,i,a,l)}finally{ie.p=d,$.T=f}}function zd(t,i,a,l){if(Tc){var f=Bd(l);if(f===null)Rd(t,i,l,Sc,a),q_(t,l);else if(ob(f,t,i,a,l))l.stopPropagation();else if(q_(t,l),i&4&&-1<ab.indexOf(t)){for(;f!==null;){var d=Zn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Ln(d.pendingLanes);if(E!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var D=1<<31-en(E);S.entanglements[1]|=D,E&=~D}oi(d),(Ge&6)===0&&(sc=an()+500,cl(0))}}break;case 13:S=ga(d,2),S!==null&&vn(S,d,2),oc(),Ud(d,2)}if(d=Bd(l),d===null&&Rd(t,i,l,Sc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Rd(t,i,l,null,a)}}function Bd(t){return t=Io(t),jd(t)}var Sc=null;function jd(t){if(Sc=null,t=Xn(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Sc=t,null}function H_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uu()){case At:return 2;case Ot:return 8;case Ei:case Gh:return 32;case _o:return 268435456;default:return 32}default:return 32}}var Hd=!1,Dr=null,Nr=null,xr=null,_l=new Map,vl=new Map,Mr=[],ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(t,i){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":_l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function El(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Zn(i),i!==null&&j_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function ob(t,i,a,l,f){switch(i){case"focusin":return Dr=El(Dr,t,i,a,l,f),!0;case"dragenter":return Nr=El(Nr,t,i,a,l,f),!0;case"mouseover":return xr=El(xr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return _l.set(d,El(_l.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,vl.set(d,El(vl.get(d)||null,t,i,a,l,f)),!0}return!1}function F_(t){var i=Xn(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Qh(t.priority,function(){if(a.tag===13){var l=_n();l=Eo(l);var f=ga(a,l);f!==null&&vn(f,a,l),Ud(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ac(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Bd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Co=l,a.target.dispatchEvent(l),Co=null}else return i=Zn(a),i!==null&&j_(i),t.blockedOn=a,!1;i.shift()}return!0}function G_(t,i,a){Ac(t)&&a.delete(i)}function lb(){Hd=!1,Dr!==null&&Ac(Dr)&&(Dr=null),Nr!==null&&Ac(Nr)&&(Nr=null),xr!==null&&Ac(xr)&&(xr=null),_l.forEach(G_),vl.forEach(G_)}function bc(t,i){t.blockedOn===i&&(t.blockedOn=null,Hd||(Hd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lb)))}var wc=null;function $_(t){wc!==t&&(wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(jd(l||a)===null)continue;break}var d=Zn(a);d!==null&&(t.splice(i,3),i-=3,jf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Tl(t){function i(D){return bc(D,t)}Dr!==null&&bc(Dr,t),Nr!==null&&bc(Nr,t),xr!==null&&bc(xr,t),_l.forEach(i),vl.forEach(i);for(var a=0;a<Mr.length;a++){var l=Mr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)F_(a),a.blockedOn===null&&Mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[Lt]||null;if(typeof d=="function")E||$_(a);else if(E){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Lt]||null)S=E.formAction;else if(jd(f)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),$_(a)}}}function qd(t){this._internalRoot=t}Rc.prototype.render=qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=_n();z_(a,l,t,i,null,null)},Rc.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;z_(t.current,2,null,t,null,null),oc(),i[Si]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ti();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Mr.length&&i!==0&&i<Mr[a].priority;a++);Mr.splice(a,0,t),a===0&&F_(t)}};var K_=e.version;if(K_!=="19.1.0")throw Error(s(527,K_,"19.1.0"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var ub={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Wi=Cc.inject(ub),Ft=Cc}catch{}}return Rl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=uy,d=cy,E=hy,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=k_(t,1,!1,null,null,a,l,f,d,E,S,null),t[Si]=i.current,wd(t),new qd(i)},Rl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=uy,E=cy,S=hy,D=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=k_(t,1,!0,i,a??null,l,f,d,E,S,D,j),i.context=U_(null),a=i.current,l=_n(),l=Eo(l),f=gr(l),f.callback=null,yr(a,f,l),a=l,i.current.lanes=a,ft(i,a),oi(i),t[Si]=i.current,wd(t),new Rc(i)},Rl.version="19.1.0",Rl}var YE;function fx(){if(YE)return cm.exports;YE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cm.exports=hx(),cm.exports}var dx=fx();const mx=hb(dx);mx.createRoot(document.getElementById("root")).render(me.jsx(Bw,{children:me.jsx(lx,{})}));
